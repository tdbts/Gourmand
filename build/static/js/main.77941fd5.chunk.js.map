{"version":3,"sources":["scrapers/yelp/constants.js","lookup/Lookup.js","storage/Storage.js","storage/NullStorage.js","storage/StorageFactory.js","user/LikedMedia.js","utils/pipe.js","search/formatSearchURL.js","components/App/Header/SearchForm/Suggestions/Suggestions.js","components/App/Header/SearchForm/SearchForm.js","components/App/Header/ShowLikedCheckbox/ShowLikedCheckbox.js","components/App/Header/DistanceDropdown/DistanceDropdown.js","components/App/Header/Header.js","scrapers/yelp/YelpMedia.js","domain/Media.js","components/utils/getLikedMediaIcon.js","components/App/common/Gallery/GalleryMedia/GalleryMedia.js","components/App/common/Gallery/SearchCurtain/SearchCurtain.js","components/utils/getUnlikedMediaIcon.js","components/App/common/Gallery/MediaModal/MediaModal.js","components/App/common/Gallery/Gallery.js","components/App/Home/home-page-media-order.js","components/App/Home/Home.js","components/App/SearchResults/ErrorMessage/ErrorMessage.js","components/App/SearchResults/SearchResults.js","components/App/About/About.js","components/App/Contact/Contact.js","components/App/Login/Login.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["UNKNOWN","BIRDS_EYE","DRIVING","BIKING","WALKING","BLOCKS","lookup","restaurantsByID","mediaByID","restaurantIDsByMediaID","Lookup","restaurants","combineMaps","reduce","map","restaurant","id","updateRestaurantsByID","flatMap","media","updateMediaByID","mapMediaIDtoRestaurantID","updateRestaurantIDsByMediaID","updateLookup","existing","update","Storage","storage","this","key","silent","getItem","prop","setItem","removeItem","clear","action","e","window","console","debug","NullStorage","StorageFactory","localStorage","LikedMedia","data","liked","json","JSON","parse","restaurantID","Set","hydrate","setLiked","isLiked","delete","size","unlikeMedia","add","likeMedia","serialize","set","stringify","has","pipe","fns","x","v","f","distances","constants","formatSearchURL","url","description","location","distance","params","concat","encodeURIComponent","addDescription","addLocation","addDistance","join","Suggestions","requestLocation","ListGroup","className","onMouseDown","preventDefault","ListGroupItem","tag","onClick","src","SearchForm","onSearchRequest","setDescription","setLocation","requestingLocation","setRequestingLocation","useState","suggestionsOpen","setSuggestionsOpen","hideSuggestions","onSubmit","log","InputGroup","InputGroupAddon","addonType","Input","type","value","onChange","event","target","placeholder","getLocationIconSource","prevState","onBlur","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","toPrecision","error","timeout","maximumAge","Button","ShowLikedCheckbox","FormGroup","check","Label","checked","dropdownTextContents","DEFAULT","options","getDropdownText","DistanceDropdown","setDistance","isOpen","setIsOpen","Dropdown","toggle","outline","color","DropdownToggle","caret","DropdownMenu","positionFixed","DropdownItem","Header","setShowLiked","Navbar","light","expand","NavbarBrand","href","NavbarToggler","Collapse","in","navbar","Nav","NavItem","NavLink","YelpMedia","caption","source","stem","slice","_","pick","bson","width","height","xmlns","fill","viewBox","d","delays","GalleryMedia","onMediaSelection","delayIndex","Math","floor","random","length","delay","getThumbnailURLs","getLikedMediaIcon","SearchCurtain","Spinner","formatCaption","onAddressClick","address","replace","formatMapLink","open","focus","MediaModal","selected","onMediaLikeToggle","onClose","name","neighborhoods","categories","rating","onIconClick","Modal","ModalHeader","ModalBody","getUnlikedMediaIcon","ModalFooter","Gallery","selectedMediaID","isLikedMedia","searching","showLiked","mediaModalProps","mediaOrder","onEntered","transitionTimeout","canShuffleMedia","setCanShuffleMedia","shuffledMedia","setShuffledMedia","canEnter","setCanEnter","canRender","renderedMedia","populateFromBSON","getOrderedMedia","filter","filterLiked","useEffect","allMedia","shuffle","getShuffledMedia","CSSTransition","classNames","appear","onExit","onExited","i","Home","props","canShowText","setCanShowText","ErrorMessage","message","SearchResults","About","style","backgroundImage","onSubmitButtonClick","Contact","Container","Form","Login","get","likedMedia","getLikedMedia","getRestaurantIDByMediaID","updateSearchURL","history","push","getSelectedMediaInfo","selectedID","getMediaByID","getRestaurantByID","checkResponseForErrors","response","ok","Error","statusText","checkJSONForErrors","some","mediaCount","getRestaurantJSON","fetch","then","App","setRestaurants","setSelectedMediaID","setLikedMedia","setSearching","setError","useHistory","browserLocation","useLocation","search","scroll","top","left","behavior","catch","pathname","headerProps","getAll","toggleLikedMedia","galleryProps","searchResultsProps","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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,iBAAkBA,EAAkB/H,QAASiK,EAAapM,EAAMH,KAAvGmO,MAElB3B,GAAa,cAAC,GAAD,CAAevE,MAAOA,IACpCqE,GAAmB,cAAC,GAAD,eAAgBI,UC3CzB,IACb,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,0BCxRa0B,GAfF,SAACC,GAAW,IAAD,EACkBlJ,oBAAS,GAD3B,mBACbmJ,EADa,KACAC,EADA,KAGpB,OACI,sBAAKjK,UAAU,sBAAf,UACI,sBAAKA,UAAW,4BAA+BgK,EAAc,QAAU,IAAvE,UACI,oBAAIhK,UAAU,wCAAd,sBACA,oBAAIA,UAAU,kCAAd,kCAEJ,cAAC,GAAD,2BAAa+J,GAAb,IAAoB1B,WAAYA,GAAYC,UAAW,kBAAM2B,GAAe,IACxE1B,kBAAmB,UCJpB2B,I,OATM,SAAC,GAAa,IAAZ3H,EAAW,EAAXA,MACtB,OACC,sBAAKvC,UAAU,0BAAf,UACC,qBAAKA,UAAU,gBAAf,wCACA,sBAAKA,UAAU,gBAAf,cAAiCuC,EAAM4H,QAAvC,YCUYC,GAbO,SAAC,GAAD,IAAE7H,EAAF,EAAEA,MAAOlH,EAAT,EAASA,YAAa2M,EAAtB,EAAsBA,gBAAiBjC,EAAvC,EAAuCA,iBAAkBkC,EAAzD,EAAyDA,aAAcC,EAAvE,EAAuEA,UAAWC,EAAlF,EAAkFA,UAAWC,EAA7F,EAA6FA,gBAA7F,OAClB7F,EACM,cAAC,GAAD,CAAcA,MAAOA,IACrB,cAAC,GAAD,CACElH,YAAaA,EACb2M,gBAAiBA,EACjBjC,iBAAkBA,EAClBkC,aAAcA,EACdC,UAAWA,EACXC,UAAWA,EACXC,gBAAiBA,K,SCEdiC,I,OAXD,SAAC,GAAD,uBACV,qBAAKrK,UAAU,kBAAkBsK,MAAO,CAACC,gBAAiB,8BAA1D,SACI,sBAAKvK,UAAU,iBAAf,UACI,8BAAG,sBAAMA,UAAU,eAAhB,sBAAH,8HACA,0RACA,oCAAM,sBAAMA,UAAU,eAAhB,sBAAN,2EACA,8C,6BCDNwK,GAAsB,SAACzN,GACzBA,EAAEmD,kBA6BSuK,GA1BC,SAAC,GACb,OADqB,gBAEjB,sBAAKzK,UAAU,oBAAf,UACI,qBAAKA,UAAU,qBAAqBsK,MAAO,CAACC,gBAAiB,kCAC7D,eAACG,GAAA,EAAD,CAAW1K,UAAU,4BAArB,UACI,oBAAIA,UAAU,iBAAd,wBACA,eAAC2K,GAAA,EAAD,CAAM3K,UAAU,eAAhB,UACI,cAAC4C,EAAA,EAAD,UACI,cAACtB,EAAA,EAAD,CAAOC,KAAK,OAAO8F,KAAK,OAAOzF,YAAY,WAE/C,cAACgB,EAAA,EAAD,UACI,cAACtB,EAAA,EAAD,CAAOC,KAAK,QAAQ8F,KAAK,QAAQzF,YAAY,YAEjD,cAACgB,EAAA,EAAD,UACI,cAACtB,EAAA,EAAD,CAAOC,KAAK,OAAO8F,KAAK,UAAUzF,YAAY,cAElD,cAACgB,EAAA,EAAD,UACI,cAACtB,EAAA,EAAD,CAAOC,KAAK,WAAW8F,KAAK,UAAUzF,YAAY,mBAEtD,cAACc,EAAA,EAAD,CAAQrC,QAASmK,GAAqB7G,MAAM,YAA5C,8BCnBLiH,I,OAXD,SAAC,GACX,OADmB,gBAEf,qBAAK5K,UAAU,kBAAmBsK,MAAO,CAACC,gBAAiB,8BAA3D,SACI,sBAAKvK,UAAU,iBAAf,UACI,oBAAIA,UAAU,0BAAd,+DACA,oBAAIA,UAAU,aAAd,uHCQRjB,GAAcC,EAChBhE,GAAS,IAAII,EACbiB,IAAU,IAAIe,GAAiByN,IAAI7N,OAAOK,cAC1CyN,GAAa,IAAIxN,EAEvB,SAAuBjB,GACtB,IACC,OAAOA,EAAQwO,IAAI,cAClB,MAAO9N,GACRC,OAAOC,QAAQC,MAAMH,IANWgO,CAAc1O,IAAUA,IAU1D,SAAS4L,GAAavM,GACrB,OAAOA,GAAMoP,GAAW9M,QAAQhD,GAAOgQ,yBAAyBtP,GAAKA,GAQtE,SAASuP,GAAT,EAA4DC,GAAU,IAA5C/L,EAA2C,EAA3CA,YAAaC,EAA8B,EAA9BA,SAAUC,EAAoB,EAApBA,SAMhD,GALApC,QAAQiE,IAAI,qBACZjE,QAAQiE,IAAI,eAAgB/B,GAC5BlC,QAAQiE,IAAI,YAAa9B,GACzBnC,QAAQiE,IAAI,YAAa7B,GAEpBD,EAAL,CAGA,IAAMF,EAAMD,EAAgB,UAAW,CAACE,cAAaC,WAAUC,aAE/D,OADApC,QAAQiE,IAAI,OAAQhC,GACbgM,EAAQC,KAAKjM,IAGrB,SAASkM,GAAqBC,EAAYrQ,GAGzC,MAAO,CAAEa,MAFKb,EAAOsQ,aAAaD,GAElB5P,WADGT,EAAOuQ,kBAAkBvQ,EAAOgQ,yBAAyBK,KAI7E,SAASG,GAAuBC,GAC/B,GAAIA,EAASC,GACZ,OAAOD,EAGR,MAAM,IAAIE,MAAMF,EAASG,YAG1B,SAASC,GAAmBxQ,GAG3B,GAFiBA,EAAYyQ,MAAK,SAAArQ,GAAU,OAAIA,EAAWsQ,WAAa,KAGvE,OAAO1Q,EAGR,MAAM,IAAIsQ,MAAM,wBAWjB,SAASK,GAAkB9M,GAC1B,OAAO+M,MAAM/M,GACXgN,KAAKV,IACLU,MAAK,SAAAT,GAAQ,OAAIA,EAAShO,UAC1ByO,KAAKL,IAyGOM,OAtGf,WAAgB,IAAD,EACQtL,mBAAS,IADjB,mBACP3B,EADO,aAEwB2B,mBAAS,KAFjC,mBAEPxF,EAFO,KAEM+Q,EAFN,OAGwBvL,mBAAS,IAHjC,mBAGP1B,EAHO,KAGMsB,EAHN,OAIkBI,mBAAS,IAJ3B,mBAIPzB,EAJO,KAIGsB,EAJH,OAKsCG,oBAAS,GAL/C,mBAKPF,EALO,KAKaC,EALb,OAMgCC,mBAAS,IANzC,mBAMPmH,EANO,KAMUqE,EANV,OAOsBxL,mBAAS,IAP/B,mBAOKyL,GAPL,aAQoBzL,oBAAS,GAR7B,mBAQPqH,EARO,KAQIqE,EARJ,OASY1L,mBAAS,MATrB,mBASP0B,EATO,KASAiK,EATA,OAUkB3L,mBAAS9B,GAAUrE,SAVrC,mBAUP2E,EAVO,KAUGgE,EAVH,OAWoBxC,oBAAS,GAX7B,mBAWPsH,EAXO,KAWIjE,EAXJ,KAYRgH,EAAUuB,cACVC,EAAkBC,cAGxBvD,qBAAU,WACLsD,EAAgBE,QACnB3P,QAAQiE,IAAI,kBAAmBhC,GAC/BsN,EAAS,MACTD,GAAa,GAEbP,GAAkB9M,GAChBgN,MAAK,SAAAzO,GACLzC,GAAOmB,OAAOsB,GACdR,QAAQiE,IAAI,UAAWlG,IACvBoR,EAAe3O,GACf8O,GAAa,GAzCjBvP,OAAO6P,OAAO,CACbC,IAAK,EACLC,KAAM,EACNC,SAAU,cAyCPC,OAAM,SAAAlQ,GAAC,OAAIyP,EAASzP,OACiB,MAA7B2P,EAAgBQ,UAC1BlB,GAAkB,gCAChBE,MAAK,SAAAzO,GACLzC,GAAOmB,OAAOsB,GACd2O,EAAe3O,QAGhB,CAACiP,IAEJtD,qBAAU,WACT6B,GAAgB,CAAC9L,cAAaC,WAAUC,YAAW6L,KACjD,CAAC7L,IAEJ,IAAM8N,EAAc,CACnBhO,cACAsB,iBACArB,WACAsB,cACAC,qBACAC,wBACAsD,eACA7E,WACAgE,cACA7C,gBAAiB,kBAAMyK,GAAgB,CAAC9L,cAAaC,WAAUC,YAAW6L,KAGrE9C,EAAkB,CACvBlB,SAAUkE,GAAqBpD,EAAiBhN,IAChDmM,kBAAmB,SAACzL,GAAD,OArHrB,SAA0BA,EAAI4Q,GAC7BxB,GAAWrH,OAAOzI,GAAOgQ,yBAAyBtP,GAAKA,GACvD4Q,EAAcxB,GAAWsC,UAmHGC,CAAiB3R,EAAI4Q,IAChDlF,QAAS,kBAAMiF,EAAmB,KAClCrO,QAASiK,GAAaD,IAGjBsF,EAAe,CACpBjS,cACA4M,gBACAC,YACAC,YACAH,kBACAjC,iBAAkBsG,GAGbkB,EAAkB,aACvBhL,SACG+K,GAGJ,OACC,sBAAKtN,UAAU,MAAf,UACC,cAAC,EAAD,eAAYmN,IACZ,eAAC,IAAD,WACC,cAAC,IAAD,CAAOK,OAAK,EAACC,KAAM,IAAnB,SACC,cAAC,GAAD,2BAAUH,GAAV,IAAwBlF,gBAAiBA,OAE1C,cAAC,IAAD,CAAOqF,KAAM,UAAb,SACC,cAAC,GAAD,2BAAmBF,GAAnB,IAAuCnF,gBAAiBA,OAEzD,cAAC,IAAD,CAAOqF,KAAM,SAAb,SACC,cAAC,GAAD,MAED,cAAC,IAAD,CAAOA,KAAM,WAAb,SACC,cAAC,GAAD,MAED,cAAC,IAAD,CAAOA,KAAM,SAAb,SACC,cAAC,GAAD,aC7KUC,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB1B,MAAK,YAAkD,IAA/C2B,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,SCCdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACI,cAAC,KAAD,UACE,cAAC,GAAD,QAGNC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.77941fd5.chunk.js","sourcesContent":["const DOMAIN = \"https://www.yelp.com\";\r\nconst LOCATION_SEARCH_PREFIX = DOMAIN + \"/search/snippet\";\r\n\r\nconst queryTypes = {\r\n\tLOCATION: 'location',\r\n\tCOORDINATE: 'coordinate'\r\n};\r\n\r\nconst url = {\r\n\tDOMAIN,\r\n\tLOCATION_SEARCH_PREFIX\r\n};\r\n\r\nconst distances = {\r\n\tUNKNOWN: 'unknown',\r\n\tBIRDS_EYE: 0,\r\n\tDRIVING: 1,\r\n\tBIKING: 2,\r\n\tWALKING: 3,\r\n\tBLOCKS: 4\r\n};\r\n\r\nexport default {\r\n\tqueryTypes,\r\n\turl,\r\n\tdistances\r\n};\r\n","/*\r\n * Lookup\r\n */\r\n const lookup = { \r\n \trestaurantsByID: {}, \r\n \tmediaByID: {}, \r\n \trestaurantIDsByMediaID: {} \r\n };\r\n\r\nexport default class Lookup {\r\n\tupdate(restaurants) {\r\n\t\tupdateLookup(lookup, restaurants);\r\n\t}\r\n\r\n\tgetMediaByID(id) {\r\n\t\treturn lookup.mediaByID[id];\r\n\t}\r\n\r\n\tgetRestaurantByID(id) {\r\n\t\treturn lookup.restaurantsByID[id];\r\n\t}\r\n\r\n\tgetRestaurantIDByMediaID(id) {\r\n\t\treturn lookup.restaurantIDsByMediaID[id];\r\n\t}\r\n};\r\n\r\nfunction updateLookup(lookup, restaurants) {\r\n\tlookup.restaurantsByID = combineMaps(lookup.restaurantsByID, updateRestaurantsByID(restaurants));\r\n\tlookup.mediaByID = combineMaps(lookup.mediaByID, updateMediaByID(restaurants));\r\n\tlookup.restaurantIDsByMediaID = combineMaps(lookup.restaurantIDsByMediaID, updateRestaurantIDsByMediaID(restaurants));\r\n}\r\n\r\nfunction updateRestaurantsByID(restaurants) {\r\n\treturn restaurants.reduce((map, restaurant) => {\r\n\t\tmap[restaurant.id] = restaurant;\r\n\t\treturn map;\r\n\t}, {});\r\n}\r\n\r\nfunction updateMediaByID(restaurants) {\r\n\treturn restaurants\r\n\t\t.flatMap(restaurant => restaurant.media)\r\n\t\t.reduce((map, media) => {\r\n\t\t\tmap[media.id] = media;\r\n\t\t\treturn map;\r\n\t\t}, {});\r\n}\r\n\r\nfunction updateRestaurantIDsByMediaID(restaurants) {\r\n\treturn restaurants.reduce((map, restaurant) => (combineMaps(map, mapMediaIDtoRestaurantID(restaurant))), {});\r\n}\r\n\r\nfunction mapMediaIDtoRestaurantID(restaurant) {\r\n\treturn restaurant.media\r\n\t\t.reduce((map, media) => {\r\n\t\t\tmap[media.id] = restaurant.id;\r\n\t\t\treturn map;\r\n\t\t}, {});\r\n}\r\n\r\nfunction combineMaps(existing, update) {\r\n\treturn { ...existing, ...update };\r\n}","/*\r\n * Storage\r\n *\r\n * Facade for storage mechanism (e.g. localStorage) \r\n */\r\nexport default class Storage {\r\n\r\n\tconstructor(storage) {\r\n\t\tthis.storage = storage;\r\n\t}\r\n\r\n\tget(key) {\r\n\t\treturn silent(() => this.storage.getItem(key));\r\n\t}\r\n\r\n\tset(key, prop) {\r\n\t\treturn silent(() => this.storage.setItem(key, prop));\r\n\t}\r\n\r\n\tremove(key) {\r\n\t\treturn silent(() => this.storage.removeItem(key));\r\n\t}\r\n\r\n\tremoveAll() {\r\n\t\treturn silent(() => this.storage.clear());\r\n\t}\r\n\r\n}\r\n\r\n/*\r\n * Utility Functions\r\n */\r\nfunction silent(action) {\r\n\ttry {\r\n\t\treturn action();\r\n\t} catch (e) {\r\n\t\twindow.console.debug(\"Storage Exception:\", e);\r\n\t}\r\n}\r\n","/*\r\n * NullStorage\r\n *\r\n * Class returned by 'StorageFactory' if there is no local storage.\r\n */\r\nexport default class NullStorage {\r\n\tget() {}\r\n\tset() {}\r\n\tremove() {}\r\n\tremoveAll() {}\r\n}\r\n","import Storage from './Storage.js';\r\nimport NullStorage from './NullStorage.js';\r\n\r\nexport default class StorageFactory {\r\n\r\n\tget(localStorage) {\r\n\t\treturn localStorage ? new Storage(localStorage) : new NullStorage();\r\n\t}\r\n\r\n}\r\n","/*\r\n\r\n// User: data\r\n{\r\n\tliked: {\r\n\t\t[restaurant id]: Set<id>\r\n\t}\r\n}\r\n\r\n*/\r\nexport default class LikedMedia {\r\n\r\n\tconstructor(data, storage) {\r\n\t\tthis.liked = setLiked(data);\r\n\t\tthis.storage = storage;\r\n\t}\r\n\r\n\ttoggle(restaurantID, id) {\r\n\t\tconst liked = { ...this.liked };\r\n\r\n\t\tthis.liked = isLiked(liked, restaurantID, id)\r\n\t\t\t? unlikeMedia(liked, restaurantID, id)\r\n\t\t\t: likeMedia(liked, restaurantID, id);\r\n\r\n\t\t// TODO: Set up event mechanism for updating storage\r\n\t\tupdateStorage(this.storage, this.serialize());\r\n\t}\r\n\r\n\tgetAll() {\r\n\t\treturn this.liked;\r\n\t}\r\n\r\n\tisLiked(restaurantID, id) {\r\n\t\treturn isLiked(this.liked, restaurantID, id);\r\n\t}\r\n\r\n\tserialize() {\r\n\t\tconst json = {};\r\n\r\n\t\tfor (const restaurantID in this.liked) {\r\n\t\t\tjson[restaurantID] = [...this.liked[restaurantID]];\r\n\t\t}\r\n\r\n\t\treturn JSON.stringify(json);\r\n\t}\r\n}\r\n\r\n/*\r\n * Utility Functions\r\n */\r\nfunction setLiked(data) {\r\n\tif (!(data))\r\n\t\treturn {};\r\n\r\n\t// Assume data is pre-hydrated object if not string\r\n\treturn (typeof data === 'string') ? hydrate(data) : data;\r\n}\r\n\r\nfunction isLiked(liked, restaurantID, id) {\r\n\treturn (restaurantID in liked)\r\n\t\t&& liked[restaurantID].has(id);\r\n}\r\n\r\nfunction likeMedia(liked, restaurantID, id) {\r\n\tif (!(restaurantID in liked)) {\r\n\t\t\tliked[restaurantID] = new Set();\r\n\t}\r\n\r\n\tliked[restaurantID].add(id);\r\n\r\n\treturn liked;\r\n}\r\n\r\nfunction unlikeMedia(liked, restaurantID, id) {\r\n\tliked[restaurantID].delete(id);\r\n\r\n\tif (liked[restaurantID].size === 0) {\r\n\t\tdelete liked[restaurantID];\r\n\t}\r\n\r\n\treturn liked;\r\n}\r\n\r\nfunction updateStorage(storage, data) {\r\n\tstorage.set('likedMedia', data);\r\n}\r\n\r\nfunction hydrate(data) {\r\n\tconst json = JSON.parse(data);\r\n\r\n\tfor (const restaurantID in json) {\r\n\t\tjson[restaurantID] = new Set(json[restaurantID]);\r\n\t}\r\n\r\n\treturn json;\r\n}\r\n","const pipe = (...fns) => (x) => fns.reduce((v, f) => f(v), x);\n\nexport default pipe;\n","import constants from '../scrapers/yelp/constants';\nimport pipe from '../utils/pipe';\n\nconst { distances } = constants;\n\nconst formatSearchURL = (url, {description, location, distance}) => {\n    return [\n        url,\n        pipe(\n            params => addDescription(description, params),\n            params => addLocation(location, params),\n            params => addDistance(distance, params)\n        )([]).join(\"&\")\n    ].join(\"?\");\n};\n\nfunction addDescription(description, params) {\n    return params.concat(`description=${encodeURIComponent(description)}`);\n}\n\nfunction addLocation(location, params) {\n    return params.concat(`location=${encodeURIComponent(location)}`);\n}\n\nfunction addDistance(distance, params) {\n    return (distance && (distance !== distances.UNKNOWN))\n        ? params.concat(`distance=${encodeURIComponent(distance)}`)\n        : params;\n}\n\nexport default formatSearchURL;\n","import './Suggestions.css';\r\nimport { ListGroup, ListGroupItem } from 'reactstrap';\r\n\r\n/*\r\n The parent search form hides suggestions on blur events from the location input, removing this component from the DOM before the click handler of this component can fire.  To mitigate, prevent default on mousedown.\r\n*/\r\nfunction Suggestions({requestLocation}) {\r\n\treturn  (\r\n\t\t<ListGroup className=\"suggestions-list-group\" onMouseDown={e => e.preventDefault()}>\r\n\t\t\t<ListGroupItem tag=\"button\" onClick={requestLocation} action>\r\n\t\t\t\t<div className=\"current-location-container\">\r\n\t\t\t\t\t<img className=\"current-location-icon\" src=\"cursor-fill.svg\" />\r\n\t\t\t\t\t<span>Current Location</span>\r\n\t\t\t\t</div>\r\n\t\t\t</ListGroupItem>\r\n\t\t</ListGroup>\r\n\t);\r\n}\r\n\r\nexport default Suggestions;","import './SearchForm.css';\r\nimport { useState } from 'react';\r\nimport { InputGroup, InputGroupAddon, Input, Button } from 'reactstrap';\r\nimport Suggestions from './Suggestions/Suggestions';\r\n\r\nfunction SearchForm({onSearchRequest, description, setDescription, location, setLocation, requestingLocation, setRequestingLocation}) {\r\n\tconst [suggestionsOpen, setSuggestionsOpen] = useState(false);\r\n\r\n\tconst onDescriptionChange = (event) => {\r\n\t\tsetDescription(event.target.value);\r\n\t};\r\n\r\n\tconst onLocationChange = (event) => {\r\n\t\tconst location = event.target.value;\r\n\r\n\t\tif (location) {\r\n\t\t\thideSuggestions();\r\n\t\t}\r\n\r\n\t\tsetLocation(location);\r\n\t};\r\n  \t\r\n  \tconst toggleSuggestions = () => setSuggestionsOpen(prevState => !prevState);\r\n  \tconst hideSuggestions = () => setSuggestionsOpen(false);\r\n  \tconst getLocationIconSource = (requestingLocation) => requestingLocation ? \"spinner.png\" : \"target.svg\";\r\n  \t\r\n  \tconst requestLocation = (e) => {\r\n  \t\t// Prevent page refresh\r\n  \t\te.preventDefault();\r\n  \t\tconsole.log(\"Requesting location.\");\r\n  \t\tsetRequestingLocation(true);\r\n\t\thideSuggestions();\r\n  \t\tnavigator.geolocation.getCurrentPosition(\r\n\t\t\te => {\r\n\t\t\t\tconst { latitude, longitude } = e.coords;\r\n\t\t\t\tsetRequestingLocation(false);\r\n\t\t\t\tsetLocation(`${latitude.toPrecision(7)}, ${longitude.toPrecision(7)}`);\r\n\t\t\t},\r\n\t\t\te => {\r\n\t\t\t\tsetRequestingLocation(false);\r\n\t\t\t\tconsole.error(e);\r\n\t\t\t},\r\n\t\t\t{timeout: 10 * 1000, maximumAge: 60 * 1000});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form className=\"search-form\" onSubmit={(e) => onSubmit(e, onSearchRequest)}>\r\n\t\t\t<div className=\"input-group-container\">\r\n\t\t\t\t<InputGroup>\r\n\t\t\t\t\t<InputGroupAddon addonType=\"prepend\">\r\n\t\t\t\t\t\t<img className=\"input-icon query-icon\" src=\"magnifying-glass.svg\" />\r\n\t\t\t\t\t</InputGroupAddon>\r\n\t\t\t\t\t<Input className=\"search-input\" type=\"text\" value={description} onChange={onDescriptionChange} placeholder=\"e.g. Pizza\" />\r\n\t\t\t\t</InputGroup>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"input-group-container\">\r\n\t\t\t\t<InputGroup>\r\n\t\t\t\t\t<InputGroupAddon addonType=\"prepend\">\r\n\t\t\t\t\t\t<img className={`input-icon location-icon ${requestingLocation ? \"rotate\" : \"\"}`} src={getLocationIconSource(requestingLocation)} />\r\n\t\t\t\t\t</InputGroupAddon>\r\n\t\t\t\t\t<Input className=\"search-input\" type=\"text\" value={location} onChange={onLocationChange} onClick={toggleSuggestions}\r\n\t\t\t\t\t\tonBlur={hideSuggestions} placeholder=\"e.g. Brooklyn, NY 11237\" />\r\n\t\t\t\t</InputGroup>\r\n\t\t\t\t{suggestionsOpen && <Suggestions requestLocation={requestLocation} />}\r\n\t\t\t</div>\r\n\t\t\t<Button className=\"search-submit-button hidden-submit\" type=\"submit\" />\r\n\t\t</form>\r\n\t);\r\n}\r\n\r\nfunction onSubmit(e, onSearchRequest) {\r\n\te.preventDefault();\r\n\tconsole.log(\"onSubmit()\");\r\n\tonSearchRequest();\r\n}\r\n\r\nexport default SearchForm;\r\n","import './ShowLikedCheckbox.css';\nimport {FormGroup, Input, Label} from \"reactstrap\";\n\nfunction ShowLikedCheckbox({onChange}) {\n    return (\n        <FormGroup className={\"header-check filter-liked-check\"} check>\n            <Label check>\n                <Input type=\"checkbox\" onChange={e => onChange(e.target.checked)} />\n                <span className={\"header-check-text\"}>Show Liked</span>\n            </Label>\n        </FormGroup>\n    );\n}\n\nexport default ShowLikedCheckbox;","import './DistanceDropdown.css';\nimport { useState } from 'react';\nimport constants from '../../../../scrapers/yelp/constants';\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\n\nconst { distances } = constants;\nconst dropdownTextContents = {\n    DEFAULT: \"Distance\",\n    options: [\n        \"Bird's-eye View\",\n        \"Driving (5 mi.)\",\n        \"Biking (2 mi.)\",\n        \"Walking (1 mi.)\",\n        \"Within 4 Blocks\"\n    ]\n};\n\nconst DistanceDropdown = ({distance, setDistance, onSearchRequest}) => {\n    const [isOpen, setIsOpen] = useState(false);\n    const toggle = () => setIsOpen(!isOpen);\n\n    return (\n        <Dropdown className=\"distance-dropdown\" isOpen={isOpen} toggle={toggle} size=\"sm\" outline={true} color=\"secondary\">\n            <DropdownToggle caret>{getDropdownText(distance)}</DropdownToggle>\n            <DropdownMenu positionFixed={true}>\n                <DropdownItem onClick={() => setDistance(distances.BLOCKS)}>Within 4 Blocks</DropdownItem>\n                <DropdownItem onClick={() => setDistance(distances.WALKING)}>Walking (1 mi.)</DropdownItem>\n                <DropdownItem onClick={() => setDistance(distances.BIKING)}>Biking (2 mi.)</DropdownItem>\n                <DropdownItem onClick={() => setDistance(distances.DRIVING)}>Driving (5 mi.)</DropdownItem>\n                <DropdownItem onClick={() => setDistance(distances.BIRDS_EYE)}>Bird's-eye View</DropdownItem>\n            </DropdownMenu>\n        </Dropdown>\n    );\n};\n\nfunction getDropdownText(distance) {\n    return (distance === distances.UNKNOWN)\n        ? dropdownTextContents.DEFAULT\n        : dropdownTextContents.options[distance];\n}\n\nexport default DistanceDropdown;\n","import './Header.css';\r\nimport { useState } from 'react';\r\nimport {\r\n\tCollapse,\r\n\tNavbar,\r\n\tNavbarToggler,\r\n\tNavbarBrand,\r\n\tNav,\r\n\tNavItem,\r\n\tNavLink\r\n} from 'reactstrap';\r\n// import { NavLink } from 'react-router-dom'\r\nimport SearchForm from './SearchForm/SearchForm';\r\nimport ShowLikedCheckbox from './ShowLikedCheckbox/ShowLikedCheckbox';\r\nimport DistanceDropdown from './DistanceDropdown/DistanceDropdown';\r\n\r\nfunction Header({onSearchRequest, description, setDescription, location, setLocation,\r\n\t\t\t\t\trequestingLocation, setRequestingLocation, setShowLiked, distance, setDistance}) {\r\n\tconst [isOpen, setIsOpen] = useState(false);\r\n\tconst toggle = () => setIsOpen(!isOpen);\r\n\r\n\treturn (\r\n\t\t<Navbar className=\"header-navbar\" color=\"light\" light expand=\"md\">\r\n\t\t\t<NavbarBrand href=\"/\">Gourmand</NavbarBrand>\r\n        \t<NavbarToggler onClick={toggle} />\r\n        \t<Collapse className=\"header-collapse\" in={true} isOpen={isOpen} timeout={200} navbar>\r\n        \t\t<Nav className=\"header-nav\" navbar>\r\n\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t<NavLink href=\"/about\">About</NavLink>\r\n\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t<NavLink href=\"/contact\">Contact</NavLink>\r\n\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t<NavLink href=\"/login\">Log In</NavLink>\r\n\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t<NavItem className=\"nav-separator\" />\r\n\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t<SearchForm description={description} setDescription={setDescription} location={location}\r\n\t\t\t\t\t\t\t\t\tsetLocation={setLocation} requestingLocation={requestingLocation} setRequestingLocation={setRequestingLocation}\r\n\t\t\t\t\t\t\t\t\tonSearchRequest={onSearchRequest} />\r\n\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t<NavItem className=\"dropdown-nav-item\">\r\n\t\t\t\t\t\t<DistanceDropdown distance={distance} setDistance={setDistance} onSearchRequest={onSearchRequest} />\r\n\t\t\t\t\t\t<ShowLikedCheckbox onChange={setShowLiked} />\r\n\t\t\t\t\t</NavItem>\r\n        \t\t</Nav>\r\n        \t</Collapse>\r\n\t\t</Navbar>\r\n\t);\r\n}\r\n\r\nexport default Header;","import Media from '../../domain/Media.js';\r\n\r\nclass YelpMedia extends Media {\r\n\r\n\tconstructor(id, type, caption, source) {\r\n\t\tsuper(id, type, caption, source);\r\n\t}\r\n\r\n\tgetThumbnailURLs() {\r\n\t\tconst stem = this.source.slice(0, -5);\r\n\r\n\t\treturn [\r\n\t\t\tstem + '258s.jpg',\r\n\t\t\tstem + '300s.jpg',\r\n\t\t\tstem + '348s.jpg'\r\n\t\t];\r\n\t}\r\n\r\n}\r\n\r\nexport default YelpMedia","import _ from'underscore';\r\n\r\nexport default class Media {\r\n\r\n\tconstructor(id, type, caption, source) {\r\n\t\tthis.id = id;\r\n\t\tthis.type = type;\r\n\t\tthis.caption = caption;\r\n\t\tthis.source = source;\r\n\t}\r\n\r\n\ttoJSON() {\r\n\t\treturn _.pick(this, 'id', 'type', 'caption', 'source');\r\n\t}\r\n\r\n\tpopulateFromBSON(bson) {\r\n\t\tconst { id, type, caption, source } = bson;\r\n\r\n\t\tthis.id = id;\r\n\t\tthis.type = type;\r\n\t\tthis.caption = caption;\r\n\t\tthis.source = source;\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n}\r\n","export default (width, height, color, className, onClick = () => {}) => {\r\n\treturn (\r\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width={width} height={height} fill={color} className={className} onClick={onClick} viewBox=\"0 0 16 16\">\r\n\t\t  <path d=\"M4 1c2.21 0 4 1.755 4 3.92C8 2.755 9.79 1 12 1s4 1.755 4 3.92c0 3.263-3.234 4.414-7.608 9.608a.513.513 0 0 1-.784 0C3.234 9.334 0 8.183 0 4.92 0 2.755 1.79 1 4 1z\"/>\r\n\t\t</svg>\r\n\t);\r\n}","import './GalleryMedia.css';\r\nimport getLikedMediaIcon from '../../../../utils/getLikedMediaIcon';\r\n\r\nconst delays = [50, 250, 500, 750, 1000];\r\n\r\nconst GalleryMedia = ({ media, onMediaSelection, isLiked }) => {\r\n\tconst delayIndex = Math.floor(Math.random() * delays.length);\r\n\tconst delay = delays[delayIndex];\r\n\treturn (\r\n\t\t<div className={`food-thumbnail-container transition-delay-${delay}`}>\r\n\t\t\t<img className=\"food-thumbnail\" src={media.getThumbnailURLs()[0]} onClick={() => onMediaSelection(media.id)} />\r\n\t\t\t{ isLiked && getLikedMediaIcon(\"16\", \"16\", \"white\", \"liked-media-icon\") }\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default GalleryMedia;\r\n","import './SearchCurtain.css';\r\nimport { Spinner } from 'reactstrap';\r\n\r\nconst SearchCurtain = ({ color }) => {\r\n\treturn (\r\n\t\t<div className=\"search-curtain\">\r\n\t\t\t<div className=\"search-curtain-backdrop\"></div>\r\n\t\t\t<Spinner className=\"search-curtain-spinner\" color={color} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default SearchCurtain;\r\n","export default (width, height, color, className, onClick = () => {}) => {\r\n\treturn (\r\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width={width} height={height} fill={color} className={className} onClick={onClick} viewBox=\"0 0 16 16\">\r\n\t\t  <path d=\"M8 6.236l-.894-1.789c-.222-.443-.607-1.08-1.152-1.595C5.418 2.345 4.776 2 4 2 2.324 2 1 3.326 1 4.92c0 1.211.554 2.066 1.868 3.37.337.334.721.695 1.146 1.093C5.122 10.423 6.5 11.717 8 13.447c1.5-1.73 2.878-3.024 3.986-4.064.425-.398.81-.76 1.146-1.093C14.446 6.986 15 6.131 15 4.92 15 3.326 13.676 2 12 2c-.777 0-1.418.345-1.954.852-.545.515-.93 1.152-1.152 1.595L8 6.236zm.392 8.292a.513.513 0 0 1-.784 0c-1.601-1.902-3.05-3.262-4.243-4.381C1.3 8.208 0 6.989 0 4.92 0 2.755 1.79 1 4 1c1.6 0 2.719 1.05 3.404 2.008.26.365.458.716.596.992a7.55 7.55 0 0 1 .596-.992C9.281 2.049 10.4 1 12 1c2.21 0 4 1.755 4 3.92 0 2.069-1.3 3.288-3.365 5.227-1.193 1.12-2.642 2.48-4.243 4.38z\"/>\r\n\t\t</svg>\r\n\t);\r\n}","import './MediaModal.css';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport getUnlikedMediaIcon from '../../../../utils/getUnlikedMediaIcon';\r\nimport getLikedMediaIcon from '../../../../utils/getLikedMediaIcon';\r\n\r\nfunction formatCaption(caption) {\r\n\treturn caption ? `\"${caption}\"` : \"[ No Caption ]\";\r\n}\r\n\r\nfunction onAddressClick(e, address) {\r\n\te.preventDefault();\r\n\topenInNewTab(formatMapLink(address));\r\n}\r\n\r\nfunction openInNewTab(url) {\r\n\tconst win = window.open(url, '_blank');\r\n\twin.focus();\r\n}\r\n\r\nfunction formatMapLink(address) {\r\n\treturn \"https://www.google.com/maps/place/\" + address.join(\" \").replace(\" \", \"+\");\r\n}\r\n\r\nfunction MediaModal({selected, onMediaLikeToggle, onClose, isLiked}) {\r\n\tconsole.log(\"selected:\", selected);\r\n\tconst {media, restaurant} = selected;\r\n\tconst {source, caption} = media;\r\n\tconst {name, address, neighborhoods, categories, rating} = restaurant;\r\n\tconst onIconClick = () => onMediaLikeToggle(media.id);\r\n\r\n\treturn (\r\n\t\t<Modal isOpen={!!selected} toggle={onClose} className=\"media-modal-container\">\r\n\t\t\t<ModalHeader toggle={onClose}>\r\n\t\t\t\t<div className=\"caption\">{formatCaption(caption)}</div>\r\n\t\t\t</ModalHeader>\r\n\t\t\t<ModalBody>\r\n\t\t\t\t<div className=\"modal-info-container\">\r\n\t\t\t\t\t<div className=\"modal-image-container\">\r\n\t\t\t\t\t\t<img className=\"food-media modal-image\" src={source} />\r\n\t\t\t\t\t\t{ isLiked ? getLikedMediaIcon(\"32\", \"32\", \"white\", \"liked-media-icon\", onIconClick) : getUnlikedMediaIcon(\"32\", \"32\", \"white\", \"unliked-media-icon\", onIconClick) }\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"restaurant-details-container\">\r\n\t\t\t\t\t\t{name && <div className=\"restaurant-name\">{name}</div>}\r\n\t\t\t\t\t\t{address && <a onClick={e => onAddressClick(e, address)} className=\"restaurant-address\">{address.join(\" \")}</a>}\r\n\t\t\t\t\t\t{neighborhoods && <div className=\"restaurant-neighborhoods\">{neighborhoods.join(\", \")}</div>}\r\n\t\t\t\t\t\t{categories && <div className=\"restaurant-categories\">{categories.join(\", \")}</div>}\r\n\t\t\t\t\t\t{rating && <div className=\"restaurant-rating\">{rating}</div>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t        </ModalBody>\r\n\t        <ModalFooter>\r\n\t\t\t\t<Button color=\"secondary\" onClick={onClose}>Close</Button>\r\n\t\t\t</ModalFooter>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n\r\nexport default MediaModal;\r\n","import './Gallery.css';\r\nimport { useState, useEffect } from 'react';\r\nimport _ from 'underscore';\r\nimport YelpMedia from '../../../../scrapers/yelp/YelpMedia';\r\nimport GalleryMedia from './GalleryMedia/GalleryMedia';\r\nimport SearchCurtain from './SearchCurtain/SearchCurtain';\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport MediaModal from \"./MediaModal/MediaModal\";\r\n\r\nconst Gallery = ({restaurants, selectedMediaID, onMediaSelection, isLikedMedia, searching,\r\n\t\t\t\t\t showLiked, mediaModalProps, mediaOrder, onEntered, transitionTimeout}) => {\r\n\t// console.log(\"media:\", media);\r\n\tconst [canShuffleMedia, setCanShuffleMedia] = useState(!mediaOrder);\r\n\tconst [shuffledMedia, setShuffledMedia] = useState([]);\r\n\tconst [canEnter, setCanEnter] = useState(true);\r\n\tconst color = restaurants.length ? \"light\" : \"dark\";\r\n\tconst canRender = !searching && canEnter;\r\n\tconst renderedMedia = mediaOrder ? getOrderedMedia(restaurants, mediaOrder) : filterLiked(shuffledMedia, showLiked, isLikedMedia);\r\n\tconst onExited = () => {\r\n\t\tsetCanShuffleMedia(true);\r\n\t\tsetCanEnter(true);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!mediaOrder) {\r\n\t\t\tsetCanShuffleMedia(canRender);\r\n\t\t}\r\n\t}, [searching, canEnter])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (canShuffleMedia) {\r\n\t\t\tsetShuffledMedia(getShuffledMedia(restaurants));\r\n\t\t}\r\n\t}, [canShuffleMedia, restaurants]);\r\n\r\n\treturn (\r\n\t\t<CSSTransition classNames={\"thumbnail-swap\"} in={canRender} appear={true} timeout={transitionTimeout || 2000}\r\n\t\t\t\t\t   onEntered={onEntered} onExit={() => setCanEnter(false)} onExited={onExited}>\r\n\t\t\t<div className=\"gallery-container\">\r\n\t\t\t\t{renderedMedia.map((media, i) => (\r\n\t\t\t\t\t<GalleryMedia key={i} searching={searching} media={media} onMediaSelection={onMediaSelection} isLiked={isLikedMedia(media.id)} />\r\n\t\t\t\t))}\r\n\t\t\t\t{ searching && <SearchCurtain color={color} />}\r\n\t\t\t\t{selectedMediaID && <MediaModal {...mediaModalProps} />}\r\n\t\t\t</div>\r\n\t\t</CSSTransition>\r\n\t);\r\n};\r\n\r\nfunction filterLiked(media, showLiked, isLikedMedia) {\r\n\treturn showLiked ? media.filter(media => isLikedMedia(media.id)) : media;\r\n}\r\n\r\nfunction getOrderedMedia(restaurants, mediaOrder) {\r\n\tif (!restaurants.length)\r\n\t\treturn restaurants;\r\n\r\n\tconst mediaByID = restaurants\r\n\t\t.flatMap(restaurant => restaurant.media)\r\n\t\t.reduce((map, media) => {\r\n\t\t\tmap[media.id] = media;\r\n\t\t\treturn map;\r\n\t\t}, {})\r\n\r\n\treturn mediaOrder\r\n\t\t.map(id => mediaByID[id])\r\n\t\t.map(media => (new YelpMedia().populateFromBSON(media)));\r\n}\r\n\r\nfunction getShuffledMedia(restaurants) {\r\n\tconsole.log(\"restaurants:\", restaurants);\r\n\tconst allMedia = restaurants.flatMap(restaurant => restaurant.media);\r\n\tconsole.log(\"allMedia:\", allMedia);\r\n\tconst shuffledMedia = _.shuffle(allMedia);\r\n\t// console.log(\"shuffledMedia:\", shuffledMedia);\r\n\treturn shuffledMedia.map(media => (new YelpMedia().populateFromBSON(media)));\r\n}\r\n\r\nexport default Gallery;\r\n","export default [\n  \"JNsJSjDbHH_91HOgr9sCqA\",\n  \"wo-1PKMWwINpEruBqNfIiA\",\n  \"OjACJUFH4i2z95YTr6GSgQ\",\n  \"sIC6jUU6UyubnbaZABkPpw\",\n  \"ovBiAPKpbdwmyc211faoaw\",\n  \"hR32TiJU8Mj5xiVKPS9sOg\",\n  \"OLXglWKpO-NitEylMwCQxQ\",\n  \"i6WcIItMrKuc25riTVOa2w\",\n  \"8KFavjNsE0jNLoWKbuPnYw\",\n  \"D8LU7rW8ZcXcJFuQ5r5EwQ\",\n  \"0MWnjl5XGnV4xBHCfFolHA\",\n  \"B5s2mWw0uJHNp7nc05_5KQ\",\n  \"AcDV9qosxkG4F5053_Ozxw\",\n  \"naIBxTISC8Uk7LxT6JwMZw\",\n  \"RvY295n0LZJibhykdV6WKQ\",\n  \"45KqZOXPwaa5C-wUt0GCZw\",\n  \"Cy7bxhH5pi-7gbx-R6xBGg\",\n  \"RImsui5ffpABZK5E44RB6g\",\n  \"o7GLF55dSQa6wl1mdbNS_Q\",\n  \"2_8haA6LztxN2_ogne931g\",\n  \"MQfHzPOrDdTuvi2vRp0Jgg\",\n  \"NH62518Xp90Ag4sSSrlLew\",\n  \"Aig8NfT8y3n7RonTEU6R7g\",\n  \"4lyvug7N5is0tlt8DjdwdA\",\n  \"-ph6ERHAOUGpSjj-5ezB3w\",\n  \"BHX43-5b1GsqL5QTcUyUWA\",\n  \"clscwgOF9_Ecq-Rwsq7jyQ\",\n  \"9ImrGJAQShKpXYR3XHor9Q\",\n  \"tZ6zE8xRjJU14XoCvN69MA\",\n  \"PFbKEyhlyJIuGZxhqSYlKw\",\n  \"lXecmyyxcrZ_ikvmMZuIJQ\",\n  \"UbLCIVs44kMrn-gohcayPA\",\n  \"kdu-OQK_5o2s2vZZK0Hm8A\",\n  \"lX4tl9QhM0uibrKtGKaKrQ\",\n  \"8Xsu2-QtcqrfNFM9zjEDvg\",\n  \"vCKELKLC9LhdOHrct-g5vw\",\n  \"D-5Td9XsLCekgq3joM6JFw\",\n  \"jplZpyYsst7iMuNs8v6YYw\",\n  \"5fADHJFD-B6RTfDDTp5NCg\",\n  \"L82MR10Nq8MIXmB4UOsEmw\",\n  \"kDX7cOkf3n34he2RB-d1eg\",\n  \"j6Hoc_YpJJapUUzfd9pj8A\",\n  \"e6-wcjGC3l6mfDiUajmJSQ\",\n  \"rLLQ3hoJuV85AcYefCF70A\",\n  \"Fwxy9LPkKU3fDhypYlevtw\",\n  \"H31x1q8-iLFOKIRNdwyBow\",\n  \"Uwu-RxcqVD7y86WeEagmMg\",\n  \"4HgjE1WxnRcMH1pT48HQCg\",\n  \"yMEtHWpKYf2uKQg9RD-oRA\",\n  \"5UYmKinQN08dvY7nh53qUw\",\n  \"qzrLMUmERPzG5RZKNvpGmQ\",\n  \"xcqOeQeP-H81cBvdpYU79A\",\n  \"pFuYCC-Ku1aRxkFfhCuUoQ\",\n  \"Ve4NvCiHBzHXzHdMVLoB5A\",\n  \"rJACyS33y3DJjrGqNltOGA\",\n  \"yxkJzN_-yPoXgx9p2FUk1g\",\n  \"Xt3BMLOZ7UxbbBGDAjGeWw\",\n  \"C3JP2BzCnoH7dTCg7P_v3A\",\n  \"pz3VgZc7pjEseCn14IBSwA\",\n  \"p9efKzd_XlOT33FKjGkPvA\",\n  \"Mz8N4ggsttTNdvXBxJgr5A\",\n  \"UR6lKY9PaWj1MvIIuMuFsA\",\n  \"QItGxOxkzFcqffTPxOqHiQ\",\n  \"Ic7CbsC9rEVt5WAMzyLmjg\",\n  \"vJDupyCGamWh_langjIeCA\",\n  \"2tiJtevOs04KrOavcwlfgw\",\n  \"Igu73RMmDbK9FSxXURNRnA\",\n  \"PfoqacfguTrChnllOdhviA\",\n  \"xbZwukayFmDsSTq63zcxoA\",\n  \"uMZiwJW9Seie0qSweM7afA\",\n  \"w72XS1-aeaaW55xLPfpcMQ\",\n  \"UkcIOtVlql4t0fzvrA18yw\",\n  \"3ggCaHyfXBxfmjiWNK7INg\",\n  \"y-HgqTSKSPrnc4NvKTn7ug\",\n  \"jYhk78GEe3SWkCgLsXf4zA\",\n  \"O2ph1erEoN9AgOyEYiTn5g\",\n  \"daVm5y6lvydIXm8J0yeahQ\",\n  \"MXbcxwMw7WE7oEvLy06D3Q\",\n  \"iVIYrErB2c7lYaVeVY8PhQ\",\n  \"7ydOP9KWUZfjkG6PduP-6Q\",\n  \"W3WU8nLIJP9oComniVw4dQ\",\n  \"l_PKFtmRq5IrCb0_EDz2Mw\",\n  \"Rq6-DNHA1tq8ZnPMr3acPw\",\n  \"tbFfqvnbx_c4ti5hHi1SlQ\",\n  \"9rDurcWzj3mfXAxwjd77aA\",\n  \"DfUtbYYx6IZU3LzruOpQzQ\",\n  \"NrPQePur6gAyhu__z3sw3A\",\n  \"wlwyeZrOiSvxGGqaMcUITQ\",\n  \"0LNNUofcpOqaCNUCo-SaCw\",\n  \"veRMosxRuW4lGQeUbJJLFw\",\n  \"oM_2_du4oQf2sYiTsZspMg\",\n  \"XMZiAVCf0miasVcL5LvDSQ\",\n  \"pSL2DXLI6fqhLn8ISChjNA\",\n  \"V1whpgh_FFE3L27M9l-GWw\",\n  \"i1pZRFkEscwirTv28fXCgA\",\n  \"W_VFwCIhcAfD0GSIHggIRA\",\n  \"hly8cAfSwbj2x8n9G69pBg\",\n  \"3cR5LDisK0H3sci1qJ6H2w\",\n  \"wvsrArhDz_tmlR4zKkiu_Q\",\n  \"vOe8cjWK-kqDEf4a41qaCQ\",\n  \"4AiSsxe_qPlKhIN5RqhwlA\",\n  \"WHV0UBdhxcnu-l2GXed-IA\",\n  \"GiYuDZwjlSpM2IKu5HywNw\",\n  \"kp2qg5xCXazJI0Pnr0hrjA\",\n  \"OiRqQiw8BiQdwMFd9O3KUQ\",\n  \"hAmD1yFoHRc-I49T0JGVBw\",\n  \"8q5NtSUU6BfnAGbfueMVAw\",\n  \"0K9ICfofQeHuwzkip9-JcQ\",\n  \"0CxtRC4BfPobAfvBBLJH3g\",\n  \"Q1Nxm3LddoBmeBS3gp0bBA\",\n  \"sYVGp3t9SDlDgNme_1hKlA\",\n  \"gvefxJdh10SD40wbaIXAlA\",\n  \"LnARDrSUBIseN0ekqfhOkg\",\n  \"lO7qqJ3RReqWVtowQbgBHQ\",\n  \"0CKvm7jcENINXJc662o8mg\",\n  \"BQoK-TGb42fIoKTgZTmljQ\",\n  \"ENh0J-5YsJrRmymhnbuNDw\",\n  \"LlXWcYU5JlXRk7vYnKv1Ug\",\n  \"QUBBhio9ex9hGk8tQbaiGg\",\n  \"l69WViivrod87JNIbwuijw\",\n  \"dpLRH4yJSga1CYNqnl0-JQ\",\n  \"4dfe9qpe20P-vi3qFjWd4Q\",\n  \"fU2YVTzW1DnbJmMLJF0LqA\",\n  \"zYO7EXV_zvAKTuzpp6VCLw\",\n  \"m9Kk0RIZ7ik2gVZQxHwpKQ\",\n  \"R732FIRT1t8VTnsI8WBARA\",\n  \"3yeb0hektZBFwFQv_PCETQ\",\n  \"N2ZXh-mYh2OC18LVKOxYYg\",\n  \"uOuGHPJAibqiQo62UBAfiA\",\n  \"oB9CFo5mAZLjdN7-wdJM0A\",\n  \"0RUqVbsW5TSY4WQSPS4qaw\",\n  \"6_Ky3Pki7y4Z1OyjkvB4WQ\",\n  \"RAzDqVJnHpdon3fMRLXpJg\",\n  \"WzmcXvY8QONETe2ILIfvJA\",\n  \"ZxN4O-5pfIEE8__bRgq-ig\",\n  \"ctlIbv1YFhZzBUFgFlX16A\",\n  \"fh1uMBN8LYgRoJFE7-oQcQ\",\n  \"xUvlRWX_S8cGH9E9I3BtnA\",\n  \"fDVIjn_eyS0OH1ZPOIZiig\",\n  \"LNdSDlKQ0mxCCglKhpbM6w\",\n  \"md2VoTKoJDXAS1WqNhrSvA\",\n  \"QBDdF7OfR-Z0QrLBlCaKEQ\",\n  \"CBRXLSSG1izVdsN3wAQ8hg\",\n  \"auXDK3AgFZtsMK7S-boxiw\",\n  \"Y_uF4SEFltMXvIk6-EBhEA\",\n  \"qxjhi4aP3a9jYxcodsobgQ\",\n  \"NhqShORuY93bfjlWmkMNLg\",\n  \"ka6kFgDuyc48U8v3FZOf9g\",\n  \"Abo2xRkekn_DCiH5S0kaug\",\n  \"sU5Ei5QUUq6pxi1q512ArQ\",\n  \"iv9OCAmr8fVZ0Lfb3aETpg\",\n  \"qEJE7VBVBuSIuLaRUrvXFw\",\n  \"xRmiDmKYUutyGpiQJeNUNQ\",\n  \"fNsTswXTDbXKDaiL6EkKOQ\",\n  \"809WbuKqCiRAus0HhIC4xw\",\n  \"f0VuSjzCCLuLvl8VBuH8Ug\",\n  \"4zMaZBjZe5dNeCK3MgUY6A\",\n  \"9iMwXe02bT0gMlR7Wh7WUg\",\n  \"1n5xL5ojLR-_zseirQKaMw\",\n  \"vHEkgNTs2to038asQacioQ\",\n  \"Efl8ZtfINJ2kfQnz-XKArA\",\n  \"weti_fkdKwIVJoSF1bhWxQ\",\n  \"H7TB8AasxAAyGy8w2H2QUQ\",\n  \"3N2RJCtXNMtajAMlg__n1Q\",\n  \"UHyL-_GQ8X2V4Bpa7QLtWA\",\n  \"EDQx9Y5xkEf_8KUrWBJl3A\",\n  \"vgWdpAeaGqmFHM9L8tGtgQ\",\n  \"OCDZ4nXoaMHF0TraV0u2-g\",\n  \"hCokJLK3nSe79v3QBw350Q\",\n  \"ENeutQE66vkGKejCpK5YBQ\",\n  \"ug7Di7n7fwJtWCxXjAdJUA\",\n  \"vicWtlir2PmDErr7CPOn5g\",\n  \"M0pfb3y4P0nS5ITDlyYMAg\",\n  \"FfWr6_7wWK5Rh-L7O0ePZw\",\n  \"9wIuw-B6xrx3u5qUnjFqGQ\",\n  \"czwJ0-FBu8YawAlNjIlgAg\",\n  \"q7lprjX7HWWMMVmPZRumSw\",\n  \"lZPG59I1NAYFhAWsVbkykQ\",\n  \"LylkQiPOsKpHMsWsq5edtQ\",\n  \"e_324r-CPTCkBdy4xiaBOg\",\n  \"J4YQVCLQgrSFgKi7w4VC3w\",\n  \"k8xE8euAPO1IL0Jb2rUj3g\",\n  \"n2jkSNSPzaB5vtmvV96o4Q\",\n  \"SBzbmYOLWPGoIumSMhZ5cg\",\n  \"QYvr7o9MOVM4Pp25VDoX1A\",\n  \"sgTGLoIUgFMiRLHYSsaXTQ\",\n  \"B6y1kB7mWwV57vt720pPNg\",\n  \"tO_tQGw_f-QADv18bRj_tg\",\n  \"edK79Gb2DWwmNpcLr0bxgw\",\n  \"bSWbtKskAFSeiwBPQptANw\",\n  \"pJsI1Qn0KfNIJ3vJSo86Hg\",\n  \"mE31lNBhWgzBiogfD8wKKQ\",\n  \"E34Z5j5bD1lTRP9AggXKGw\",\n  \"Ielsk99frSq8ZgZtWmMV7Q\",\n  \"WiTOJZ9KhmZzTxImIzd8MA\",\n  \"6ktAcIBQq1kwQltlhIMF_Q\",\n  \"yKPqCs-qmlytm7S_1-v7ew\",\n  \"ApY7RxKF9GBUq5UBIR9oWg\",\n  \"aWUuDpjA_JK-m43WNLuiXg\",\n  \"6OIKrzLFTI-Wuc2pUq6UKQ\",\n  \"338rqVgi-EbZ0w6aOVaSMA\",\n  \"JXlvk5l-rBGgAd6jzgJq3A\",\n  \"UZUHWiG-ri4zIA3g5H-0hA\",\n  \"2Y2W9ODseGfJjMh1oAYwRw\",\n  \"04jG97Xp_lxgw3TzuRfqfA\",\n  \"kK9DQORFANn4siKSCWh7Dg\",\n  \"vSsJhO83ya0NKSJR_d2yEg\",\n  \"f84TV7bJ4TTaaO-ukN3beg\",\n  \"K-5oYvnlJIEwS3OscBPleQ\",\n  \"m1u4oDvuvEquRl4VZS99LA\",\n  \"xtBIEG8LasWJiciMvg9PqQ\",\n  \"N_pno3f44vvEKW7I8H8zJw\",\n  \"e_B8N0hFtCDRW-B9HYjZnQ\",\n  \"KX7hm2M5rGPumF9m4Rhe-w\",\n  \"W8FpY4J5ULzy8ynmN_w87A\",\n  \"rrhqw_KxQjk_Mgpcj8EZ8g\",\n  \"UUwv9s2CpVGhb45N2TcDCQ\",\n  \"NxRz73F29G6VhnnUSppXAw\",\n  \"Lr8q4jsPIf8Ec07dTftIDQ\",\n  \"U-2TJrLqdjg_6lTaKjQuDg\",\n  \"NDtp_YDFFzZy2bzf0uqMvA\",\n  \"OixGjexLhvMNCqslLcqpNw\",\n  \"nrcnymth7MNbjT36A_44sA\",\n  \"e2LGP3Raq7CnjkDU4QOjqg\",\n  \"EXIUlEfVuo8loO3lbciaEg\",\n  \"spAc-3AsXOVoQfP9gKBf4Q\",\n  \"ZkIU1VjyzFIn851iQQne8g\",\n  \"xtoTj3dB1z350vXDTyyylA\",\n  \"vUpNGgs14HleRcxlnlHb8w\",\n  \"5KRLy3Ffxx3plt4B4DgtqQ\",\n  \"QGOhDg47ELjOMfZZjcyfVA\",\n  \"w0taZk-vWDHYeia1bwdbdw\",\n  \"JdcCGJnQrWGbUgZN_1nwyQ\",\n  \"N1AnP4jD0A_v9NGHGaPA3g\",\n  \"aUKSp0O5oTLgsh47QyJ57g\",\n  \"_gYb3ud0t2qLcSZm01uw4g\",\n  \"5nMa2Q9wgXV93QSO7YF-bQ\",\n  \"yWtsQoI8ZMTNc69ZhWjf9Q\",\n  \"Q5DN9FyxcWfEQO8QiEnmDg\",\n  \"QgrEW-SMfez8OkMHlgg-Rw\",\n  \"VmEwVKxLt3VCL8hv6NPe6w\",\n  \"PG60HdnabTmn9b8UwpCXNw\",\n  \"KlSOY2HZNmBuulymoiXs_w\",\n  \"oaRdhGb7N2m6IkNqq-ncHA\",\n  \"W_Vq8-FqV49FdcU6RQ3viA\",\n  \"BIqND02sEnJNYfDxGo2YTQ\",\n  \"d75CAtSihlDlemmLVEy6qQ\",\n  \"D7m9dIhimYGLW7tR1k-hfw\",\n  \"B3eNfBS1DTkTZ6fasVL01A\",\n  \"h7XOvZN1JCdqJc02w31JyQ\",\n  \"y_XsYXPT-6kT3H7yr0UerA\",\n  \"eSN1CksnpTEp06RZ1I42lQ\",\n  \"wDoXSPITi4x50QZLjctX6w\",\n  \"L6lAx2lB9YQ08svNnAZjDA\",\n  \"gUWF6nllXvGUkHZeeS8tPQ\",\n  \"ZpgQiL05GC34I3AO4tj73A\",\n  \"vJvdTsk01tV1TVk-1QmrHA\",\n  \"cVTbsWuqEHEohKZcsyZnQQ\",\n  \"sa08ZzkTVO5hUAkFZEL7pg\",\n  \"tmZD5rQmlkrwzw3RYnUCVg\",\n  \"TSJiOmlubv2R1pv5mI4dGQ\",\n  \"6qyvj8i4aKF5rWjgsIx3rg\",\n  \"48doX4sxCRLxOl8a6AD35Q\",\n  \"HCFv8Wvv2FVM-rKCoAPNPg\",\n  \"z6_uI5oEm0T-BBnko0dqhQ\",\n  \"vuuvzo1r_pJ_qebiJvTW1A\",\n  \"lM0Xlh3wB8Wmx1Kg-KtnNg\",\n  \"iqytnpOnd5kFJsDkbXzOfg\",\n  \"lCJZ6KsMSXkV-PH1K1mgFA\",\n  \"ZMgLNoF3r4Dg1bAFKr7CfQ\",\n  \"cyGjVI-jk5DZAqyW0ge-Hw\",\n  \"6H1cEJT1U-jWh43-d7cB1Q\",\n  \"Uh1nGIHlHK_xwb1GHwlVpg\",\n  \"6PPnf5H2z2Z_30IF5wAF3g\",\n  \"V8grVFq6Lnzc5jJKuDAFAQ\",\n  \"xRNPKIfF2Gr02zBiBl3dSA\",\n  \"v3F-pk2-1RZ_P_WFtAbmdA\",\n  \"1v1N3C8_yrzDlHIrfSeUYg\",\n  \"L4nXb6_5NR7yMO__KyID_A\",\n  \"nltCMgItjXLrBCoVRsiVlQ\",\n  \"HzFpRjIo39Ywrht51n_Yuw\",\n  \"1FAsc4oIzF5O0H7Fr_WiCA\",\n  \"3uOja3d1pnogIuVCNOzAdw\",\n  \"TCXfmnrFjLSKcBdiWd-q4Q\",\n  \"qbIajNWouEP5U1HxY5I0yA\",\n  \"QOzWXDCkg9hvplsM6NPLQQ\",\n  \"HLLrQD3X30jEWd0dA5QwBw\",\n  \"e8m5L5Z7e9Q3x8Tn7Y6EVA\",\n  \"RvZt5Ar5uzFJfJgqo821lQ\",\n  \"NGuzAKvDcB1agIn7rEBi4A\",\n  \"IpSPUvkcsPy8E4TmvjY4HQ\",\n  \"VPegpBDKXuuNf7Oi-UsmHw\",\n  \"8fY9fA5TtCF0ebdTNph9mQ\",\n  \"qS-fQBZcEMKqgPI0CM1B2w\",\n  \"lP9ZT1q3TjeMmm-4N68vEw\",\n  \"9IjZp2EhoUQzeMMDyCJdrg\",\n  \"w1THUZhsnLEpUbaQ-XAfnA\",\n  \"kiJtk3Gn5J272vXgsfS-xQ\",\n  \"PAgOf4yyRFZR9Lc2gl5X_g\",\n  \"6KJ1a882332ckXcS1-dAbg\"\n];","import './Home.css';\nimport Gallery from \"../common/Gallery/Gallery\";\nimport { useState } from 'react';\nimport mediaOrder from './home-page-media-order.js'\n\nconst Home = (props) => {\n    const [canShowText, setCanShowText] = useState(false);\n\n    return (\n        <div className=\"home-page-container\">\n            <div className={\"home-page-text-container\"  + (canShowText ? \" show\" : \"\")}>\n                <h1 className=\"home-page-text home-page-company-name\">Gourmand</h1>\n                <h3 className=\"home-page-text home-page-slogan\">Find food.  Fast.</h3>\n            </div>\n            <Gallery {...props} mediaOrder={mediaOrder} onEntered={() => setCanShowText(true)}\n                transitionTimeout={50} />\n        </div>\n    );\n};\n\nexport default Home;\n","import './ErrorMessage.css';\r\n\r\nconst ErrorMessage = ({error}) => {\r\n\treturn (\r\n\t\t<div className=\"error-message-container\">\r\n\t\t\t<div className=\"error-apology\">Oops, something went sour.</div>\r\n\t\t\t<div className=\"error-message\">\"{error.message}\"</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ErrorMessage;","import ErrorMessage from \"./ErrorMessage/ErrorMessage\";\nimport Gallery from \"../common/Gallery/Gallery\";\n\nconst SearchResults = ({error, restaurants, selectedMediaID, onMediaSelection, isLikedMedia, searching, showLiked, mediaModalProps}) => (\n    error\n        ? <ErrorMessage error={error} />\n        : <Gallery\n            restaurants={restaurants}\n            selectedMediaID={selectedMediaID}\n            onMediaSelection={onMediaSelection}\n            isLikedMedia={isLikedMedia}\n            searching={searching}\n            showLiked={showLiked}\n            mediaModalProps={mediaModalProps} />\n);\n\nexport default SearchResults;","import './About.css';\nimport { Container } from 'reactstrap';\n\n// Due to a known 'create-react-app' bug (https://github.com/facebook/create-react-app/issues/9870), need to inline the background image from the 'public' directory\nconst About = ({}) => (\n    <div className=\"about-container\" style={{backgroundImage: 'url(/about-background.jpg)'}}>\n        <div className=\"text-container\">\n            <p><span className=\"company-name\">Gourmand</span> is for people who absolutely love food.  Those who always search for new restaurants, dishes, and neighborhoods to try.</p>\n            <p>The problem is that whittling down reviews to find good places is difficult and time consuming.  Information about restaurants is fractured into many different platforms.  Who has time to conduct a research project whenever they get a little hungry?</p>\n            <p>At <span className=\"company-name\">Gourmand</span>, we believe the food should speak for itself.  The rest will follow.</p>\n            <p>Salud!</p>\n        </div>\n    </div>\n);\n\nexport default About;\n","import './Contact.css';\nimport {\n    Container,\n    Form,\n    FormGroup,\n    Input,\n    Button\n} from 'reactstrap';\n\nconst onSubmitButtonClick = (e) => {\n    e.preventDefault();\n};\n\nconst Contact = ({}) => {\n    return (\n        <div className=\"contact-container\">\n            <div className=\"contact-background\" style={{backgroundImage: 'url(/contact-background.jpg)'}} />\n            <Container className=\"contact-content-container\">\n                <h1 className=\"contact-header\">Contact Us</h1>\n                <Form className=\"contact-form\">\n                    <FormGroup>\n                        <Input type=\"text\" name=\"name\" placeholder=\"Name\" />\n                    </FormGroup>\n                    <FormGroup>\n                        <Input type=\"email\" name=\"email\" placeholder=\"Email\" />\n                    </FormGroup>\n                    <FormGroup>\n                        <Input type=\"text\" name=\"subject\" placeholder=\"Subject\" />\n                    </FormGroup>\n                    <FormGroup>\n                        <Input type=\"textarea\" name=\"message\" placeholder=\"Your Message\" />\n                    </FormGroup>\n                    <Button onClick={onSubmitButtonClick} color=\"secondary\">Submit</Button>\n                </Form>\n            </Container>\n        </div>\n    );\n};\n\nexport default Contact;\n\n","import './Login.css';\n\nconst Login = ({}) => {\n    return (\n        <div className=\"login-container\"  style={{backgroundImage: 'url(/login-background.jpg)'}}>\n            <div className=\"text-container\">\n                <h3 className=\"login-text login-header\">We're sorry.  User accounts aren't available yet.</h3>\n                <h6 className=\"login-text\">But you can be sure that, like a good bar, that feature is just around the corner.  🥂  </h6>\n            </div>\n        </div>\n    );\n};\n\nexport default Login;\n","import './App.css';\nimport { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Switch, Route, useHistory, useLocation } from 'react-router-dom';\nimport constants from '../../scrapers/yelp/constants';\nimport Lookup from '../../lookup/Lookup';\nimport StorageFactory from '../../storage/StorageFactory';\nimport LikedMedia from '../../user/LikedMedia';\nimport formatSearchURL from '../../search/formatSearchURL';\nimport Header from './Header/Header';\nimport Home from './Home/Home';\nimport SearchResults from './SearchResults/SearchResults';\nimport About from './About/About';\nimport Contact from './Contact/Contact';\nimport Login from './Login/Login';\n\nconst { distances } = constants;\nconst lookup = new Lookup();\nconst storage = new StorageFactory().get(window.localStorage);\nconst likedMedia = new LikedMedia(getLikedMedia(storage), storage);\n\nfunction getLikedMedia(storage) {\n\ttry {\n\t\treturn storage.get('likedMedia');\n\t} catch (e) {\n\t\twindow.console.debug(e);\n\t}\n}\n\nfunction isLikedMedia(id) {\n\treturn id && likedMedia.isLiked(lookup.getRestaurantIDByMediaID(id), id);\n}\n\nfunction toggleLikedMedia(id, setLikedMedia) {\n\tlikedMedia.toggle(lookup.getRestaurantIDByMediaID(id), id);\n\tsetLikedMedia(likedMedia.getAll());\n}\n\nfunction updateSearchURL({description, location, distance}, history) {\n\tconsole.log(\"updateSearchURL()\");\n\tconsole.log(\"description:\", description);\n\tconsole.log(\"location:\", location);\n\tconsole.log(\"distance:\", distance);\n\n\tif (!location)\n\t\treturn;\n\n\tconst url = formatSearchURL('/search', {description, location, distance});\n\tconsole.log(\"url:\", url);\n\treturn history.push(url);\n}\n\nfunction getSelectedMediaInfo(selectedID, lookup) {\n\tconst media = lookup.getMediaByID(selectedID);\n\tconst restaurant = lookup.getRestaurantByID(lookup.getRestaurantIDByMediaID(selectedID));\n\treturn { media, restaurant };\n}\n\nfunction checkResponseForErrors(response) {\n\tif (response.ok) {\n\t\treturn response;\n\t}\n\n\tthrow new Error(response.statusText);\n}\n\nfunction checkJSONForErrors(restaurants) {\n\tconst hasMedia = restaurants.some(restaurant => restaurant.mediaCount > 0);\n\n\tif (hasMedia) {\n\t\treturn restaurants;\n\t}\n\n\tthrow new Error(\"Nothing to see here.\");\n}\n\nfunction scrollToTop() {\n\twindow.scroll({\n\t\ttop: 0,\n\t\tleft: 0,\n\t\tbehavior: 'smooth'\n\t});\n}\n\nfunction getRestaurantJSON(url) {\n\treturn fetch(url)\n\t\t.then(checkResponseForErrors)\n\t\t.then(response => response.json())\n\t\t.then(checkJSONForErrors);\n}\n\nfunction App() {\n\tconst [url, setURL] = useState('');\n\tconst [restaurants, setRestaurants] = useState([]);\n\tconst [description, setDescription] = useState('');\n\tconst [location, setLocation] = useState('');\n\tconst [requestingLocation, setRequestingLocation] = useState(false);\n\tconst [selectedMediaID, setSelectedMediaID] = useState('');\n\tconst [likedMedia, setLikedMedia] = useState({});\n\tconst [searching, setSearching] = useState(false);\n\tconst [error, setError] = useState(null);\n\tconst [distance, setDistance] = useState(distances.UNKNOWN);\n\tconst [showLiked, setShowLiked] = useState(false);\n\tconst history = useHistory();\n\tconst browserLocation = useLocation();\n\n\t// console.log(\"selectedMediaID:\", selectedMediaID);\n\tuseEffect(() => {\n\t\tif (browserLocation.search) {\n\t\t\tconsole.log(\"Making request:\", url);\n\t\t\tsetError(null);\n\t\t\tsetSearching(true);\n\n\t\t\tgetRestaurantJSON(url)\n\t\t\t\t.then(json => {\n\t\t\t\t\tlookup.update(json);\n\t\t\t\t\tconsole.log(\"lookup:\", lookup);\n\t\t\t\t\tsetRestaurants(json);\n\t\t\t\t\tsetSearching(false);\n\t\t\t\t\tscrollToTop();\n\t\t\t\t})\n\t\t\t\t.catch(e => setError(e));\n\t\t} else if (browserLocation.pathname === '/') {\n\t\t\tgetRestaurantJSON('./home-page-restaurants.json')\n\t\t\t\t.then(json => {\n\t\t\t\t\tlookup.update(json);\n\t\t\t\t\tsetRestaurants(json);\n\t\t\t\t});\n\t\t}\n\t}, [browserLocation])\n\n\tuseEffect(() => {\n\t\tupdateSearchURL({description, location, distance}, history);\n\t}, [distance]);\n\n\tconst headerProps = {\n\t\tdescription,\n\t\tsetDescription,\n\t\tlocation,\n\t\tsetLocation,\n\t\trequestingLocation,\n\t\tsetRequestingLocation,\n\t\tsetShowLiked,\n\t\tdistance,\n\t\tsetDistance,\n\t\tonSearchRequest: () => updateSearchURL({description, location, distance}, history)\n\t};\n\n\tconst mediaModalProps = {\n\t\tselected: getSelectedMediaInfo(selectedMediaID, lookup),\n\t\tonMediaLikeToggle: (id) => toggleLikedMedia(id, setLikedMedia),\n\t\tonClose: () => setSelectedMediaID(''),\n\t\tisLiked: isLikedMedia(selectedMediaID)\n\t};\n\n\tconst galleryProps = {\n\t\trestaurants,\n\t\tisLikedMedia,\n\t\tsearching,\n\t\tshowLiked,\n\t\tselectedMediaID,\n\t\tonMediaSelection: setSelectedMediaID\n\t};\n\n\tconst searchResultsProps = {\n\t\terror,\n\t\t...galleryProps\n\t};\n\n\treturn (\n\t\t<div className=\"app\">\n\t\t\t<Header {...headerProps} />\n\t\t\t<Switch>\n\t\t\t\t<Route exact path={'/'}>\n\t\t\t\t\t<Home {...galleryProps} mediaModalProps={mediaModalProps} />\n\t\t\t\t</Route>\n\t\t\t\t<Route path={'/search'}>\n\t\t\t\t\t<SearchResults {...searchResultsProps} mediaModalProps={mediaModalProps} />\n\t\t\t\t</Route>\n\t\t\t\t<Route path={'/about'}>\n\t\t\t\t\t<About />\n\t\t\t\t</Route>\n\t\t\t\t<Route path={'/contact'}>\n\t\t\t\t\t<Contact />\n\t\t\t\t</Route>\n\t\t\t\t<Route path={'/login'}>\n\t\t\t\t\t<Login />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n      <Router>\n        <App />\n      </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}