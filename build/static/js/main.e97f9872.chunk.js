(this.webpackJsonpgourmand=this.webpackJsonpgourmand||[]).push([[0],{143:function(e,t,n){},144:function(e,t,n){},147:function(e,t,n){},148:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){},163:function(e,t,n){},164:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},190:function(e,t,n){},191:function(e,t,n){},192:function(e,t,n){},193:function(e,t,n){},194:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},210:function(e,t,n){},211:function(e,t,n){},212:function(e,t,n){},213:function(e,t,n){},214:function(e,t,n){},215:function(e,t,n){},314:function(e,t,n){},315:function(e,t,n){},316:function(e,t,n){},317:function(e,t,n){},318:function(e,t,n){},319:function(e,t,n){},320:function(e,t,n){},321:function(e,t,n){},322:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n.n(c),s=n(39),i=n.n(s),o=(n(142),n(143),n(4)),u=n(6),l=n(24),j=(n(144),n(22)),d=function(e){var t=null;return e.includes("gourmandizer-staging")?t="UA-193188133-1":e.includes("gourmandizer")&&(t="UA-193112804-1"),t},h={events:{SIGN_UP:"SIGN_UP",LOG_IN:"LOG_IN",PAGE_VISIT:"PAGE_VISIT",NAVIGATE:"NAVIGATE",REQUEST_CURRENT_LOCATION:"REQUEST_CURRENT_LOCATION",SEARCH:"SEARCH",SEARCH_RESULTS_VIEW_LIST:"SEARCH_RESULTS_VIEW_LIST",SEARCH_RESULTS_VIEW_GALLERY:"SEARCH_RESULTS_VIEW_GALLERY",SHOW_LIKED_MEDIA:"SHOW_LIKED_MEDIA",SHOW_ALL_MEDIA:"SHOW_ALL_MEDIA",CLICK_GALLERY_MEDIA:"CLICK_GALLERY_MEDIA",LIKE_MEDIA:"LIKE_MEDIA",UNLIKE_MEDIA:"UNLIKE_MEDIA",OPEN_MAP:"OPEN_MAP",OPEN_RESTAURANT_PAGE:"OPEN_RESTAURANT_PAGE",OPEN_NOTES:"OPEN_NOTES",CLOSE_NOTES:"CLOSE_NOTES",ADD_NOTE:"ADD_NOTE",EDIT_NOTE:"EDIT_NOTE",DELETE_NOTE:"DELETE_NOTE",ERROR:"ERROR"},EVENT_TRACKING_TOKEN:function(e){return e.includes("gourmandizer-staging")?"a830086578bb9aecf1a2debcd5d38c5b":e.includes("gourmandizer")?"2a1b0bd737f71a28f4dd2ff3f6f65baa":"dadd0494ac9b4ff110cc4a52ba61a65a"}(window.location.hostname),GOOGLE_ANALYTICS_ID:d(window.location.hostname)},b={UNKNOWN:"unknown",BIRDS_EYE:0,DRIVING:1,BIKING:2,WALKING:3,BLOCKS:4},f=n(10),O=n(11),m={restaurantsByID:{},mediaByID:{},restaurantIDsByMediaID:{},restaurantsByURL:{}},g=function(){function e(){Object(f.a)(this,e)}return Object(O.a)(e,[{key:"update",value:function(e,t){!function(e,t,n){e.restaurantsByID=v(e.restaurantsByID,function(e){return e.reduce((function(e,t){return e[t.id]=t,e}),{})}(n)),e.mediaByID=v(e.mediaByID,function(e){return e.flatMap((function(e){return e.media})).reduce((function(e,t){return e[t.id]=t,e}),{})}(n)),e.restaurantIDsByMediaID=v(e.restaurantIDsByMediaID,function(e){return e.reduce((function(e,t){return v(e,function(e){return e.media.reduce((function(t,n){return t[n.id]=e.id,t}),{})}(t))}),{})}(n)),e.restaurantsByURL=v(e.restaurantsByURL,function(e,t){var n={};return n[e]=t,n}(t,n))}(m,e,t)}},{key:"getMediaByID",value:function(e){return m.mediaByID[e]}},{key:"getRestaurantByID",value:function(e){return m.restaurantsByID[e]}},{key:"getRestaurantIDByMediaID",value:function(e){return m.restaurantIDsByMediaID[e]}},{key:"getRestaurantsByURL",value:function(e){return m.restaurantsByURL[e]}}]),e}();function v(e,t){return Object(o.a)(Object(o.a)({},e),t)}var x=function(){function e(t){Object(f.a)(this,e),this.storage=t}return Object(O.a)(e,[{key:"get",value:function(e){var t=this;return p((function(){return t.storage.getItem(e)}))}},{key:"set",value:function(e,t){var n=this;return p((function(){return n.storage.setItem(e,t)}))}},{key:"remove",value:function(e){var t=this;return p((function(){return t.storage.removeItem(e)}))}},{key:"removeAll",value:function(){var e=this;return p((function(){return e.storage.clear()}))}}]),e}();function p(e){try{return e()}catch(t){window.console.debug("LocalStorage Exception:",t)}}var N=function(){function e(){Object(f.a)(this,e)}return Object(O.a)(e,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"remove",value:function(){}},{key:"removeAll",value:function(){}}]),e}(),w=function(){function e(){Object(f.a)(this,e)}return Object(O.a)(e,[{key:"get",value:function(e){return e?new x(e):new N}}]),e}(),k=n(20),y=function(){function e(t){Object(f.a)(this,e),this.liked=function(e){return e?"string"===typeof e?function(e){return C(JSON.parse(e))}(e):e:{}}(t)}return Object(O.a)(e,[{key:"toggle",value:function(e,t){var n=Object(o.a)({},this.liked),a=!A(n,e,t);return this.liked=a?S(n,e,t):E(n,e,t),a}},{key:"getAll",value:function(){return this.liked}},{key:"isLiked",value:function(e,t){return A(this.liked,e,t)}},{key:"unlike",value:function(e,t){A(this.liked,e,t)&&E(this.liked,e,t)}},{key:"merge",value:function(e){var t=this;Object.keys(e).forEach((function(n){return e[n].forEach((function(e){return S(t.liked,n,e)}))}))}},{key:"serialize",value:function(){return JSON.stringify(I(this.liked))}},{key:"listify",value:function(){return I(this.liked)}}],[{key:"setify",value:function(e){return C(e)}}]),e}();function A(e,t,n){return t in e&&e[t].has(n)}function S(e,t,n){return t in e||(e[t]=new Set),e[t].add(n),e}function E(e,t,n){return e[t].delete(n),0===e[t].size&&delete e[t],e}function C(e){var t={};for(var n in e)t[n]=new Set(e[n]);return t}function I(e){var t={};for(var n in e)t[n]=Object(k.a)(e[n]);return t}var L=n(82),D=n.n(L),R=function(){function e(t){Object(f.a)(this,e),console.log("Initialize event tracker with token: ".concat(t)),D.a.init(t,{cross_site_cookie:!0})}return Object(O.a)(e,[{key:"track",value:function(e,t){console.log("\n            Tracking event: ".concat(e,"\n            ").concat(t?"Properties: "+JSON.stringify(t):"")),D.a.track(e,t)}}]),e}(),T=n(70),M=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},Q=b;var _=function(e,t){var n=t.description,a=t.location,c=t.distance;return[e,M((function(e){return function(e,t){return t.concat("description=".concat(encodeURIComponent(e)))}(n,e)}),(function(e){return function(e,t){return t.concat("location=".concat(encodeURIComponent(e)))}(a,e)}),(function(e){return function(e,t){return e&&e!==Q.UNKNOWN?t.concat("distance=".concat(encodeURIComponent(e))):t}(c,e)}))([]).join("&")].join("?")},U=(n(147),n(333)),B=n(334),K=n(335),P=n(336),q=n(337),V=n(16),H=function(){function e(t,n,a,c,r){Object(f.a)(this,e),this.id=t,this.username=n,this.email=a,this.likedMedia=c,this.notes=r}return Object(O.a)(e,[{key:"getID",value:function(){return this.id}},{key:"getUsername",value:function(){return this.username}},{key:"getEmail",value:function(){return this.email}},{key:"getLikedMedia",value:function(){return this.likedMedia}},{key:"setLikedMedia",value:function(e){this.likedMedia=e}},{key:"getNotes",value:function(){return this.notes}},{key:"setNotes",value:function(e){this.notes=e}},{key:"isAuthenticated",value:function(){return!0}}]),e}(),W=n(14),G=n(15),z=function(e){Object(W.a)(n,e);var t=Object(G.a)(n);function n(){return Object(f.a)(this,n),t.call(this,"null","NullUser","",new y)}return Object(O.a)(n,[{key:"isAuthenticated",value:function(){return!1}}]),n}(H),J={mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"},F=function(e){if(e.status>=500)throw new Error("Something went wrong.");return e.json()},Z=function(e,t){return console.log("json: ",e),e.success&&t.setUser(new H(e.id,e.username,e.email,new y(y.setify(e.likedMedia)),e.notes)),e},X=function(){function e(t){Object(f.a)(this,e),this.user=t||new z,this.authChecked=!1,this.lastAuthCheck=null}return Object(O.a)(e,[{key:"setUser",value:function(e){this.user=e}},{key:"getUser",value:function(){return this.user}},{key:"authenticate",value:function(){var e=this;return this.lastAuthCheck||(this.lastAuthCheck=fetch("/user/authenticate",Object(o.a)({},J)).then(F).then((function(t){return Z(t,e)})).then((function(t){return e.authChecked=!0,t})).catch((function(t){throw e.lastAuthCheck=null,t}))),this.lastAuthCheck}},{key:"hasCheckedAuthentication",value:function(){return this.authChecked}},{key:"isAuthenticated",value:function(){return this.getUser().isAuthenticated()}},{key:"logIn",value:function(e){var t=this;return fetch("/user/login",Object(o.a)(Object(o.a)({},J),{},{method:"POST",body:JSON.stringify(e)})).then(F).then((function(e){return Z(e,t)}))}},{key:"logOut",value:function(){var e=this;return fetch("/user/logout",Object(o.a)(Object(o.a)({},J),{},{method:"GET"})).then((function(t){console.log("response:",t),e.setUser(new z)}))}},{key:"signUp",value:function(e){var t=this;return fetch("/user/signup",Object(o.a)(Object(o.a)({},J),{},{method:"POST",body:JSON.stringify(e)})).then(F).then((function(e){return Z(e,t)}))}},{key:"getLiked",value:function(){return fetch("/user/liked",Object(o.a)({},J)).then(F)}},{key:"like",value:function(e){var t=this;return fetch("/user/like",Object(o.a)(Object(o.a)({},J),{},{method:"POST",body:JSON.stringify({likedMedia:e})})).then(F).then((function(e){return t.user.setLikedMedia(new y(y.setify(e.likedMedia))),e}))}},{key:"unlike",value:function(e){var t=this;return fetch("/user/unlike",Object(o.a)(Object(o.a)({},J),{},{method:"POST",body:JSON.stringify({unlikedMedia:e})})).then(F).then((function(e){return t.user.setLikedMedia(new y(y.setify(e.likedMedia))),e}))}},{key:"getNotes",value:function(e){var t=new URLSearchParams({restaurantID:e});return fetch("/user/notes?".concat(t),Object(o.a)({},J)).then(F)}},{key:"updateNotes",value:function(e,t){var n=this;return fetch("/user/notes",Object(o.a)(Object(o.a)({},J),{},{method:"POST",body:JSON.stringify({notes:Object(l.a)({},e,t)})})).then(F).then((function(e){return n.user.setNotes(e.notes),e}))}},{key:"getProfileDetails",value:function(){return fetch("/user/profile-details",Object(o.a)({},J)).then(F)}},{key:"performIfAuthenticated",value:function(e){var t=this;return this.authenticate().then((function(){if(t.isAuthenticated())return e()})).catch((function(e){throw e}))}},{key:"sendPasswordResetEmail",value:function(){}},{key:"confirmPasswordReset",value:function(){}}]),e}(),Y=function(){var e=new X(new z),t=Object(c.useState)(e.getUser()),n=Object(u.a)(t,2),a=n[0];n[1];return Object(c.useEffect)((function(){e.setUser(a)}),[a]),e},$=Object(c.createContext)(new X),ee=function(){return Object(c.useContext)($)},te=function(e){var t=e.children,n=Y();return Object(a.jsx)($.Provider,{value:n,children:t})},ne=n(26),ae=(n(148),n(121)),ce=n(27),re=h.events,se=new R(h.EVENT_TRACKING_TOKEN),ie=function(e){return function(t){var n=t.to,c=t.onClick,r=Object(ce.a)(t,["to","onClick"]);return Object(a.jsx)(e,Object(o.a)({to:n,onClick:function(){return e=n,void se.track(re.NAVIGATE,{pathname:e})&&c&&c();var e}},r))}},oe=ie(V.c),ue=function(e){return Object(ne.a)(e),Object(a.jsx)(ae.a,{className:"sign-up-button",color:"secondary",size:"sm",children:Object(a.jsx)(oe,{to:"/user/signup",children:"Sign Up"})})},le=(n(154),n(327)),je=n(346),de=n(328),he=(n(155),n(323)),be=n(324);var fe=function(e){var t=e.requestLocation;return Object(a.jsx)(he.a,{className:"suggestions-list-group",onMouseDown:function(e){return e.preventDefault()},children:Object(a.jsx)(be.a,{tag:"button",onClick:t,action:!0,children:Object(a.jsxs)("div",{className:"current-location-container",children:[Object(a.jsx)("img",{className:"current-location-icon",src:"cursor-fill.svg"}),Object(a.jsx)("span",{children:"Current Location"})]})})})},Oe=n(345),me=n(325),ge=n(326),ve=function(e){var t=e.isOpen,n=e.toggle;return Object(a.jsxs)(Oe.a,{isOpen:t,toggle:n,className:"location-request-error-modal",children:[Object(a.jsx)(me.a,{children:Object(a.jsx)("p",{className:"location-request-error-message",children:"We are unable to get your current location.  Please enter your location manually."})}),Object(a.jsx)(ge.a,{children:Object(a.jsx)(ae.a,{outline:!0,color:"secondary",onClick:n,children:"Close"})})]})};function xe(e){return["search-input","location-input",e?"error":""].join(" ").trim()}var pe=function(e){var t=e.onSearchRequest,n=e.description,r=e.setDescription,s=e.location,i=e.setLocation,o=e.requestingLocation,l=e.setRequestingLocation,j=Object(c.useState)(!1),d=Object(u.a)(j,2),h=d[0],b=d[1],f=Object(c.useState)(!1),O=Object(u.a)(f,2),m=O[0],g=O[1],v=Object(c.useState)(!1),x=Object(u.a)(v,2),p=x[0],N=x[1];Object(c.useEffect)((function(){N(!!m)}),[m]);var w=function(){return b(!1)};return Object(a.jsxs)("form",{className:"search-form",onSubmit:function(e){return function(e,t){e.preventDefault(),console.log("onSubmit()"),t()}(e,t)},children:[Object(a.jsx)("div",{className:"input-group-container",children:Object(a.jsxs)(le.a,{children:[Object(a.jsx)(je.a,{addonType:"prepend",children:Object(a.jsx)("img",{className:"input-icon query-icon",src:"/magnifying-glass.svg"})}),Object(a.jsx)(de.a,{className:"search-input description-input",type:"text",value:n,onChange:function(e){r(e.target.value)},placeholder:"e.g. Pizza"})]})}),Object(a.jsxs)("div",{className:"input-group-container",children:[Object(a.jsxs)(le.a,{children:[Object(a.jsx)(je.a,{addonType:"prepend",children:Object(a.jsx)("img",{className:"input-icon location-icon ".concat(o?"rotate":""),src:function(e){return e?"/spinner.png":"/target.svg"}(o)})}),Object(a.jsx)(de.a,{className:xe(p),type:"text",value:s,onChange:function(e){var t=e.target.value;p&&N(!1),t&&w(),i(t)},onClick:function(){return b((function(e){return!e}))},onBlur:w,placeholder:"e.g. Brooklyn, NY 11237"})]}),h&&Object(a.jsx)(fe,{requestLocation:function(e){e.preventDefault(),console.log("Requesting location."),l(!0),w(),navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,n=t.latitude,a=t.longitude;l(!1),g(!1),i("".concat(n.toPrecision(7),", ").concat(a.toPrecision(7)))}),(function(e){l(!1),g(!0),console.error(e)}),{timeout:1e4,maximumAge:6e4})}}),Object(a.jsx)(ve,{isOpen:m,toggle:function(){return g(!m)}})]}),Object(a.jsx)(ae.a,{className:"search-submit-button hidden-submit",type:"submit"})]})},Ne=(n(163),n(329)),we=n(330);var ke=function(e){var t=e.onChange;return Object(a.jsx)(Ne.a,{className:"header-check filter-liked-check",check:!0,children:Object(a.jsxs)(we.a,{check:!0,children:[Object(a.jsx)(de.a,{type:"checkbox",onChange:function(e){return t(e.target.checked)}}),Object(a.jsx)("span",{className:"header-check-text",children:"Show Liked"})]})})},ye=(n(164),n(331)),Ae=n(347),Se=n(348),Ee=n(332),Ce=b,Ie={DEFAULT:"Distance",options:["Bird's-eye View","Driving (5 mi.)","Biking (2 mi.)","Walking (1 mi.)","Within 4 Blocks"]};function Le(e){return e===Ce.UNKNOWN?Ie.DEFAULT:Ie.options[e]}var De=function(e){var t=e.distance,n=e.onDistanceDropdownClick,r=Object(c.useState)(!1),s=Object(u.a)(r,2),i=s[0],o=s[1];return Object(a.jsxs)(ye.a,{className:"distance-dropdown",isOpen:i,toggle:function(){return o(!i)},size:"sm",outline:!0,color:"secondary",children:[Object(a.jsx)(Ae.a,{caret:!0,children:Le(t)}),Object(a.jsxs)(Se.a,{positionFixed:!0,children:[Object(a.jsx)(Ee.a,{onClick:function(){return n(Ce.BLOCKS)},children:"Within 4 Blocks"}),Object(a.jsx)(Ee.a,{onClick:function(){return n(Ce.WALKING)},children:"Walking (1 mi.)"}),Object(a.jsx)(Ee.a,{onClick:function(){return n(Ce.BIKING)},children:"Biking (2 mi.)"}),Object(a.jsx)(Ee.a,{onClick:function(){return n(Ce.DRIVING)},children:"Driving (5 mi.)"}),Object(a.jsx)(Ee.a,{onClick:function(){return n(Ce.BIRDS_EYE)},children:"Bird's-eye View"})]})]})},Re=ie(V.c),Te=function(e){return Object(ne.a)(e),Object(a.jsx)(Re,{id:"login-link",className:"nav-link",to:"/user/login",children:"Log In"})},Me=function(e){Object(ne.a)(e);var t=Object(c.useState)(!1),n=Object(u.a)(t,2),r=n[0],s=n[1],i=Object(j.g)(),o=ee();Object(c.useEffect)((function(){r&&o.logOut().then((function(){return i.push("/")})).then((function(){return console.log("User successfully logged out.")})).catch((function(e){throw e}))}),[r]);return Object(a.jsx)(V.c,{id:"logout-link",className:"nav-link",to:"#",onClick:function(){s(!0)},children:"Log Out"})},Qe=ie(V.c),_e=function(e,t){return e&&!t.isAuthenticated()&&Object(a.jsx)(U.a,{className:"ml-auto mr-3",pills:!0,children:Object(a.jsx)(B.a,{children:Object(a.jsx)(ue,{})})})},Ue=function(e){return e.isAuthenticated()?Object(a.jsx)(Me,{}):Object(a.jsx)(Te,{})},Be=function(e){var t=e.openedHeader,n=e.setOpenedHeader,c=e.canRenderSignUpButton,r=e.onSearchRequest,s=e.description,i=e.setDescription,u=e.location,l=e.setLocation,j=e.requestingLocation,d=e.setRequestingLocation,h=e.distance,b=e.onDistanceDropdownClick,f=e.onShowLikedChange,O=ee();return Object(a.jsxs)(K.a,{className:"header-navbar",color:"light",light:!0,children:[Object(a.jsx)(Qe,{id:"home-link",className:"navbar-brand company-name",to:"/",children:"Gourmand"}),_e(c,O),Object(a.jsx)(P.a,{onClick:function(){return n(!t)}}),Object(a.jsx)(q.a,{className:"header-collapse",in:!0,isOpen:t,timeout:200,navbar:!0,children:Object(a.jsxs)(U.a,{className:"header-nav",navbar:!0,children:[Object(a.jsx)(B.a,{children:Object(a.jsx)(Qe,{id:"about-link",className:"nav-link",to:"/about",children:"About"})}),Object(a.jsx)(B.a,{children:Object(a.jsx)(Qe,{id:"contact-link",className:"nav-link",to:"/contact",children:"Contact"})}),Object(a.jsx)(B.a,{children:Ue(O)}),Object(a.jsx)(B.a,{className:"nav-separator"}),Object(a.jsx)(B.a,{children:Object(a.jsx)(pe,Object(o.a)({},{description:s,setDescription:i,location:u,setLocation:l,requestingLocation:j,setRequestingLocation:d,onSearchRequest:r}))}),Object(a.jsxs)(B.a,{className:"dropdown-nav-item",children:[Object(a.jsx)(De,Object(o.a)({},{distance:h,onDistanceDropdownClick:b})),Object(a.jsx)(ke,{onChange:f})]})]})})]})},Ke=(n(183),n(184),n(185),function(e,t,n,c){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};return Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,fill:n,className:c,onClick:r,viewBox:"0 0 16 16",children:Object(a.jsx)("path",{d:"M4 1c2.21 0 4 1.755 4 3.92C8 2.755 9.79 1 12 1s4 1.755 4 3.92c0 3.263-3.234 4.414-7.608 9.608a.513.513 0 0 1-.784 0C3.234 9.334 0 8.183 0 4.92 0 2.755 1.79 1 4 1z"})})}),Pe=[50,250,500,750,1e3],qe=function(e){var t=e.media,n=e.onMediaSelection,c=e.isLiked,r=Math.floor(Math.random()*Pe.length),s=Pe[r];return Object(a.jsxs)("div",{className:"food-thumbnail-container transition-delay-".concat(s),children:[Object(a.jsx)("img",{className:"food-thumbnail",src:t.getThumbnailURLs()[0],onClick:function(){return n(t.id)}}),c&&Ke("16","16","white","liked-media-icon")]})},Ve=(n(186),n(338)),He=function(e){var t=e.color;return Object(a.jsxs)("div",{className:"search-curtain",children:[Object(a.jsx)("div",{className:"search-curtain-backdrop"}),Object(a.jsx)(Ve.a,{className:"search-curtain-spinner",color:t})]})},We=n(344);function Ge(e,t,n){return t?e.filter((function(e){return n(e.id)})):e}var ze=function(e){var t=e.media,n=e.onMediaSelection,r=e.isLikedMedia,s=e.searching,i=e.showLiked,o=e.onEnter,l=e.onEntered,j=(e.onExited,e.transitionTimeout),d=Object(c.useState)([]),h=Object(u.a)(d,2),b=h[0],f=h[1],O=Object(c.useState)(!0),m=Object(u.a)(O,2),g=m[0],v=m[1],x=b.length?"light":"dark",p=!s&&g;return Object(c.useEffect)((function(){p&&t!==b&&t.length&&f(t)}),[p,t]),Object(c.useEffect)((function(){s&&v(!1)}),[s]),Object(a.jsx)(We.a,{classNames:"thumbnail-swap",in:p,appear:!0,timeout:j||1e3,onEnter:o,onEntered:l,onExited:function(){return v(!0)},children:Object(a.jsxs)("div",{className:"gallery-container",children:[Ge(b,i,r).map((function(e){return Object(a.jsx)(qe,{searching:s,media:e,onMediaSelection:n,isLiked:r(e.id)},e.id)})),s&&Object(a.jsx)(He,{color:x})]})})},Je=n(81),Fe=n(124);var Ze=function(e){return Fe.Html5Entities.decode(e)},Xe=function(e){Object(W.a)(n,e);var t=Object(G.a)(n);function n(e,a,c,r){return Object(f.a)(this,n),t.call(this,e,a,c,r)}return Object(O.a)(n,[{key:"getThumbnailURLs",value:function(){var e=this.source.slice(0,-5);return[e+"258s.jpg",e+"300s.jpg",e+"348s.jpg"]}}],[{key:"populateFromBSON",value:function(e){return new n(e.id,e.type,e.caption,e.source)}}]),n}(function(){function e(t,n,a,c){Object(f.a)(this,e),this.id=t,this.type=n,this.caption=a?Ze(a):null,this.source=c}return Object(O.a)(e,[{key:"toJSON",value:function(){return Je.a.pick(this,"id","type","caption","source")}}]),e}());var Ye=function(e){return function(t){var n=t.restaurants,r=t.mediaOrder,s=Object(ce.a)(t,["restaurants","mediaOrder"]),i=Object(c.useState)([]),l=Object(u.a)(i,2),j=l[0],d=l[1];return Object(c.useEffect)((function(){d(function(e,t){if(!e.length)return e;var n=e.flatMap((function(e){return e.media})).reduce((function(e,t){return e[t.id]=t,e}),{});return t.map((function(e){return n[e]})).map((function(e){return Xe.populateFromBSON(e)}))}(n,r))}),[n]),Object(a.jsx)(e,Object(o.a)({media:j},s))}},$e=["JNsJSjDbHH_91HOgr9sCqA","wo-1PKMWwINpEruBqNfIiA","OjACJUFH4i2z95YTr6GSgQ","sIC6jUU6UyubnbaZABkPpw","ovBiAPKpbdwmyc211faoaw","hR32TiJU8Mj5xiVKPS9sOg","OLXglWKpO-NitEylMwCQxQ","i6WcIItMrKuc25riTVOa2w","8KFavjNsE0jNLoWKbuPnYw","D8LU7rW8ZcXcJFuQ5r5EwQ","0MWnjl5XGnV4xBHCfFolHA","B5s2mWw0uJHNp7nc05_5KQ","AcDV9qosxkG4F5053_Ozxw","naIBxTISC8Uk7LxT6JwMZw","RvY295n0LZJibhykdV6WKQ","45KqZOXPwaa5C-wUt0GCZw","Cy7bxhH5pi-7gbx-R6xBGg","RImsui5ffpABZK5E44RB6g","o7GLF55dSQa6wl1mdbNS_Q","2_8haA6LztxN2_ogne931g","MQfHzPOrDdTuvi2vRp0Jgg","NH62518Xp90Ag4sSSrlLew","Aig8NfT8y3n7RonTEU6R7g","4lyvug7N5is0tlt8DjdwdA","-ph6ERHAOUGpSjj-5ezB3w","BHX43-5b1GsqL5QTcUyUWA","clscwgOF9_Ecq-Rwsq7jyQ","9ImrGJAQShKpXYR3XHor9Q","tZ6zE8xRjJU14XoCvN69MA","PFbKEyhlyJIuGZxhqSYlKw","lXecmyyxcrZ_ikvmMZuIJQ","UbLCIVs44kMrn-gohcayPA","kdu-OQK_5o2s2vZZK0Hm8A","lX4tl9QhM0uibrKtGKaKrQ","8Xsu2-QtcqrfNFM9zjEDvg","vCKELKLC9LhdOHrct-g5vw","D-5Td9XsLCekgq3joM6JFw","jplZpyYsst7iMuNs8v6YYw","5fADHJFD-B6RTfDDTp5NCg","L82MR10Nq8MIXmB4UOsEmw","kDX7cOkf3n34he2RB-d1eg","j6Hoc_YpJJapUUzfd9pj8A","e6-wcjGC3l6mfDiUajmJSQ","rLLQ3hoJuV85AcYefCF70A","Fwxy9LPkKU3fDhypYlevtw","H31x1q8-iLFOKIRNdwyBow","Uwu-RxcqVD7y86WeEagmMg","4HgjE1WxnRcMH1pT48HQCg","yMEtHWpKYf2uKQg9RD-oRA","5UYmKinQN08dvY7nh53qUw","qzrLMUmERPzG5RZKNvpGmQ","xcqOeQeP-H81cBvdpYU79A","pFuYCC-Ku1aRxkFfhCuUoQ","Ve4NvCiHBzHXzHdMVLoB5A","rJACyS33y3DJjrGqNltOGA","yxkJzN_-yPoXgx9p2FUk1g","Xt3BMLOZ7UxbbBGDAjGeWw","C3JP2BzCnoH7dTCg7P_v3A","pz3VgZc7pjEseCn14IBSwA","p9efKzd_XlOT33FKjGkPvA","Mz8N4ggsttTNdvXBxJgr5A","UR6lKY9PaWj1MvIIuMuFsA","QItGxOxkzFcqffTPxOqHiQ","Ic7CbsC9rEVt5WAMzyLmjg","vJDupyCGamWh_langjIeCA","2tiJtevOs04KrOavcwlfgw","Igu73RMmDbK9FSxXURNRnA","PfoqacfguTrChnllOdhviA","xbZwukayFmDsSTq63zcxoA","uMZiwJW9Seie0qSweM7afA","w72XS1-aeaaW55xLPfpcMQ","UkcIOtVlql4t0fzvrA18yw","3ggCaHyfXBxfmjiWNK7INg","y-HgqTSKSPrnc4NvKTn7ug","jYhk78GEe3SWkCgLsXf4zA","O2ph1erEoN9AgOyEYiTn5g","daVm5y6lvydIXm8J0yeahQ","MXbcxwMw7WE7oEvLy06D3Q","iVIYrErB2c7lYaVeVY8PhQ","7ydOP9KWUZfjkG6PduP-6Q","W3WU8nLIJP9oComniVw4dQ","l_PKFtmRq5IrCb0_EDz2Mw","Rq6-DNHA1tq8ZnPMr3acPw","tbFfqvnbx_c4ti5hHi1SlQ","9rDurcWzj3mfXAxwjd77aA","DfUtbYYx6IZU3LzruOpQzQ","NrPQePur6gAyhu__z3sw3A","wlwyeZrOiSvxGGqaMcUITQ","0LNNUofcpOqaCNUCo-SaCw","veRMosxRuW4lGQeUbJJLFw","oM_2_du4oQf2sYiTsZspMg","XMZiAVCf0miasVcL5LvDSQ","pSL2DXLI6fqhLn8ISChjNA","V1whpgh_FFE3L27M9l-GWw","i1pZRFkEscwirTv28fXCgA","W_VFwCIhcAfD0GSIHggIRA","hly8cAfSwbj2x8n9G69pBg","3cR5LDisK0H3sci1qJ6H2w","wvsrArhDz_tmlR4zKkiu_Q","vOe8cjWK-kqDEf4a41qaCQ","4AiSsxe_qPlKhIN5RqhwlA","WHV0UBdhxcnu-l2GXed-IA","GiYuDZwjlSpM2IKu5HywNw","kp2qg5xCXazJI0Pnr0hrjA","OiRqQiw8BiQdwMFd9O3KUQ","hAmD1yFoHRc-I49T0JGVBw","8q5NtSUU6BfnAGbfueMVAw","0K9ICfofQeHuwzkip9-JcQ","0CxtRC4BfPobAfvBBLJH3g","Q1Nxm3LddoBmeBS3gp0bBA","sYVGp3t9SDlDgNme_1hKlA","gvefxJdh10SD40wbaIXAlA","LnARDrSUBIseN0ekqfhOkg","lO7qqJ3RReqWVtowQbgBHQ","0CKvm7jcENINXJc662o8mg","BQoK-TGb42fIoKTgZTmljQ","ENh0J-5YsJrRmymhnbuNDw","LlXWcYU5JlXRk7vYnKv1Ug","QUBBhio9ex9hGk8tQbaiGg","l69WViivrod87JNIbwuijw","dpLRH4yJSga1CYNqnl0-JQ","4dfe9qpe20P-vi3qFjWd4Q","fU2YVTzW1DnbJmMLJF0LqA","zYO7EXV_zvAKTuzpp6VCLw","m9Kk0RIZ7ik2gVZQxHwpKQ","R732FIRT1t8VTnsI8WBARA","3yeb0hektZBFwFQv_PCETQ","N2ZXh-mYh2OC18LVKOxYYg","uOuGHPJAibqiQo62UBAfiA","oB9CFo5mAZLjdN7-wdJM0A","0RUqVbsW5TSY4WQSPS4qaw","6_Ky3Pki7y4Z1OyjkvB4WQ","RAzDqVJnHpdon3fMRLXpJg","WzmcXvY8QONETe2ILIfvJA","ZxN4O-5pfIEE8__bRgq-ig","ctlIbv1YFhZzBUFgFlX16A","fh1uMBN8LYgRoJFE7-oQcQ","xUvlRWX_S8cGH9E9I3BtnA","fDVIjn_eyS0OH1ZPOIZiig","LNdSDlKQ0mxCCglKhpbM6w","md2VoTKoJDXAS1WqNhrSvA","QBDdF7OfR-Z0QrLBlCaKEQ","CBRXLSSG1izVdsN3wAQ8hg","auXDK3AgFZtsMK7S-boxiw","Y_uF4SEFltMXvIk6-EBhEA","qxjhi4aP3a9jYxcodsobgQ","NhqShORuY93bfjlWmkMNLg","ka6kFgDuyc48U8v3FZOf9g","Abo2xRkekn_DCiH5S0kaug","sU5Ei5QUUq6pxi1q512ArQ","iv9OCAmr8fVZ0Lfb3aETpg","qEJE7VBVBuSIuLaRUrvXFw","xRmiDmKYUutyGpiQJeNUNQ","fNsTswXTDbXKDaiL6EkKOQ","809WbuKqCiRAus0HhIC4xw","f0VuSjzCCLuLvl8VBuH8Ug","4zMaZBjZe5dNeCK3MgUY6A","9iMwXe02bT0gMlR7Wh7WUg","1n5xL5ojLR-_zseirQKaMw","vHEkgNTs2to038asQacioQ","Efl8ZtfINJ2kfQnz-XKArA","weti_fkdKwIVJoSF1bhWxQ","H7TB8AasxAAyGy8w2H2QUQ","3N2RJCtXNMtajAMlg__n1Q","UHyL-_GQ8X2V4Bpa7QLtWA","EDQx9Y5xkEf_8KUrWBJl3A","vgWdpAeaGqmFHM9L8tGtgQ","OCDZ4nXoaMHF0TraV0u2-g","hCokJLK3nSe79v3QBw350Q","ENeutQE66vkGKejCpK5YBQ","ug7Di7n7fwJtWCxXjAdJUA","vicWtlir2PmDErr7CPOn5g","M0pfb3y4P0nS5ITDlyYMAg","FfWr6_7wWK5Rh-L7O0ePZw","9wIuw-B6xrx3u5qUnjFqGQ","czwJ0-FBu8YawAlNjIlgAg","q7lprjX7HWWMMVmPZRumSw","lZPG59I1NAYFhAWsVbkykQ","LylkQiPOsKpHMsWsq5edtQ","e_324r-CPTCkBdy4xiaBOg","J4YQVCLQgrSFgKi7w4VC3w","k8xE8euAPO1IL0Jb2rUj3g","n2jkSNSPzaB5vtmvV96o4Q","SBzbmYOLWPGoIumSMhZ5cg","QYvr7o9MOVM4Pp25VDoX1A","sgTGLoIUgFMiRLHYSsaXTQ","B6y1kB7mWwV57vt720pPNg","tO_tQGw_f-QADv18bRj_tg","edK79Gb2DWwmNpcLr0bxgw","bSWbtKskAFSeiwBPQptANw","pJsI1Qn0KfNIJ3vJSo86Hg","mE31lNBhWgzBiogfD8wKKQ","E34Z5j5bD1lTRP9AggXKGw","Ielsk99frSq8ZgZtWmMV7Q","WiTOJZ9KhmZzTxImIzd8MA","6ktAcIBQq1kwQltlhIMF_Q","yKPqCs-qmlytm7S_1-v7ew","ApY7RxKF9GBUq5UBIR9oWg","aWUuDpjA_JK-m43WNLuiXg","6OIKrzLFTI-Wuc2pUq6UKQ","338rqVgi-EbZ0w6aOVaSMA","JXlvk5l-rBGgAd6jzgJq3A","UZUHWiG-ri4zIA3g5H-0hA","2Y2W9ODseGfJjMh1oAYwRw","04jG97Xp_lxgw3TzuRfqfA","kK9DQORFANn4siKSCWh7Dg","vSsJhO83ya0NKSJR_d2yEg","f84TV7bJ4TTaaO-ukN3beg","K-5oYvnlJIEwS3OscBPleQ","m1u4oDvuvEquRl4VZS99LA","xtBIEG8LasWJiciMvg9PqQ","N_pno3f44vvEKW7I8H8zJw","e_B8N0hFtCDRW-B9HYjZnQ","KX7hm2M5rGPumF9m4Rhe-w","W8FpY4J5ULzy8ynmN_w87A","rrhqw_KxQjk_Mgpcj8EZ8g","UUwv9s2CpVGhb45N2TcDCQ","NxRz73F29G6VhnnUSppXAw","Lr8q4jsPIf8Ec07dTftIDQ","U-2TJrLqdjg_6lTaKjQuDg","NDtp_YDFFzZy2bzf0uqMvA","OixGjexLhvMNCqslLcqpNw","nrcnymth7MNbjT36A_44sA","e2LGP3Raq7CnjkDU4QOjqg","EXIUlEfVuo8loO3lbciaEg","spAc-3AsXOVoQfP9gKBf4Q","ZkIU1VjyzFIn851iQQne8g","xtoTj3dB1z350vXDTyyylA","vUpNGgs14HleRcxlnlHb8w","5KRLy3Ffxx3plt4B4DgtqQ","QGOhDg47ELjOMfZZjcyfVA","w0taZk-vWDHYeia1bwdbdw","JdcCGJnQrWGbUgZN_1nwyQ","N1AnP4jD0A_v9NGHGaPA3g","aUKSp0O5oTLgsh47QyJ57g","_gYb3ud0t2qLcSZm01uw4g","5nMa2Q9wgXV93QSO7YF-bQ","yWtsQoI8ZMTNc69ZhWjf9Q","Q5DN9FyxcWfEQO8QiEnmDg","QgrEW-SMfez8OkMHlgg-Rw","VmEwVKxLt3VCL8hv6NPe6w","PG60HdnabTmn9b8UwpCXNw","KlSOY2HZNmBuulymoiXs_w","oaRdhGb7N2m6IkNqq-ncHA","W_Vq8-FqV49FdcU6RQ3viA","BIqND02sEnJNYfDxGo2YTQ","d75CAtSihlDlemmLVEy6qQ","D7m9dIhimYGLW7tR1k-hfw","B3eNfBS1DTkTZ6fasVL01A","h7XOvZN1JCdqJc02w31JyQ","y_XsYXPT-6kT3H7yr0UerA","eSN1CksnpTEp06RZ1I42lQ","wDoXSPITi4x50QZLjctX6w","L6lAx2lB9YQ08svNnAZjDA","gUWF6nllXvGUkHZeeS8tPQ","ZpgQiL05GC34I3AO4tj73A","vJvdTsk01tV1TVk-1QmrHA","cVTbsWuqEHEohKZcsyZnQQ","sa08ZzkTVO5hUAkFZEL7pg","tmZD5rQmlkrwzw3RYnUCVg","TSJiOmlubv2R1pv5mI4dGQ","6qyvj8i4aKF5rWjgsIx3rg","48doX4sxCRLxOl8a6AD35Q","HCFv8Wvv2FVM-rKCoAPNPg","z6_uI5oEm0T-BBnko0dqhQ","vuuvzo1r_pJ_qebiJvTW1A","lM0Xlh3wB8Wmx1Kg-KtnNg","iqytnpOnd5kFJsDkbXzOfg","lCJZ6KsMSXkV-PH1K1mgFA","ZMgLNoF3r4Dg1bAFKr7CfQ","cyGjVI-jk5DZAqyW0ge-Hw","6H1cEJT1U-jWh43-d7cB1Q","Uh1nGIHlHK_xwb1GHwlVpg","6PPnf5H2z2Z_30IF5wAF3g","V8grVFq6Lnzc5jJKuDAFAQ","xRNPKIfF2Gr02zBiBl3dSA","v3F-pk2-1RZ_P_WFtAbmdA","1v1N3C8_yrzDlHIrfSeUYg","L4nXb6_5NR7yMO__KyID_A","nltCMgItjXLrBCoVRsiVlQ","HzFpRjIo39Ywrht51n_Yuw","1FAsc4oIzF5O0H7Fr_WiCA","3uOja3d1pnogIuVCNOzAdw","TCXfmnrFjLSKcBdiWd-q4Q","qbIajNWouEP5U1HxY5I0yA","QOzWXDCkg9hvplsM6NPLQQ","HLLrQD3X30jEWd0dA5QwBw","e8m5L5Z7e9Q3x8Tn7Y6EVA","RvZt5Ar5uzFJfJgqo821lQ","NGuzAKvDcB1agIn7rEBi4A","IpSPUvkcsPy8E4TmvjY4HQ","VPegpBDKXuuNf7Oi-UsmHw","8fY9fA5TtCF0ebdTNph9mQ","qS-fQBZcEMKqgPI0CM1B2w","lP9ZT1q3TjeMmm-4N68vEw","9IjZp2EhoUQzeMMDyCJdrg","w1THUZhsnLEpUbaQ-XAfnA","kiJtk3Gn5J272vXgsfS-xQ","PAgOf4yyRFZR9Lc2gl5X_g","6KJ1a882332ckXcS1-dAbg"],et=Ye(ze),tt=function(e){var t=Object(c.useState)(!1),n=Object(u.a)(t,2),r=n[0],s=n[1];return Object(a.jsxs)("div",{className:"home-page-container",children:[Object(a.jsxs)("div",{className:"home-page-text-container"+(r?" show":""),children:[Object(a.jsx)("h1",{className:"home-page-text home-page-company-name company-name",children:"Gourmand"}),Object(a.jsx)("h3",{className:"home-page-text home-page-slogan",children:"Find food.  Fast."})]}),Object(a.jsx)(et,Object(o.a)(Object(o.a)({},e),{},{mediaOrder:$e.slice(0,30),onEntered:function(){return s(!0)},transitionTimeout:50}))]})},nt=(n(190),n(125)),at=n.n(nt);var ct=function(e){return function(t){var n=t.restaurants,r=Object(ce.a)(t,["restaurants"]),s=Object(c.useState)([]),i=Object(u.a)(s,2),l=i[0],j=i[1];return Object(c.useEffect)((function(){j(function(e){console.log("restaurants:",e);var t=e.flatMap((function(e){return e.media})),n=!0;console.log("allMedia:",t);var a=e.length?e[0].id:"empty";return at.a.shuffle(t,a,n).map((function(e){return Xe.populateFromBSON(e)}))}(n))}),[n]),Object(a.jsx)(e,Object(o.a)({media:l},r))}};n(191),n(192);var rt=function(e){var t=e.address;return Object(a.jsx)("a",{onClick:function(e){return function(e,t){e.preventDefault(),n=function(e){return"https://www.google.com/maps/place/"+e.join(" ").replace(" ","+")}(t),window.open(n,"_blank").focus();var n}(e,t)},className:"restaurant-address",children:t.join(" ")})},st=(n(193),function(){return Object(a.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"edit",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",className:"svg-inline--fa fa-edit fa-w-18 fa-2x",children:Object(a.jsx)("path",{fill:"currentColor",d:"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z",className:""})})}),it=function(e){var t=e.onClick;return Object(a.jsx)(ae.a,Object(o.a)(Object(o.a)({},{onClick:t}),{},{className:"notes-button",children:Object(a.jsx)("div",{className:"square-container",children:Object(a.jsx)(st,{})})}))},ot=(n(194),n(340)),ut=(n(195),n(196),n(37)),lt=(n(197),n(339)),jt=n(127),dt=n(126),ht=n.n(dt),bt=function(e){var t=e.text,n=e.onNoteChange,r=e.disabled,s=e.disable,i=Object(c.useRef)(null);return Object(jt.a)(i,Object(c.useCallback)(n,[]),{disabled:r}),Object(a.jsx)(lt.a,{className:"note-container",children:Object(a.jsx)("div",Object(o.a)(Object(o.a)({},{ref:i}),{},{className:"note-text ".concat(r?"":"editable"),onBlur:s,children:Object(a.jsx)(ht.a,{children:t})}))})},ft=h.events,Ot=new R(h.EVENT_TRACKING_TOKEN),mt=function(e){var t=e.children,n=e.color;return Object(a.jsx)(ae.a,Object(o.a)(Object(o.a)({outline:!0,className:"action-content"},{color:n}),{},{children:Object(a.jsx)("div",{className:"action-text",children:t})}))},gt=function(){return Object(a.jsx)("p",{className:"no-notes-message",children:"There are no notes for this restaurant."})},vt=function(e){var t=e.notesManager;Object(ce.a)(e,["notesManager"]);return t.getNotes().length?Object(a.jsx)(ut.SwipeableList,{threshold:.5,fullSwipe:!0,type:ut.Type.IOS,children:t.getNotes().map((function(e,n){return Object(a.jsx)(ut.SwipeableListItem,{leadingActions:(r=t.remove(n),Object(a.jsx)(ut.LeadingActions,{children:Object(a.jsx)(ut.SwipeAction,{onClick:function(){console.info("Deleting note."),Ot.track(ft.DELETE_NOTE),r()},children:Object(a.jsx)(mt,{color:"danger",children:"Delete"})})})),trailingActions:(c=function(){return t.setCurrentlyEditableNote(n)},Object(a.jsx)(ut.TrailingActions,{children:Object(a.jsx)(ut.SwipeAction,{onClick:function(){console.info("Editing Note."),Ot.track(ft.EDIT_NOTE),c()},children:Object(a.jsx)(mt,{color:"warning",children:"Edit"})})})),listType:ut.Type.IOS,children:Object(a.jsx)(bt,{text:e,onNoteChange:t.update(n),disabled:!t.isEditable(n),disable:function(){return t.isEditable(n)&&t.setCurrentlyEditableNote(null)}})},t.isEditable(n)?n:e);var c,r}))}):Object(a.jsx)(gt,{})},xt=function(e){var t=e.isOpen,n=e.toggle,c=e.restaurant,r=e.notesManager;return Object(a.jsxs)(Oe.a,Object(o.a)(Object(o.a)({className:"notes-modal-container"},{isOpen:t,toggle:n}),{},{children:[Object(a.jsx)(ot.a,Object(o.a)(Object(o.a)({},{toggle:n}),{},{children:c&&c.name})),Object(a.jsx)(me.a,{children:Object(a.jsx)(vt,Object(o.a)({},{notesManager:r}))}),Object(a.jsx)(ge.a,{children:Object(a.jsx)(ae.a,{color:"primary",onClick:r.add,size:"sm",children:"Add Note"})})]}))},pt=h.events,Nt=new R(h.EVENT_TRACKING_TOKEN),wt=function(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),s=Object(u.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)(!1),j=Object(u.a)(l,2),d=j[0],h=j[1],b=Object(c.useState)(null),f=Object(u.a)(b,2),O=f[0],m=f[1],g=ee();return{getNotes:function(){return i},retrieveNotes:function(e){return g.performIfAuthenticated((function(){return g.getNotes(e).then((function(e){e.success?o(e.notes):console.error(e.message)}))}))},update:function(e){return function(t){var n=[].concat(i);n[e]=t,o(n)}},remove:function(e){return function(){var t=[].concat(i);t.splice(e,1),o(t)}},add:function(){Nt.track(pt.ADD_NOTE);var e=[].concat(i);e.push(""),o(e),m(e.length-1)},toggle:function(){!function(){var e=[].concat(i);o(function(e){return e.filter((function(e){return!!e}))}(e))}(),d?(Nt.track(pt.CLOSE_NOTES),g.updateNotes(n.id,i).catch((function(e){throw e}))):Nt.track(pt.OPEN_NOTES),h(!d)},isEditable:function(e){return e===O},restaurant:n,setNotes:o,setCurrentlyEditableNote:m,setRestaurant:a,showNotes:d}},kt=Ye(ze),yt=function(e){var t=e.id,n=e.getRestaurantDataByID,r=e.isLikedMedia,s=e.galleryProps,i=Object(c.useState)(null),l=Object(u.a)(i,2),d=l[0],h=l[1],b=Object(c.useState)(!1),f=Object(u.a)(b,2),O=f[0],m=f[1],g=ee(),v=Object(j.h)(),x=wt();Object(c.useEffect)((function(){t&&n(t).then((function(e){e&&h(e)})).catch((function(e){throw e}))}),[t]),Object(c.useEffect)((function(){d&&!x.restaurant&&x.setRestaurant(d)}),[d]),Object(c.useEffect)((function(){d&&x.retrieveNotes(d.id).catch((function(e){g.isAuthenticated()?console.error(e):m(!0)}))}),[d]);var p=function(){g.isAuthenticated()?x.toggle():m(!0)};if(O)return Object(a.jsx)(j.a,{to:{pathname:"/user/login",state:{from:v.pathname}}});if(!d)return null;var N=d.name,w=d.address,k=d.neighborhoods,y=function(e,t){var n=e.reduce((function(e,n){var a=t(n.id)?0:1;return e[a]=e[a].concat(n.id),e}),[[],[]]);return n[0].concat(n[1])}(d.media,r);return Object(a.jsxs)("div",{className:"restaurant-container",children:[Object(a.jsx)("div",{className:"restaurant-details-container",children:Object(a.jsxs)("div",{className:"text-container",children:[Object(a.jsx)("h2",{className:"restaurant-name",children:N}),Object(a.jsx)("p",{children:Object(a.jsx)(rt,{className:"restaurant-address",address:w})}),k.length>0&&Object(a.jsx)("p",{className:"restaurant-neighborhoods",children:k.join(", ")})]})}),Object(a.jsxs)("div",{className:"restaurant-media-container",children:[Object(a.jsx)(kt,Object(o.a)(Object(o.a)({},s),{},{restaurants:[d],mediaOrder:y,showLiked:!1,transitionTimeout:50})),Object(a.jsx)("div",{className:"notes-button-container",children:Object(a.jsx)("div",{className:"notes-button-boundary",children:Object(a.jsx)(it,{onClick:p})})})]}),Object(a.jsx)(xt,Object(o.a)({isOpen:x.showNotes,toggle:p},{restaurant:d,notesManager:x}))]})},At=function(e){var t=e.restaurantProps,n=e.restaurantIDs;return Object(a.jsx)("div",{className:"restaurants-list",children:n.map((function(e){return Object(a.jsx)(yt,Object(o.a)({id:e},t),e)}))})},St=n(341),Et=function(){return Object(a.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"th-large",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"svg-inline--fa fa-th-large fa-w-16 fa-2x",children:Object(a.jsx)("path",{fill:"currentColor",d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z",className:""})})},Ct=function(){return Object(a.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"list",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"svg-inline--fa fa-list fa-w-16 fa-2x",children:Object(a.jsx)("path",{fill:"currentColor",d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z",className:""})})},It=ct(ze),Lt=function(e){var t=e.galleryProps,n=e.restaurantProps,r=e.onViewSelection,s=Object(c.useState)(!1),i=Object(u.a)(s,2),l=i[0],j=i[1],d=function(e){e!==l&&(j(e),r&&r(e))},h=t.restaurants.map((function(e){return e.id}));return Object(a.jsxs)("div",{className:"search-results-container",children:[Object(a.jsxs)(U.a,{className:"search-results-view-options",tabs:!0,children:[Object(a.jsx)(B.a,{className:"search-results-view-option-button",children:Object(a.jsx)(St.a,{href:"#",active:!l,onClick:function(){return d(!1)},children:Object(a.jsx)(Et,{})})}),Object(a.jsx)(B.a,{className:"search-results-view-option-button",children:Object(a.jsx)(St.a,{href:"#",active:l,onClick:function(){return d(!0)},children:Object(a.jsx)(Ct,{})})})]}),l?Object(a.jsx)(At,Object(o.a)({},{restaurantIDs:h,restaurantProps:n})):Object(a.jsx)(It,Object(o.a)({},t))]})},Dt=(n(210),function(e){var t=e.error;return Object(a.jsxs)("div",{className:"error-message-container",children:[Object(a.jsx)("div",{className:"error-apology",children:"Oops, something went sour."}),Object(a.jsxs)("div",{className:"error-message",children:['"',t.message,'"']})]})}),Rt=function(e){var t=e.error,n=Object(ce.a)(e,["error"]);return t?Object(a.jsx)(Dt,Object(o.a)({},{error:t})):Object(a.jsx)(Lt,Object(o.a)({},n))},Tt=(n(211),function(e){return Object(ne.a)(e),Object(a.jsx)("div",{className:"about-container",style:{backgroundImage:"url(/about-background.jpg)"},children:Object(a.jsxs)("div",{className:"text-container with-image-underlay",children:[Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{className:"company-name",children:"Gourmand"})," is for people who absolutely love food.  Those who always search for new restaurants, dishes, and neighborhoods to try."]}),Object(a.jsx)("p",{children:"The problem is that whittling down reviews to find good places is difficult and time consuming.  Information about restaurants is fractured into many different platforms.  Who has time to conduct a research project whenever they get a little hungry?"}),Object(a.jsxs)("p",{children:["At ",Object(a.jsx)("span",{className:"company-name",children:"Gourmand"}),", we believe the food should speak for itself.  The rest will follow."]}),Object(a.jsx)("p",{children:"Salud!"})]})})}),Mt=(n(212),n(342)),Qt=function(e){var t=e.name,n=e.email,c=e.subject,r=e.message,s=e.setName,i=e.setEmail,o=e.setSubject,u=e.setMessage,l=e.onSubmitButtonClick;return Object(a.jsxs)(Mt.a,{className:"contact-form",children:[Object(a.jsx)(Ne.a,{children:Object(a.jsx)(de.a,{required:!0,type:"text",name:"name",placeholder:"Name",value:t,onChange:function(e){return s(e.target.value)}})}),Object(a.jsx)(Ne.a,{children:Object(a.jsx)(de.a,{required:!0,type:"email",name:"email",placeholder:"Email",value:n,onChange:function(e){return i(e.target.value)}})}),Object(a.jsx)(Ne.a,{children:Object(a.jsx)(de.a,{type:"text",name:"subject",placeholder:"Subject",value:c,onChange:function(e){return o(e.target.value)}})}),Object(a.jsx)(Ne.a,{children:Object(a.jsx)(de.a,{required:!0,type:"textarea",name:"message",placeholder:"Your Message",value:r,onChange:function(e){return u(e.target.value)}})}),Object(a.jsx)(ae.a,{onClick:l,color:"secondary",block:!0,children:"Send"})]})},_t=function(){window.scroll({top:0,left:0,behavior:"smooth"})},Ut="",Bt="success",Kt=function(e,t,n){var a=t.name,c=t.email,r=t.subject,s=t.message,i=n.onSuccess,o=n.onError;e.preventDefault(),function(e,t,n){fetch("/contact",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.status===Bt?t(e):n(e,e)})).catch(n)}({name:a,email:c,subject:r||"[ No Subject ]",message:s},i,o)},Pt=function(){return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)("h1",{className:"contact-header",children:"Say Hello!"}),Object(a.jsx)("p",{className:"contact-text",children:"Found a bug?  Have a feature request?  Just want to vent?  Let us know!"})]})},qt=function(){return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)("h1",{className:"contact-header",children:"Message Received!"}),Object(a.jsx)("p",{className:"contact-text",children:"Thanks for reaching out!  We'll get back to you as soon as we can."})]})},Vt=function(){return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)("h1",{className:"contact-header",children:"Uh oh!"}),Object(a.jsx)("p",{className:"contact-text",children:"Looks like something went wrong.  Our team has been notified and we're working on the issue."})]})},Ht=function(e){return e===Ut?Object(a.jsx)(Pt,{}):e===Bt?Object(a.jsx)(qt,{}):Object(a.jsx)(Vt,{})},Wt=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(""),i=Object(u.a)(s,2),l=i[0],j=i[1],d=Object(c.useState)(""),h=Object(u.a)(d,2),b=h[0],f=h[1],O=Object(c.useState)(""),m=Object(u.a)(O,2),g=m[0],v=m[1],x=Object(c.useState)(""),p=Object(u.a)(x,2),N=p[0],w=p[1];Object(c.useEffect)((function(){N!==Ut&&(r(""),j(""),f(""),v(""))}),[N]);var k={name:n,email:l,subject:b,message:g,setName:r,setEmail:j,setSubject:f,setMessage:v,onSubmitButtonClick:function(e){return Kt(e,{name:n,email:l,subject:b,message:g},{onSuccess:function(e){return function(e,t){t(e.status),_t()}(e,w)},onError:function(e,t){return function(e,t,n){console.error(e),n(t.status),_t()}(e,t,w)}})}};return Object(a.jsxs)("div",{className:"contact-container",children:[Object(a.jsx)("div",{className:"contact-background",style:{backgroundImage:"url(/contact-background.jpg)"}}),Object(a.jsxs)(lt.a,{className:"contact-content-container",children:[Object(a.jsx)("div",{className:"text-container with-image-underlay",children:Ht(N)}),N===Ut&&Object(a.jsx)(Qt,Object(o.a)({},k))]})]})},Gt=(n(213),n(214),n(343)),zt=n(25),Jt=(n(215),function(e,t){return e?Object(a.jsx)("img",{className:"submitting-spinner rotate",src:"/spinner.png"}):t}),Ft=function(e){var t=e.spin,n=e.text,c=Object(ce.a)(e,["spin","text"]);return Object(a.jsx)(ae.a,Object(o.a)(Object(o.a)({type:"submit"},c),{},{children:Jt(t,n)}))},Zt=function(e,t){return e?t?"is-invalid":"is-valid":""},Xt=function(e,t){return["form-control",Zt(e,t)].join(" ")},Yt=ie(V.b),$t=function(e){var t=e.initialValues,n=e.validationSchema,c=e.onSubmit,r=e.submitting;return Object(a.jsx)(zt.d,{initialValues:t,validationSchema:n,onSubmit:c,children:function(e){var t=e.errors,n=e.touched,c=e.isValid,s=e.dirty;return Object(a.jsxs)(zt.c,{className:"login-form",children:[Object(a.jsxs)(Ne.a,{children:[Object(a.jsx)(zt.b,{required:!0,type:"email",name:"email",placeholder:"Email",className:Xt(n.email,t.email)}),Object(a.jsx)(zt.a,{name:"email",component:Gt.a,className:"field-error-feedback"})]}),Object(a.jsxs)(Ne.a,{children:[Object(a.jsx)(zt.b,{required:!0,type:"password",name:"password",placeholder:"Password",className:Xt(n.password,t.password)}),Object(a.jsx)(zt.a,{name:"password",component:Gt.a,className:"field-error-feedback"})]}),Object(a.jsx)(Ft,{spin:r,text:"Log In",disabled:!(s&&c),color:"danger",block:!0}),Object(a.jsxs)("p",{className:"need-account-text text-container with-image-underlay",children:["Need an account? ",Object(a.jsx)(Yt,{className:"sign-up-link",to:"/user/signup",children:"Sign up here."})]})]})}})},en=n(31),tn=(n(314),n(315),function(e){var t="flash-message";return"success"===e||"info"===e||"warn"===e?"".concat(t,"-").concat(e):"".concat(t,"-error")}),nn=function(e){var t=e.level,n=e.message,c=e.className,r=e.onClose,s=e.duration;return setTimeout(r,s),Object(a.jsxs)("div",{className:"flash-message ".concat(tn(t)," ").concat(c||""),children:[Object(a.jsx)("div",{className:"flash-message-text",children:n}),Object(a.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:r,children:Object(a.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})},an=n(349),cn=function(e){var t=e.id,n=e.timeout,c=e.duration,r=e.level,s=e.messages,i=e.onClose;return Object(a.jsx)(an.a,{className:"flash-message-container",children:s.map((function(e,s){return Object(a.jsx)(We.a,{timeout:n,classNames:"flash-message",children:Object(a.jsx)(nn,{className:"text-container",id:t,level:r,message:e,onClose:function(){return i(s)},duration:c})},s)}))})},rn=function(e,t,n){return t(e.filter((function(e,t){return n!==t})))},sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,n=Object(c.useState)([]),r=Object(u.a)(n,2),s=r[0],i=r[1],o=Object(c.useState)([]),l=Object(u.a)(o,2),j=l[0],d=l[1],h=Object(c.useState)([]),b=Object(u.a)(h,2),f=b[0],O=b[1],m={success:{messages:s,setter:i},info:{messages:j,setter:d},error:{messages:f,setter:O}},g=Object.keys(m).map((function(n){var c=m[n],r=c.messages,s=c.setter;return Object(a.jsx)(cn,{level:n,timeout:e,duration:t,messages:r,onClose:function(e){return rn(r,s,e)}},n)}));return{setSuccessMessages:i,setInfoMessages:d,setErrorMessages:O,messages:g}},on=en.a().shape({email:en.c().email("Email is not valid.").required("Email is required."),password:en.c().required("Password is required.").min(8,"Password is too short.")}),un={email:"",password:""},ln=function(e){Object(ne.a)(e);var t=Object(c.useState)(!1),n=Object(u.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)(!1),l=Object(u.a)(i,2),d=l[0],h=l[1],b=ee(),f=sn(),O=f.messages,m=f.setErrorMessages,g=Object(j.h)().state,v={initialValues:un,validationSchema:on,submitting:d,onSubmit:function(e){return console.log("credentials:",e),h(!0),function(e){return b.logIn(e).then((function(e){b.isAuthenticated()?(console.log("User successfully logged in."),s(!0)):m(e.errors)})).catch((function(e){console.error(e),m([e.message])}))}(e).then((function(){return h(!1)}))}};return!0===r?Object(a.jsx)(j.a,{to:(null===g||void 0===g?void 0:g.from)||"/"}):Object(a.jsxs)("div",{className:"login-container",style:{backgroundImage:"url(/login-background.jpg)"},children:[Object(a.jsx)("div",{className:"contrast-overlay"}),Object(a.jsxs)(lt.a,{className:"login-content-container",children:[Object(a.jsx)("p",{className:"login-text text-container with-image-underlay",children:"Log in to access your photos, notes, saved restaurants, and much more."}),Object(a.jsx)($t,Object(o.a)({},v))]}),O]})},jn=(n(316),n(317),ie(V.b)),dn=function(e){var t=e.submitting,n=e.initialValues,c=e.validationSchema,r=e.onSubmit;return Object(a.jsx)(zt.d,{initialValues:n,validationSchema:c,onSubmit:r,children:function(e){var n=e.errors,c=e.touched,r=e.isValid,s=e.dirty;return Object(a.jsxs)(zt.c,{className:"sign-up-form",children:[Object(a.jsxs)(Ne.a,{children:[Object(a.jsx)(zt.b,{required:!0,type:"text",name:"username",placeholder:"Username",className:Xt(c.username,n.username)}),Object(a.jsx)(zt.a,{name:"username",component:Gt.a,className:"field-error-feedback"})]}),Object(a.jsxs)(Ne.a,{children:[Object(a.jsx)(zt.b,{required:!0,type:"email",name:"email",placeholder:"Email",className:Xt(c.email,n.email)}),Object(a.jsx)(zt.a,{name:"email",component:Gt.a,className:"field-error-feedback"})]}),Object(a.jsxs)(Ne.a,{children:[Object(a.jsx)(zt.b,{required:!0,type:"password",name:"password",placeholder:"Password",className:Xt(c.password,n.password)}),Object(a.jsx)(zt.a,{name:"password",component:Gt.a,className:"field-error-feedback"})]}),Object(a.jsxs)(Ne.a,{children:[Object(a.jsx)(zt.b,{required:!0,type:"password",name:"passwordConfirm",placeholder:"Confirm Password",className:Xt(c.passwordConfirm,n.passwordConfirm)}),Object(a.jsx)(zt.a,{name:"passwordConfirm",component:Gt.a,className:"field-error-feedback"})]}),Object(a.jsx)(Ft,{spin:t,text:"Sign Up",disabled:!(s&&r),color:"danger",block:!0}),Object(a.jsxs)("p",{className:"have-account-text text-container with-image-underlay",children:["Have an account? ",Object(a.jsx)(jn,{className:"login-link",to:"/user/login",children:"Log in here."})]})]})}})},hn=en.a().shape({username:en.c().min(1,"Username is too short.").max(50,"Username is too long.").required("Username is required."),email:en.c().email("Email is not valid.").required("Email is required."),password:en.c().required("Password is required.").min(8,"Password is too short.").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/,"Please use a stronger password."),passwordConfirm:en.c().required("Password confirmation is required.").min(8,"Passwords do not match.").when("password",{is:function(e){return e&&e.length>0},then:en.c().oneOf([en.b("password"),null],"Passwords do not match.")})}),bn={name:"",email:"",password:"",passwordConfirm:""},fn=function(e,t,n){return function(a){console.log("values: ",a),e(!0);var c=n.getUser().getLikedMedia().listify();return console.log("Liked media for signup:",c),n.signUp(Object(o.a)(Object(o.a)({},a),{},{likedMedia:c})).then(t).then((function(){return e(!1)})).catch((function(e){return console.error(e)}))}},On=function(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(!1),i=Object(u.a)(s,2),l=i[0],d=i[1],h=Object(c.useState)(!1),b=Object(u.a)(h,2),f=b[0],O=b[1],m=ee(),g=sn(),v=g.messages,x=g.setErrorMessages,p=g.setSuccessMessages,N=Object(j.h)().state,w={submitting:l,initialValues:bn,validationSchema:hn,onSubmit:fn(d,r,m)};return Object(c.useEffect)((function(){var e;console.log("response:",n),(null===n||void 0===n?void 0:n.success)?(p(["Account successfully registered."]),setTimeout((function(){return O(!0)}),500)):(null===n||void 0===n||null===(e=n.errors)||void 0===e?void 0:e.length)&&x(n.errors)}),[n]),!0===f?Object(a.jsx)(j.a,{to:(null===N||void 0===N?void 0:N.from)||"/"}):Object(a.jsxs)("div",{className:"sign-up-container",style:{backgroundImage:"url(/sign-up-background.jpg)"},children:[Object(a.jsx)("div",{className:"contrast-overlay"}),Object(a.jsxs)(lt.a,{className:"sign-up-content-container",children:[Object(a.jsx)("p",{className:"sign-up-text text-container with-image-underlay",children:"Sign up to share content, follow users, and access favorites across devices."}),Object(a.jsx)(dn,Object(o.a)({},w))]}),v]})};n(318);function mn(){return Object(a.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"home",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",className:"svg-inline--fa fa-home fa-w-18 fa-2x",children:Object(a.jsx)("path",{fill:"currentColor",d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z",className:""})})}function gn(){return Object(a.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"search",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"svg-inline--fa fa-search fa-w-16 fa-2x",children:Object(a.jsx)("path",{fill:"currentColor",d:"M508.5 468.9L387.1 347.5c-2.3-2.3-5.3-3.5-8.5-3.5h-13.2c31.5-36.5 50.6-84 50.6-136C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c52 0 99.5-19.1 136-50.6v13.2c0 3.2 1.3 6.2 3.5 8.5l121.4 121.4c4.7 4.7 12.3 4.7 17 0l22.6-22.6c4.7-4.7 4.7-12.3 0-17zM208 368c-88.4 0-160-71.6-160-160S119.6 48 208 48s160 71.6 160 160-71.6 160-160 160z",className:""})})}function vn(){return Object(a.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"plus-circle",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"svg-inline--fa fa-plus-circle fa-w-16 fa-2x",children:Object(a.jsx)("path",{fill:"currentColor",d:"M384 240v32c0 6.6-5.4 12-12 12h-88v88c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-88h-88c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h88v-88c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v88h88c6.6 0 12 5.4 12 12zm120 16c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-48 0c0-110.5-89.5-200-200-200S56 145.5 56 256s89.5 200 200 200 200-89.5 200-200z",className:""})})}function xn(){return Object(a.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"map-marker-alt",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",className:"svg-inline--fa fa-map-marker-alt fa-w-12 fa-2x",children:Object(a.jsx)("path",{fill:"currentColor",d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z",className:""})})}function pn(){return Object(a.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"user",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:"svg-inline--fa fa-user fa-w-14 fa-2x",children:Object(a.jsx)("path",{fill:"currentColor",d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z",className:""})})}var Nn=ie(V.c),wn=function(e){var t=e.openedHeader,n=e.setOpenedHeader;return Object(a.jsxs)(K.a,{className:"footer-navbar fixed-bottom",color:"light",light:!0,children:[Object(a.jsx)(U.a,{children:Object(a.jsx)(B.a,{children:Object(a.jsx)(Nn,{className:"nav-link",to:"/",children:Object(a.jsx)(mn,{})})})}),Object(a.jsx)(U.a,{children:Object(a.jsx)(B.a,{children:Object(a.jsx)(V.c,{className:"nav-link",to:"#",onClick:function(){return n(!t)},children:Object(a.jsx)(gn,{})})})}),Object(a.jsx)(U.a,{children:Object(a.jsx)(B.a,{children:Object(a.jsx)(Nn,{className:"nav-link",to:"/upload",children:Object(a.jsx)(vn,{})})})}),Object(a.jsx)(U.a,{children:Object(a.jsx)(B.a,{children:Object(a.jsx)(Nn,{className:"nav-link",to:"/map",children:Object(a.jsx)(xn,{})})})}),Object(a.jsx)(U.a,{children:Object(a.jsx)(B.a,{children:Object(a.jsx)(Nn,{className:"nav-link",to:"/user/profile",children:Object(a.jsx)(pn,{})})})})]})},kn=(n(319),function(e){var t=e.featureName;return Object(a.jsxs)("div",{className:"feature-not-available-container",style:{backgroundImage:"url(/feature-not-available-background.jpg)"},children:[Object(a.jsx)("div",{className:"contrast-overlay"}),Object(a.jsx)(lt.a,{className:"feature-not-available-content",children:Object(a.jsxs)("div",{className:"text-container with-image-underlay",children:[Object(a.jsxs)("h2",{className:"content-header",children:["We're sorry, but ",Object(a.jsxs)("span",{className:"feature-phrase",children:["the ",Object(a.jsx)("span",{className:"feature-name",children:t})," page"]})," isn't available yet."]}),Object(a.jsx)("p",{className:"content-text",children:"But you can be sure that, like a good bar, this feature is just around the corner. \ud83e\udd42"})]})})]})}),yn=function(e){return Object(ne.a)(e),Object(a.jsx)(kn,{featureName:"upload"})},An=function(e){return Object(ne.a)(e),Object(a.jsx)(kn,{featureName:"map"})},Sn=(n(320),n(133)),En=function(e){var t=e.likedMedia,n=e.notes,a=new Set([].concat(Object.keys(t.listify()),Object.keys(n)));return Array.from(a)},Cn=function(e){var t=e.restaurantProps,n=ee(),r=Object(c.useState)(""),s=Object(u.a)(r,2),i=s[0],l=s[1],j=Object(c.useState)([]),d=Object(u.a)(j,2),h=d[0],b=d[1],f=t.getRestaurantDataByID;Object(c.useEffect)((function(){var e=En(n.getUser()),t=h.map((function(e){return e.id}));(e.length!==h.length||e.some((function(e){return!t.includes(e)})))&&Promise.all(e.map(f)).then(b).catch((function(e){throw e}))}),[h]);var O,m,g=En(n.getUser()),v=function(e,t,n){return t?new Sn.a(n,{keys:["address","categories","name","neighborhoods","notes"],includeScore:!0,includeMatches:!0,threshold:.3}).search(t).map((function(e){return e.item.id})):e}(g,i,(O=h,m=n.getUser().getNotes(),O.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{notes:e.id in m?m[e.id]:[]})}))));return Object(a.jsx)("div",{className:"user-profile",children:g.length?Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(le.a,{className:"filter-input-group",children:Object(a.jsx)(de.a,{className:"filter-input",type:"text",value:i,onChange:function(e){return l(e.target.value)},placeholder:"Filter restaurants"})}),Object(a.jsx)(At,Object(o.a)({},{restaurantIDs:v,restaurantProps:t}))]}):Object(a.jsxs)("div",{className:"no-profile-container",style:{backgroundImage:"url(/feature-not-available-background.jpg)"},children:[Object(a.jsx)("div",{className:"contrast-overlay"}),Object(a.jsxs)("div",{className:"no-profile-content text-container with-image-underlay",children:[Object(a.jsxs)("h2",{className:"no-profile-content-header",children:["We don't know ",Object(a.jsx)("span",{className:"feature-phrase",children:"your favorite spots,"})," yet."]}),Object(a.jsx)("p",{className:"no-profile-content-message",children:"Start by searching for restaurants in your area."}),Object(a.jsx)("p",{className:"no-profile-content-message",children:"Then, heart images you like or write notes for places so you can find them later."}),Object(a.jsx)("p",{className:"no-profile-content-message",children:"When you're hungry, come back here to filter your favorites for your next great meal."})]})]})})},In=function(e){var t=e.children,n=e.auth,r=e.redirect,s=Object(ce.a)(e,["children","auth","redirect"]),i=Object(c.useState)(!0),l=Object(u.a)(i,2),d=l[0],h=l[1];return Object(c.useEffect)((function(){d&&(n.hasCheckedAuthentication()?h(!1):n.authenticate().then((function(){return h(!1)})))}),[d]),n.hasCheckedAuthentication()?Object(a.jsx)(j.b,Object(o.a)(Object(o.a)({},s),{},{render:function(e){var c=e.location;return n.isAuthenticated()?t:Object(a.jsx)(j.a,{to:{pathname:r,state:{from:c}}})}})):null},Ln=function(e){return function(t){var n=Object(j.i)().id;return Object(a.jsx)(e,Object(o.a)(Object(o.a)({},t),{},{id:n}))}},Dn=(n(321),function(e,t,n,c){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};return Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,fill:n,className:c,onClick:r,viewBox:"0 0 16 16",children:Object(a.jsx)("path",{d:"M8 6.236l-.894-1.789c-.222-.443-.607-1.08-1.152-1.595C5.418 2.345 4.776 2 4 2 2.324 2 1 3.326 1 4.92c0 1.211.554 2.066 1.868 3.37.337.334.721.695 1.146 1.093C5.122 10.423 6.5 11.717 8 13.447c1.5-1.73 2.878-3.024 3.986-4.064.425-.398.81-.76 1.146-1.093C14.446 6.986 15 6.131 15 4.92 15 3.326 13.676 2 12 2c-.777 0-1.418.345-1.954.852-.545.515-.93 1.152-1.152 1.595L8 6.236zm.392 8.292a.513.513 0 0 1-.784 0c-1.601-1.902-3.05-3.262-4.243-4.381C1.3 8.208 0 6.989 0 4.92 0 2.755 1.79 1 4 1c1.6 0 2.719 1.05 3.404 2.008.26.365.458.716.596.992a7.55 7.55 0 0 1 .596-.992C9.281 2.049 10.4 1 12 1c2.21 0 4 1.755 4 3.92 0 2.069-1.3 3.288-3.365 5.227-1.193 1.12-2.642 2.48-4.243 4.38z"})})}),Rn=n(134);function Tn(e){return e?'"'.concat(e,'"'):"[ No Caption ]"}var Mn=function(e){var t=e.selected,n=e.onMediaLikeToggle,c=e.onRestaurantLinkClick,r=e.onClose,s=e.isLiked,i=t.media,u=t.restaurant,l=i.source,j=i.caption,d=u.name,h=u.address,b=u.neighborhoods,f=u.categories,O=u.rating,m=function(){return n(i.id)},g=Object(Rn.useDoubleTap)(m);return Object(a.jsxs)(Oe.a,{isOpen:!!t,toggle:r,className:"media-modal-container",children:[Object(a.jsx)(ot.a,{toggle:r,children:Object(a.jsx)("div",{className:"caption",children:Tn(j)})}),Object(a.jsx)(me.a,{children:Object(a.jsxs)("div",{className:"modal-info-container",children:[Object(a.jsxs)("div",{className:"modal-image-container",children:[Object(a.jsx)("img",Object(o.a)({className:"food-media modal-image",src:l,onDoubleClick:m},g)),s?Ke("32","32","white","liked-media-icon",m):Dn("32","32","white","unliked-media-icon",m)]}),Object(a.jsxs)("div",{className:"restaurant-details-container",children:[d&&Object(a.jsx)(V.b,{className:"restaurant-name",to:"/restaurant/".concat(u.id),onClick:c,children:Object(a.jsx)("div",{children:d})}),h&&Object(a.jsx)(rt,{className:"restaurant-address",address:h}),b&&Object(a.jsx)("div",{className:"restaurant-neighborhoods",children:b.join(", ")}),f&&Object(a.jsx)("div",{className:"restaurant-categories",children:f.join(", ")}),O&&Object(a.jsx)("div",{className:"restaurant-rating",children:O})]})]})}),Object(a.jsx)(ge.a,{children:Object(a.jsx)(ae.a,{color:"secondary",onClick:r,children:"Close"})})]})},Qn=h.EVENT_TRACKING_TOKEN,_n=h.GOOGLE_ANALYTICS_ID,Un=b,Bn=new g,Kn=(new w).get(window.localStorage),Pn=new y(function(e){try{return e.get("likedMedia")}catch(t){window.console.debug(t)}}(Kn)),qn=new R(Qn),Vn=h.events,Hn=Ln(yt);qn.track(Vn.PAGE_VISIT,{pathname:window.location.pathname});var Wn=function(e,t){return function(n){var a=e.getUser().likedMedia;return n&&a.isLiked(t.getRestaurantIDByMediaID(n),n)}};function Gn(e,t){var n=e.description,a=e.location,c=e.distance;if(console.log("updateSearchURL()"),console.log("description:",n),console.log("location:",a),console.log("distance:",c),a){var r=_("/gallery",{description:n,location:a,distance:c});return console.log("url:",r),t.push(r)}}function zn(e,t){return{media:t.getMediaByID(e),restaurant:t.getRestaurantByID(t.getRestaurantIDByMediaID(e))}}function Jn(e){if(e.ok)return e;throw new Error(e.statusText)}function Fn(e){if(e.some((function(e){return e.mediaCount>0})))return e;throw new Error("Nothing to see here.")}function Zn(e){return fetch(e).then(Jn).then(Xn).then(Fn)}function Xn(e){return e.text().then((function(e){return JSON.parse(e)}))}function Yn(e){var t=Bn.getRestaurantByID(e);if(t)return Promise.resolve(t);console.warn("Restaurant data not in lookup: ".concat(e));var n="/restaurant-lookup?id=".concat(e);return fetch(n).then(Jn).then(Xn).then((function(e){if(!e)throw new Error("Could not find that restaurant.");return Bn.update(n,[e]),e}))}function $n(e,t,n){window.console.error(e),n.track(Vn.ERROR,{message:e.message}),t(e)}var ea=function(e){return function(){qn.track(Vn.OPEN_RESTAURANT_PAGE),e(""),_t()}},ta=function(e){return function(t){e(t)}},na=function(e){return function(t){var n=Vn.SHOW_LIKED_MEDIA,a=Vn.SHOW_ALL_MEDIA;qn.track(t?n:a),e(t)}},aa=function(e,t,n){return new URLSearchParams(n.search).get(e)||t};var ca=function(){var e=Object(j.g)(),t=Object(j.h)(),n=ee(),r=Object(c.useState)(!1),s=Object(u.a)(r,2),i=s[0],d=s[1],h=Object(c.useState)([]),b=Object(u.a)(h,2),f=b[0],O=b[1],m=Object(c.useState)(!1),g=Object(u.a)(m,2),v=g[0],x=g[1],p=Object(c.useState)({}),N=Object(u.a)(p,2),w=(N[0],N[1]),k=Object(c.useState)(!1),y=Object(u.a)(k,2),A=y[0],S=y[1],E=Object(c.useState)(aa("description","",t)),C=Object(u.a)(E,2),I=C[0],L=C[1],D=Object(c.useState)(aa("location","",t)),R=Object(u.a)(D,2),M=R[0],Q=R[1],U=Object(c.useState)(aa("distance",Un.UNKNOWN,t)),B=Object(u.a)(U,2),K=B[0],P=B[1],q=Object(c.useState)(!1),V=Object(u.a)(q,2),H=V[0],W=V[1],G=Object(c.useState)(""),z=Object(u.a)(G,2),J=z[0],F=z[1],Z=Object(c.useState)(!1),X=Object(u.a)(Z,2),Y=X[0],$=X[1],te=Object(c.useState)(null),ne=Object(u.a)(te,2),ae=ne[0],ce=ne[1],re=Object(c.useState)(!1),se=Object(u.a)(re,2),ie=se[0],oe=se[1];console.log("browserLocation:",t);var ue=t.pathname,le=t.search,je=ue+le;Object(c.useEffect)((function(){n.getUser().setLikedMedia(Pn),n.authenticate().then((function(){n.isAuthenticated()?console.log("Welcome back, ".concat(n.getUser().getUsername(),"!")):(console.log("New user."),console.log(n.getUser()),x(!0))}))}),[]),Object(c.useEffect)((function(){d!==n.isAuthenticated()&&d(n.isAuthenticated())}),[]),Object(c.useEffect)((function(){if(ce(null),function(e){return e.startsWith("/gallery")}(ue)||function(e){return"/"===e}(ue)){var e=Bn.getRestaurantsByURL(je);if(e)O(e),_t();else if(le){$(!0),qn.track(Vn.SEARCH,{description:I,location:M,distance:K}),Zn(_("/search",{description:I,location:M,distance:K})).then((function(e){Bn.update(je,e),console.log("lookup:",Bn),O(e),$(!1),_t()})).catch((function(e){return $n(e,ce,qn)}))}else"/"===ue&&Zn("./home-page-restaurants.json").then((function(e){Bn.update(je,e),O(e)})).catch((function(e){return $n(e,ce,qn)}))}}),[t]),Object(c.useEffect)((function(){Gn({description:I,location:M,distance:K},e)}),[K]),Object(c.useEffect)((function(){H&&qn.track(Vn.REQUEST_CURRENT_LOCATION)}),[H]),Object(c.useEffect)((function(){J&&qn.track(Vn.CLICK_GALLERY_MEDIA)}),[J]),_n&&(window.console.log("Initializing Google Analytics."),e.listen((function(e){T.a.initialize(_n),T.a.set({page:e.pathname}),T.a.pageview(e.pathname)})));var de={loggedIn:i,openedHeader:A,setOpenedHeader:S,canRenderSignUpButton:v,description:I,setDescription:L,location:M,setLocation:Q,requestingLocation:H,setRequestingLocation:W,distance:K,onDistanceDropdownClick:ta(P),onShowLikedChange:na(oe),onSearchRequest:function(){return Gn({description:I,location:M,distance:K},e)}},he={isAuthenticated:n.isAuthenticated(),selected:zn(J,Bn),onMediaLikeToggle:function(e){return function(e,t,n){var a=Vn.LIKE_MEDIA,c=Vn.UNLIKE_MEDIA,r=t.getUser().likedMedia,s=Bn.getRestaurantIDByMediaID(e),i=r.toggle(s,e);qn.track(i?a:c),Kn.set("likedMedia",r.serialize()),n(r.getAll()),t.isAuthenticated()&&(i?t.like(Object(l.a)({},s,[e])).catch((function(e){return console.error(e)})):t.unlike(Object(l.a)({},s,[e])).catch((function(e){return console.error(e)})))}(e,n,w)},onRestaurantLinkClick:ea(F),onClose:function(){return F("")},isLiked:Wn(n,Bn)(J)},be={searching:Y,showLiked:ie,restaurants:f,isAuthenticated:n.isAuthenticated(),isLikedMedia:Wn(n,Bn),onMediaSelection:F},fe={getRestaurantDataByID:Yn,galleryProps:be,isLikedMedia:Wn(n,Bn)},Oe={error:ae,galleryProps:be,restaurantProps:fe,onViewSelection:function(e){return qn.track(e?Vn.SEARCH_RESULTS_VIEW_LIST:Vn.SEARCH_RESULTS_VIEW_GALLERY)}};return Object(a.jsxs)("div",{className:"app",children:[Object(a.jsx)(Be,Object(o.a)({},de)),Object(a.jsxs)(j.d,{children:[Object(a.jsx)(j.b,{exact:!0,path:"/",children:Object(a.jsx)(tt,Object(o.a)(Object(o.a)({},be),{},{restaurants:Bn.getRestaurantsByURL(je)||[]}))}),Object(a.jsx)(j.b,{path:"/gallery",children:Object(a.jsx)(Rt,Object(o.a)({},Oe))}),Object(a.jsx)(j.b,{path:"/about",children:Object(a.jsx)(Tt,{})}),Object(a.jsx)(j.b,{path:"/contact",children:Object(a.jsx)(Wt,{})}),Object(a.jsx)(j.b,{path:"/user/login",children:Object(a.jsx)(ln,{})}),Object(a.jsx)(j.b,{path:"/restaurant/:id",children:Object(a.jsx)(Hn,Object(o.a)({},fe))}),Object(a.jsx)(j.b,{path:"/user/signup",children:Object(a.jsx)(On,{})}),Object(a.jsx)(j.b,{path:"/upload",children:Object(a.jsx)(In,Object(o.a)(Object(o.a)({},{auth:n,redirect:"/user/login"}),{},{children:Object(a.jsx)(yn,{})}))}),Object(a.jsx)(j.b,{path:"/map",children:Object(a.jsx)(In,Object(o.a)(Object(o.a)({},{auth:n,redirect:"/user/login"}),{},{children:Object(a.jsx)(An,{})}))}),Object(a.jsx)(j.b,{path:"/user/profile",children:Object(a.jsx)(In,Object(o.a)(Object(o.a)({},{auth:n,redirect:"/user/login"}),{},{children:Object(a.jsx)(Cn,Object(o.a)({},{restaurantProps:fe}))}))})]}),J&&Object(a.jsx)(Mn,Object(o.a)({},he)),Object(a.jsx)(wn,Object(o.a)({},{openedHeader:A,setOpenedHeader:S}))]})},ra=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,350)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(V.a,{children:Object(a.jsx)(te,{children:Object(a.jsx)(ca,{})})})}),document.getElementById("root")),ra()}},[[322,1,2]]]);
//# sourceMappingURL=main.e97f9872.chunk.js.map