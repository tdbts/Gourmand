{"version":3,"sources":["constants/constants.js","constants/getEventTrackingToken.js","scrapers/yelp/constants.js","lookup/Lookup.js","storage/Storage.js","storage/NullStorage.js","storage/StorageFactory.js","user/LikedMedia.js","tracking/EventTracker.js","utils/pipe.js","search/urlWithSearchParams.js","components/App/Header/SearchForm/Suggestions/Suggestions.js","components/App/Header/SearchForm/SearchForm.js","components/App/Header/ShowLikedCheckbox/ShowLikedCheckbox.js","components/App/Header/DistanceDropdown/DistanceDropdown.js","components/App/Header/Header.js","scrapers/yelp/YelpMedia.js","domain/Media.js","components/utils/getLikedMediaIcon.js","components/App/common/Gallery/GalleryMedia/GalleryMedia.js","components/App/common/Gallery/SearchCurtain/SearchCurtain.js","components/utils/getUnlikedMediaIcon.js","components/App/common/Gallery/MediaModal/MediaModal.js","components/App/common/Gallery/Gallery.js","components/App/Home/home-page-media-order.js","components/App/Home/Home.js","components/App/SearchResults/ErrorMessage/ErrorMessage.js","components/App/SearchResults/SearchResults.js","components/App/About/About.js","components/App/Contact/ContactForm/ContactForm.js","components/utils/scrollToTop.js","components/App/Contact/Contact.js","components/App/Login/Login.js","utils/trackedLink.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["EVENT_TRACKING_TOKEN","hostname","includes","getEventTrackingToken","window","location","UNKNOWN","BIRDS_EYE","DRIVING","BIKING","WALKING","BLOCKS","lookup","restaurantsByID","mediaByID","restaurantIDsByMediaID","restaurantsByURL","Lookup","url","restaurants","combineMaps","reduce","map","restaurant","id","updateRestaurantsByID","flatMap","media","updateMediaByID","mapMediaIDtoRestaurantID","updateRestaurantIDsByMediaID","updateRestaurantsByURL","updateLookup","existing","update","Storage","storage","this","key","silent","getItem","prop","setItem","removeItem","clear","action","e","console","debug","NullStorage","StorageFactory","localStorage","LikedMedia","data","liked","json","JSON","parse","restaurantID","Set","hydrate","setLiked","newLikedState","isLiked","add","likeMedia","delete","size","unlikeMedia","serialize","set","stringify","has","EventTracker","token","log","mixpanel","init","cross_site_cookie","event","properties","track","events","PAGE_VISIT","NAVIGATE","REQUEST_CURRENT_LOCATION","SEARCH","SHOW_LIKED_MEDIA","SHOW_ALL_MEDIA","CLICK_GALLERY_MEDIA","LIKE_MEDIA","UNLIKE_MEDIA","OPEN_MAP","ERROR","pipe","fns","x","v","f","distances","constants","urlWithSearchParams","description","distance","params","concat","encodeURIComponent","addDescription","addLocation","addDistance","join","Suggestions","requestLocation","ListGroup","className","onMouseDown","preventDefault","ListGroupItem","tag","onClick","src","SearchForm","onSearchRequest","setDescription","setLocation","requestingLocation","setRequestingLocation","useState","suggestionsOpen","setSuggestionsOpen","hideSuggestions","onSubmit","InputGroup","InputGroupAddon","addonType","Input","type","value","onChange","target","placeholder","getLocationIconSource","prevState","onBlur","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","toPrecision","error","timeout","maximumAge","Button","ShowLikedCheckbox","FormGroup","check","Label","checked","dropdownTextContents","DEFAULT","options","getDropdownText","DistanceDropdown","onDistanceDropdownClick","isOpen","setIsOpen","Dropdown","toggle","outline","color","DropdownToggle","caret","DropdownMenu","positionFixed","DropdownItem","Header","setShowLiked","onNavLinkClick","onShowLikedChange","Navbar","light","expand","to","NavbarToggler","Collapse","in","navbar","Nav","NavItem","YelpMedia","caption","source","stem","slice","_","pick","bson","width","height","xmlns","fill","viewBox","d","delays","GalleryMedia","onMediaSelection","delayIndex","Math","floor","random","length","delay","getThumbnailURLs","getLikedMediaIcon","SearchCurtain","Spinner","formatCaption","onAddressClick","address","replace","formatMapLink","open","focus","MediaModal","selected","onMediaLikeToggle","onClose","name","neighborhoods","categories","rating","onIconClick","Modal","ModalHeader","ModalBody","getUnlikedMediaIcon","ModalFooter","Gallery","selectedMediaID","isLikedMedia","searching","showLiked","mediaModalProps","mediaOrder","onEntered","transitionTimeout","canShuffleMedia","setCanShuffleMedia","shuffledMedia","setShuffledMedia","canEnter","setCanEnter","canRender","renderedMedia","populateFromBSON","getOrderedMedia","filter","filterLiked","useEffect","allMedia","shuffle","getShuffledMedia","CSSTransition","classNames","appear","onExit","onExited","i","Home","props","canShowText","setCanShowText","ErrorMessage","message","SearchResults","About","style","backgroundImage","ContactForm","email","subject","setName","setEmail","setSubject","setMessage","onSubmitButtonClick","Form","required","scrollToTop","scroll","top","left","behavior","statuses","onSuccess","onError","fetch","method","mode","cache","credentials","headers","body","then","response","status","catch","submitForm","UnsetMessage","Fragment","SuccessMessage","getTextComponent","Contact","setStatus","contactFormProps","Container","Login","trackedLink","selector","link","yelpConstants","get","likedMedia","getLikedMedia","eventTracker","getRestaurantIDByMediaID","updateSearchURL","history","push","getSelectedMediaInfo","selectedID","getMediaByID","getRestaurantByID","checkResponseForErrors","ok","Error","statusText","checkJSONForErrors","some","mediaCount","getRestaurantJSON","text","setError","pathname","setDistance","App","setRestaurants","setSelectedMediaID","setLikedMedia","setSearching","useHistory","browserLocation","useLocation","search","headerProps","getAll","toggleLikedMedia","galleryProps","getRestaurantsByURL","searchResultsProps","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,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","file":"static/js/main.8397ebcc.chunk.js","sourcesContent":["import getEventTrackingToken from \"./getEventTrackingToken\";\n\nexport default {\n    EVENT_TRACKING_TOKEN: getEventTrackingToken(window.location.hostname)\n}\n","const getEventTrackingToken = (hostname) => {\n    let token;\n\n    if (hostname.includes(\"gourmandizer-staging\")) {\n        token = \"a830086578bb9aecf1a2debcd5d38c5b\";\n    } else if (hostname.includes(\"gourmandizer\")) {\n        token = \"2a1b0bd737f71a28f4dd2ff3f6f65baa\";\n    } else {\n        token = \"dadd0494ac9b4ff110cc4a52ba61a65a\";\n    }\n\n    return token;\n};\n\nexport default getEventTrackingToken;\n","const DOMAIN = \"https://www.yelp.com\";\r\nconst LOCATION_SEARCH_PREFIX = DOMAIN + \"/search/snippet\";\r\n\r\nconst queryTypes = {\r\n\tLOCATION: 'location',\r\n\tCOORDINATE: 'coordinate'\r\n};\r\n\r\nconst distances = {\r\n\tUNKNOWN: 'unknown',\r\n\tBIRDS_EYE: 0,\r\n\tDRIVING: 1,\r\n\tBIKING: 2,\r\n\tWALKING: 3,\r\n\tBLOCKS: 4\r\n};\r\n\r\nconst url = {\r\n\tDOMAIN,\r\n\tLOCATION_SEARCH_PREFIX\r\n};\r\n\r\nexport default {\r\n\tqueryTypes,\r\n\tdistances,\r\n\turl\r\n};\r\n","/*\r\n * Lookup\r\n */\r\n const lookup = { \r\n \trestaurantsByID: {}, \r\n \tmediaByID: {}, \r\n \trestaurantIDsByMediaID: {},\r\n\trestaurantsByURL: {}\r\n };\r\n\r\nexport default class Lookup {\r\n\tupdate(url, restaurants) {\r\n\t\tupdateLookup(lookup, url, restaurants);\r\n\t}\r\n\r\n\tgetMediaByID(id) {\r\n\t\treturn lookup.mediaByID[id];\r\n\t}\r\n\r\n\tgetRestaurantByID(id) {\r\n\t\treturn lookup.restaurantsByID[id];\r\n\t}\r\n\r\n\tgetRestaurantIDByMediaID(id) {\r\n\t\treturn lookup.restaurantIDsByMediaID[id];\r\n\t}\r\n\r\n\tgetRestaurantsByURL(url) {\r\n\t\treturn lookup.restaurantsByURL[url];\r\n\t}\r\n};\r\n\r\nfunction updateLookup(lookup, url, restaurants) {\r\n\tlookup.restaurantsByID = combineMaps(lookup.restaurantsByID, updateRestaurantsByID(restaurants));\r\n\tlookup.mediaByID = combineMaps(lookup.mediaByID, updateMediaByID(restaurants));\r\n\tlookup.restaurantIDsByMediaID = combineMaps(lookup.restaurantIDsByMediaID, updateRestaurantIDsByMediaID(restaurants));\r\n\tlookup.restaurantsByURL = combineMaps(lookup.restaurantsByURL, updateRestaurantsByURL(url, restaurants));\r\n}\r\n\r\nfunction updateRestaurantsByID(restaurants) {\r\n\treturn restaurants.reduce((map, restaurant) => {\r\n\t\tmap[restaurant.id] = restaurant;\r\n\t\treturn map;\r\n\t}, {});\r\n}\r\n\r\nfunction updateMediaByID(restaurants) {\r\n\treturn restaurants\r\n\t\t.flatMap(restaurant => restaurant.media)\r\n\t\t.reduce((map, media) => {\r\n\t\t\tmap[media.id] = media;\r\n\t\t\treturn map;\r\n\t\t}, {});\r\n}\r\n\r\nfunction updateRestaurantIDsByMediaID(restaurants) {\r\n\treturn restaurants.reduce((map, restaurant) => (combineMaps(map, mapMediaIDtoRestaurantID(restaurant))), {});\r\n}\r\n\r\nfunction mapMediaIDtoRestaurantID(restaurant) {\r\n\treturn restaurant.media\r\n\t\t.reduce((map, media) => {\r\n\t\t\tmap[media.id] = restaurant.id;\r\n\t\t\treturn map;\r\n\t\t}, {});\r\n}\r\n\r\nfunction updateRestaurantsByURL(url, restaurants) {\r\n\tconst map = {};\r\n\tmap[url] = restaurants;\r\n\treturn map;\r\n}\r\n\r\nfunction combineMaps(existing, update) {\r\n\treturn { ...existing, ...update };\r\n}","/*\r\n * Storage\r\n *\r\n * Facade for storage mechanism (e.g. localStorage) \r\n */\r\nexport default class Storage {\r\n\r\n\tconstructor(storage) {\r\n\t\tthis.storage = storage;\r\n\t}\r\n\r\n\tget(key) {\r\n\t\treturn silent(() => this.storage.getItem(key));\r\n\t}\r\n\r\n\tset(key, prop) {\r\n\t\treturn silent(() => this.storage.setItem(key, prop));\r\n\t}\r\n\r\n\tremove(key) {\r\n\t\treturn silent(() => this.storage.removeItem(key));\r\n\t}\r\n\r\n\tremoveAll() {\r\n\t\treturn silent(() => this.storage.clear());\r\n\t}\r\n\r\n}\r\n\r\n/*\r\n * Utility Functions\r\n */\r\nfunction silent(action) {\r\n\ttry {\r\n\t\treturn action();\r\n\t} catch (e) {\r\n\t\twindow.console.debug(\"Storage Exception:\", e);\r\n\t}\r\n}\r\n","/*\r\n * NullStorage\r\n *\r\n * Class returned by 'StorageFactory' if there is no local storage.\r\n */\r\nexport default class NullStorage {\r\n\tget() {}\r\n\tset() {}\r\n\tremove() {}\r\n\tremoveAll() {}\r\n}\r\n","import Storage from './Storage.js';\r\nimport NullStorage from './NullStorage.js';\r\n\r\nexport default class StorageFactory {\r\n\r\n\tget(localStorage) {\r\n\t\treturn localStorage ? new Storage(localStorage) : new NullStorage();\r\n\t}\r\n\r\n}\r\n","/*\r\n\r\n// User: data\r\n{\r\n\tliked: {\r\n\t\t[restaurant id]: Set<id>\r\n\t}\r\n}\r\n\r\n*/\r\nexport default class LikedMedia {\r\n\r\n\tconstructor(data, storage) {\r\n\t\tthis.liked = setLiked(data);\r\n\t\tthis.storage = storage;\r\n\t}\r\n\r\n\ttoggle(restaurantID, id) {\r\n\t\tconst liked = { ...this.liked };\r\n\t\tconst newLikedState = !isLiked(liked, restaurantID, id);\r\n\r\n\t\tthis.liked = newLikedState\r\n\t\t\t? likeMedia(liked, restaurantID, id)\r\n\t\t\t: unlikeMedia(liked, restaurantID, id);\r\n\r\n\t\t// TODO: Set up event mechanism for updating storage\r\n\t\tupdateStorage(this.storage, this.serialize());\r\n\r\n\t\treturn newLikedState;\r\n\t}\r\n\r\n\tgetAll() {\r\n\t\treturn this.liked;\r\n\t}\r\n\r\n\tisLiked(restaurantID, id) {\r\n\t\treturn isLiked(this.liked, restaurantID, id);\r\n\t}\r\n\r\n\tserialize() {\r\n\t\tconst json = {};\r\n\r\n\t\tfor (const restaurantID in this.liked) {\r\n\t\t\tjson[restaurantID] = [...this.liked[restaurantID]];\r\n\t\t}\r\n\r\n\t\treturn JSON.stringify(json);\r\n\t}\r\n}\r\n\r\n/*\r\n * Utility Functions\r\n */\r\nfunction setLiked(data) {\r\n\tif (!(data))\r\n\t\treturn {};\r\n\r\n\t// Assume data is pre-hydrated object if not string\r\n\treturn (typeof data === 'string') ? hydrate(data) : data;\r\n}\r\n\r\nfunction isLiked(liked, restaurantID, id) {\r\n\treturn (restaurantID in liked)\r\n\t\t&& liked[restaurantID].has(id);\r\n}\r\n\r\nfunction likeMedia(liked, restaurantID, id) {\r\n\tif (!(restaurantID in liked)) {\r\n\t\t\tliked[restaurantID] = new Set();\r\n\t}\r\n\r\n\tliked[restaurantID].add(id);\r\n\r\n\treturn liked;\r\n}\r\n\r\nfunction unlikeMedia(liked, restaurantID, id) {\r\n\tliked[restaurantID].delete(id);\r\n\r\n\tif (liked[restaurantID].size === 0) {\r\n\t\tdelete liked[restaurantID];\r\n\t}\r\n\r\n\treturn liked;\r\n}\r\n\r\nfunction updateStorage(storage, data) {\r\n\tstorage.set('likedMedia', data);\r\n}\r\n\r\nfunction hydrate(data) {\r\n\tconst json = JSON.parse(data);\r\n\r\n\tfor (const restaurantID in json) {\r\n\t\tjson[restaurantID] = new Set(json[restaurantID]);\r\n\t}\r\n\r\n\treturn json;\r\n}\r\n","import mixpanel from 'mixpanel-browser';\n\nclass EventTracker {\n\n    static events = {\n        PAGE_VISIT: 'PAGE_VISIT',\n        NAVIGATE: 'NAVIGATE',\n        REQUEST_CURRENT_LOCATION: 'REQUEST_CURRENT_LOCATION',\n        SEARCH: 'SEARCH',\n        SHOW_LIKED_MEDIA: 'SHOW_LIKED_MEDIA',\n        SHOW_ALL_MEDIA: 'SHOW_ALL_MEDIA',\n        CLICK_GALLERY_MEDIA: 'CLICK_GALLERY_MEDIA',\n        LIKE_MEDIA: 'LIKE_MEDIA',\n        UNLIKE_MEDIA: 'UNLIKE_MEDIA',\n        OPEN_MAP: 'OPEN_MAP',\n        ERROR: 'ERROR'\n    };\n\n    constructor(token) {\n        console.log(`Initialize event tracker with token: ${token}`);\n        mixpanel.init(token, {cross_site_cookie: true});\n    }\n\n    track(event, properties) {\n        console.log(`\n            Tracking event: ${event}\n            ${properties \n                ? \"Properties: \" + JSON.stringify(properties)\n                : \"\"}`);\n        mixpanel.track(event, properties);\n    }\n\n}\n\nexport default EventTracker;\n","const pipe = (...fns) => (x) => fns.reduce((v, f) => f(v), x);\n\nexport default pipe;\n","import constants from '../scrapers/yelp/constants';\nimport pipe from '../utils/pipe';\n\nconst { distances } = constants;\n\nconst urlWithSearchParams = (url, {description, location, distance}) => {\n    return [\n        url,\n        pipe(\n            params => addDescription(description, params),\n            params => addLocation(location, params),\n            params => addDistance(distance, params)\n        )([]).join(\"&\")\n    ].join(\"?\");\n};\n\nfunction addDescription(description, params) {\n    return params.concat(`description=${encodeURIComponent(description)}`);\n}\n\nfunction addLocation(location, params) {\n    return params.concat(`location=${encodeURIComponent(location)}`);\n}\n\nfunction addDistance(distance, params) {\n    return (distance && (distance !== distances.UNKNOWN))\n        ? params.concat(`distance=${encodeURIComponent(distance)}`)\n        : params;\n}\n\nexport default urlWithSearchParams;\n","import './Suggestions.css';\r\nimport { ListGroup, ListGroupItem } from 'reactstrap';\r\n\r\n/*\r\n The parent search form hides suggestions on blur events from the location input, removing this component from the DOM before the click handler of this component can fire.  To mitigate, prevent default on mousedown.\r\n*/\r\nfunction Suggestions({requestLocation}) {\r\n\treturn  (\r\n\t\t<ListGroup className=\"suggestions-list-group\" onMouseDown={e => e.preventDefault()}>\r\n\t\t\t<ListGroupItem tag=\"button\" onClick={requestLocation} action>\r\n\t\t\t\t<div className=\"current-location-container\">\r\n\t\t\t\t\t<img className=\"current-location-icon\" src=\"cursor-fill.svg\" />\r\n\t\t\t\t\t<span>Current Location</span>\r\n\t\t\t\t</div>\r\n\t\t\t</ListGroupItem>\r\n\t\t</ListGroup>\r\n\t);\r\n}\r\n\r\nexport default Suggestions;","import './SearchForm.css';\r\nimport { useState } from 'react';\r\nimport { InputGroup, InputGroupAddon, Input, Button } from 'reactstrap';\r\nimport Suggestions from './Suggestions/Suggestions';\r\n\r\nfunction SearchForm({onSearchRequest, description, setDescription, location, setLocation, requestingLocation, setRequestingLocation}) {\r\n\tconst [suggestionsOpen, setSuggestionsOpen] = useState(false);\r\n\r\n\tconst onDescriptionChange = (event) => {\r\n\t\tsetDescription(event.target.value);\r\n\t};\r\n\r\n\tconst onLocationChange = (event) => {\r\n\t\tconst location = event.target.value;\r\n\r\n\t\tif (location) {\r\n\t\t\thideSuggestions();\r\n\t\t}\r\n\r\n\t\tsetLocation(location);\r\n\t};\r\n  \t\r\n  \tconst toggleSuggestions = () => setSuggestionsOpen(prevState => !prevState);\r\n  \tconst hideSuggestions = () => setSuggestionsOpen(false);\r\n  \tconst getLocationIconSource = (requestingLocation) => requestingLocation ? \"spinner.png\" : \"target.svg\";\r\n  \t\r\n  \tconst requestLocation = (e) => {\r\n  \t\t// Prevent page refresh\r\n  \t\te.preventDefault();\r\n  \t\tconsole.log(\"Requesting location.\");\r\n  \t\tsetRequestingLocation(true);\r\n\t\thideSuggestions();\r\n  \t\tnavigator.geolocation.getCurrentPosition(\r\n\t\t\te => {\r\n\t\t\t\tconst { latitude, longitude } = e.coords;\r\n\t\t\t\tsetRequestingLocation(false);\r\n\t\t\t\tsetLocation(`${latitude.toPrecision(7)}, ${longitude.toPrecision(7)}`);\r\n\t\t\t},\r\n\t\t\te => {\r\n\t\t\t\tsetRequestingLocation(false);\r\n\t\t\t\tconsole.error(e);\r\n\t\t\t},\r\n\t\t\t{timeout: 10 * 1000, maximumAge: 60 * 1000});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form className=\"search-form\" onSubmit={(e) => onSubmit(e, onSearchRequest)}>\r\n\t\t\t<div className=\"input-group-container\">\r\n\t\t\t\t<InputGroup>\r\n\t\t\t\t\t<InputGroupAddon addonType=\"prepend\">\r\n\t\t\t\t\t\t<img className=\"input-icon query-icon\" src=\"magnifying-glass.svg\" />\r\n\t\t\t\t\t</InputGroupAddon>\r\n\t\t\t\t\t<Input className=\"search-input\" type=\"text\" value={description} onChange={onDescriptionChange} placeholder=\"e.g. Pizza\" />\r\n\t\t\t\t</InputGroup>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"input-group-container\">\r\n\t\t\t\t<InputGroup>\r\n\t\t\t\t\t<InputGroupAddon addonType=\"prepend\">\r\n\t\t\t\t\t\t<img className={`input-icon location-icon ${requestingLocation ? \"rotate\" : \"\"}`} src={getLocationIconSource(requestingLocation)} />\r\n\t\t\t\t\t</InputGroupAddon>\r\n\t\t\t\t\t<Input className=\"search-input\" type=\"text\" value={location} onChange={onLocationChange} onClick={toggleSuggestions}\r\n\t\t\t\t\t\tonBlur={hideSuggestions} placeholder=\"e.g. Brooklyn, NY 11237\" />\r\n\t\t\t\t</InputGroup>\r\n\t\t\t\t{suggestionsOpen && <Suggestions requestLocation={requestLocation} />}\r\n\t\t\t</div>\r\n\t\t\t<Button className=\"search-submit-button hidden-submit\" type=\"submit\" />\r\n\t\t</form>\r\n\t);\r\n}\r\n\r\nfunction onSubmit(e, onSearchRequest) {\r\n\te.preventDefault();\r\n\tconsole.log(\"onSubmit()\");\r\n\tonSearchRequest();\r\n}\r\n\r\nexport default SearchForm;\r\n","import './ShowLikedCheckbox.css';\nimport {FormGroup, Input, Label} from \"reactstrap\";\n\nfunction ShowLikedCheckbox({onChange}) {\n    return (\n        <FormGroup className={\"header-check filter-liked-check\"} check>\n            <Label check>\n                <Input type=\"checkbox\" onChange={e => onChange(e.target.checked)} />\n                <span className={\"header-check-text\"}>Show Liked</span>\n            </Label>\n        </FormGroup>\n    );\n}\n\nexport default ShowLikedCheckbox;","import './DistanceDropdown.css';\nimport { useState } from 'react';\nimport constants from \"../../../../scrapers/yelp/constants\";\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\n\nconst { distances } = constants;\nconst dropdownTextContents = {\n    DEFAULT: \"Distance\",\n    options: [\n        \"Bird's-eye View\",\n        \"Driving (5 mi.)\",\n        \"Biking (2 mi.)\",\n        \"Walking (1 mi.)\",\n        \"Within 4 Blocks\"\n    ]\n};\n\nconst DistanceDropdown = ({distance, onDistanceDropdownClick}) => {\n    const [isOpen, setIsOpen] = useState(false);\n    const toggle = () => setIsOpen(!isOpen);\n\n    return (\n        <Dropdown className=\"distance-dropdown\" isOpen={isOpen} toggle={toggle} size=\"sm\" outline={true} color=\"secondary\">\n            <DropdownToggle caret>{getDropdownText(distance)}</DropdownToggle>\n            <DropdownMenu positionFixed={true}>\n                <DropdownItem onClick={() => onDistanceDropdownClick(distances.BLOCKS)}>Within 4 Blocks</DropdownItem>\n                <DropdownItem onClick={() => onDistanceDropdownClick(distances.WALKING)}>Walking (1 mi.)</DropdownItem>\n                <DropdownItem onClick={() => onDistanceDropdownClick(distances.BIKING)}>Biking (2 mi.)</DropdownItem>\n                <DropdownItem onClick={() => onDistanceDropdownClick(distances.DRIVING)}>Driving (5 mi.)</DropdownItem>\n                <DropdownItem onClick={() => onDistanceDropdownClick(distances.BIRDS_EYE)}>Bird's-eye View</DropdownItem>\n            </DropdownMenu>\n        </Dropdown>\n    );\n};\n\nfunction getDropdownText(distance) {\n    return (distance === distances.UNKNOWN)\n        ? dropdownTextContents.DEFAULT\n        : dropdownTextContents.options[distance];\n}\n\nexport default DistanceDropdown;\n","import './Header.css';\r\nimport { useState } from 'react';\r\nimport {\r\n\tCollapse,\r\n\tNavbar,\r\n\tNavbarToggler,\r\n\tNavbarBrand,\r\n\tNav,\r\n\tNavItem\r\n} from 'reactstrap';\r\nimport { NavLink } from 'react-router-dom'\r\nimport SearchForm from './SearchForm/SearchForm';\r\nimport ShowLikedCheckbox from './ShowLikedCheckbox/ShowLikedCheckbox';\r\nimport DistanceDropdown from './DistanceDropdown/DistanceDropdown';\r\n\r\nfunction Header({onSearchRequest, description, setDescription, location, setLocation,\r\n\t\t\t\t\trequestingLocation, setRequestingLocation, setShowLiked, distance,\r\n\t\t\t\t\tonNavLinkClick, onDistanceDropdownClick, onShowLikedChange}) {\r\n\tconst [isOpen, setIsOpen] = useState(false);\r\n\tconst toggle = () => setIsOpen(!isOpen);\r\n\r\n\treturn (\r\n\t\t<Navbar className=\"header-navbar\" color=\"light\" light expand=\"md\">\r\n\t\t\t<NavLink id=\"home-link\" className=\"navbar-brand\" to=\"/\" onClick={() => onNavLinkClick('/')}>\r\n\t\t\t\tGourmand\r\n\t\t\t</NavLink>\r\n        \t<NavbarToggler onClick={toggle} />\r\n        \t<Collapse className=\"header-collapse\" in={true} isOpen={isOpen} timeout={200} navbar>\r\n        \t\t<Nav className=\"header-nav\" navbar>\r\n\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t<NavLink id=\"about-link\" className=\"nav-link\" to=\"/about\" onClick={() => onNavLinkClick('/about')}>About</NavLink>\r\n\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t<NavLink id=\"contact-link\" className=\"nav-link\" to=\"/contact\" onClick={() => onNavLinkClick('/contact')}>Contact</NavLink>\r\n\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t<NavLink id=\"login-link\" className=\"nav-link\" to=\"/login\" onClick={() => onNavLinkClick('/login')}>Log In</NavLink>\r\n\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t<NavItem className=\"nav-separator\" />\r\n\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t<SearchForm description={description} setDescription={setDescription} location={location}\r\n\t\t\t\t\t\t\t\t\tsetLocation={setLocation} requestingLocation={requestingLocation} setRequestingLocation={setRequestingLocation}\r\n\t\t\t\t\t\t\t\t\tonSearchRequest={onSearchRequest} />\r\n\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t<NavItem className=\"dropdown-nav-item\">\r\n\t\t\t\t\t\t<DistanceDropdown distance={distance} onDistanceDropdownClick={onDistanceDropdownClick} />\r\n\t\t\t\t\t\t<ShowLikedCheckbox onChange={onShowLikedChange} />\r\n\t\t\t\t\t</NavItem>\r\n        \t\t</Nav>\r\n        \t</Collapse>\r\n\t\t</Navbar>\r\n\t);\r\n}\r\n\r\nexport default Header;","import Media from '../../domain/Media.js';\r\n\r\nclass YelpMedia extends Media {\r\n\r\n\tconstructor(id, type, caption, source) {\r\n\t\tsuper(id, type, caption, source);\r\n\t}\r\n\r\n\tgetThumbnailURLs() {\r\n\t\tconst stem = this.source.slice(0, -5);\r\n\r\n\t\treturn [\r\n\t\t\tstem + '258s.jpg',\r\n\t\t\tstem + '300s.jpg',\r\n\t\t\tstem + '348s.jpg'\r\n\t\t];\r\n\t}\r\n\r\n}\r\n\r\nexport default YelpMedia","import _ from'underscore';\r\n\r\nexport default class Media {\r\n\r\n\tconstructor(id, type, caption, source) {\r\n\t\tthis.id = id;\r\n\t\tthis.type = type;\r\n\t\tthis.caption = caption;\r\n\t\tthis.source = source;\r\n\t}\r\n\r\n\ttoJSON() {\r\n\t\treturn _.pick(this, 'id', 'type', 'caption', 'source');\r\n\t}\r\n\r\n\tpopulateFromBSON(bson) {\r\n\t\tconst { id, type, caption, source } = bson;\r\n\r\n\t\tthis.id = id;\r\n\t\tthis.type = type;\r\n\t\tthis.caption = caption;\r\n\t\tthis.source = source;\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n}\r\n","export default (width, height, color, className, onClick = () => {}) => {\r\n\treturn (\r\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width={width} height={height} fill={color} className={className} onClick={onClick} viewBox=\"0 0 16 16\">\r\n\t\t  <path d=\"M4 1c2.21 0 4 1.755 4 3.92C8 2.755 9.79 1 12 1s4 1.755 4 3.92c0 3.263-3.234 4.414-7.608 9.608a.513.513 0 0 1-.784 0C3.234 9.334 0 8.183 0 4.92 0 2.755 1.79 1 4 1z\"/>\r\n\t\t</svg>\r\n\t);\r\n}","import './GalleryMedia.css';\r\nimport getLikedMediaIcon from '../../../../utils/getLikedMediaIcon';\r\n\r\nconst delays = [50, 250, 500, 750, 1000];\r\n\r\nconst GalleryMedia = ({ media, onMediaSelection, isLiked }) => {\r\n\tconst delayIndex = Math.floor(Math.random() * delays.length);\r\n\tconst delay = delays[delayIndex];\r\n\treturn (\r\n\t\t<div className={`food-thumbnail-container transition-delay-${delay}`}>\r\n\t\t\t<img className=\"food-thumbnail\" src={media.getThumbnailURLs()[0]} onClick={() => onMediaSelection(media.id)} />\r\n\t\t\t{ isLiked && getLikedMediaIcon(\"16\", \"16\", \"white\", \"liked-media-icon\") }\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default GalleryMedia;\r\n","import './SearchCurtain.css';\r\nimport { Spinner } from 'reactstrap';\r\n\r\nconst SearchCurtain = ({ color }) => {\r\n\treturn (\r\n\t\t<div className=\"search-curtain\">\r\n\t\t\t<div className=\"search-curtain-backdrop\"></div>\r\n\t\t\t<Spinner className=\"search-curtain-spinner\" color={color} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default SearchCurtain;\r\n","export default (width, height, color, className, onClick = () => {}) => {\r\n\treturn (\r\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width={width} height={height} fill={color} className={className} onClick={onClick} viewBox=\"0 0 16 16\">\r\n\t\t  <path d=\"M8 6.236l-.894-1.789c-.222-.443-.607-1.08-1.152-1.595C5.418 2.345 4.776 2 4 2 2.324 2 1 3.326 1 4.92c0 1.211.554 2.066 1.868 3.37.337.334.721.695 1.146 1.093C5.122 10.423 6.5 11.717 8 13.447c1.5-1.73 2.878-3.024 3.986-4.064.425-.398.81-.76 1.146-1.093C14.446 6.986 15 6.131 15 4.92 15 3.326 13.676 2 12 2c-.777 0-1.418.345-1.954.852-.545.515-.93 1.152-1.152 1.595L8 6.236zm.392 8.292a.513.513 0 0 1-.784 0c-1.601-1.902-3.05-3.262-4.243-4.381C1.3 8.208 0 6.989 0 4.92 0 2.755 1.79 1 4 1c1.6 0 2.719 1.05 3.404 2.008.26.365.458.716.596.992a7.55 7.55 0 0 1 .596-.992C9.281 2.049 10.4 1 12 1c2.21 0 4 1.755 4 3.92 0 2.069-1.3 3.288-3.365 5.227-1.193 1.12-2.642 2.48-4.243 4.38z\"/>\r\n\t\t</svg>\r\n\t);\r\n}","import './MediaModal.css';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport getUnlikedMediaIcon from '../../../../utils/getUnlikedMediaIcon';\r\nimport getLikedMediaIcon from '../../../../utils/getLikedMediaIcon';\r\n\r\nfunction formatCaption(caption) {\r\n\treturn caption ? `\"${caption}\"` : \"[ No Caption ]\";\r\n}\r\n\r\nfunction onAddressClick(e, address) {\r\n\te.preventDefault();\r\n\topenInNewTab(formatMapLink(address));\r\n}\r\n\r\nfunction openInNewTab(url) {\r\n\tconst win = window.open(url, '_blank');\r\n\twin.focus();\r\n}\r\n\r\nfunction formatMapLink(address) {\r\n\treturn \"https://www.google.com/maps/place/\" + address.join(\" \").replace(\" \", \"+\");\r\n}\r\n\r\nfunction MediaModal({selected, onMediaLikeToggle, onClose, isLiked}) {\r\n\tconsole.log(\"selected:\", selected);\r\n\tconst {media, restaurant} = selected;\r\n\tconst {source, caption} = media;\r\n\tconst {name, address, neighborhoods, categories, rating} = restaurant;\r\n\tconst onIconClick = () => onMediaLikeToggle(media.id);\r\n\r\n\treturn (\r\n\t\t<Modal isOpen={!!selected} toggle={onClose} className=\"media-modal-container\">\r\n\t\t\t<ModalHeader toggle={onClose}>\r\n\t\t\t\t<div className=\"caption\">{formatCaption(caption)}</div>\r\n\t\t\t</ModalHeader>\r\n\t\t\t<ModalBody>\r\n\t\t\t\t<div className=\"modal-info-container\">\r\n\t\t\t\t\t<div className=\"modal-image-container\">\r\n\t\t\t\t\t\t<img className=\"food-media modal-image\" src={source} />\r\n\t\t\t\t\t\t{ isLiked ? getLikedMediaIcon(\"32\", \"32\", \"white\", \"liked-media-icon\", onIconClick) : getUnlikedMediaIcon(\"32\", \"32\", \"white\", \"unliked-media-icon\", onIconClick) }\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"restaurant-details-container\">\r\n\t\t\t\t\t\t{name && <div className=\"restaurant-name\">{name}</div>}\r\n\t\t\t\t\t\t{address && <a onClick={e => onAddressClick(e, address)} className=\"restaurant-address\">{address.join(\" \")}</a>}\r\n\t\t\t\t\t\t{neighborhoods && <div className=\"restaurant-neighborhoods\">{neighborhoods.join(\", \")}</div>}\r\n\t\t\t\t\t\t{categories && <div className=\"restaurant-categories\">{categories.join(\", \")}</div>}\r\n\t\t\t\t\t\t{rating && <div className=\"restaurant-rating\">{rating}</div>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t        </ModalBody>\r\n\t        <ModalFooter>\r\n\t\t\t\t<Button color=\"secondary\" onClick={onClose}>Close</Button>\r\n\t\t\t</ModalFooter>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n\r\nexport default MediaModal;\r\n","import './Gallery.css';\r\nimport { useState, useEffect } from 'react';\r\nimport _ from 'underscore';\r\nimport YelpMedia from '../../../../scrapers/yelp/YelpMedia';\r\nimport GalleryMedia from './GalleryMedia/GalleryMedia';\r\nimport SearchCurtain from './SearchCurtain/SearchCurtain';\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport MediaModal from \"./MediaModal/MediaModal\";\r\n\r\nconst Gallery = ({restaurants, selectedMediaID, onMediaSelection, isLikedMedia, searching,\r\n\t\t\t\t\t showLiked, mediaModalProps, mediaOrder, onEntered, transitionTimeout}) => {\r\n\t// console.log(\"media:\", media);\r\n\tconst [canShuffleMedia, setCanShuffleMedia] = useState(!mediaOrder);\r\n\tconst [shuffledMedia, setShuffledMedia] = useState([]);\r\n\tconst [canEnter, setCanEnter] = useState(true);\r\n\tconst color = restaurants.length ? \"light\" : \"dark\";\r\n\tconst canRender = !searching && canEnter;\r\n\tconst renderedMedia = mediaOrder ? getOrderedMedia(restaurants, mediaOrder) : filterLiked(shuffledMedia, showLiked, isLikedMedia);\r\n\tconst onExited = () => {\r\n\t\tsetCanShuffleMedia(true);\r\n\t\tsetCanEnter(true);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!mediaOrder) {\r\n\t\t\tsetCanShuffleMedia(canRender);\r\n\t\t}\r\n\t}, [searching, canEnter])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (canShuffleMedia) {\r\n\t\t\tsetShuffledMedia(getShuffledMedia(restaurants));\r\n\t\t}\r\n\t}, [canShuffleMedia, restaurants]);\r\n\r\n\treturn (\r\n\t\t<CSSTransition classNames={\"thumbnail-swap\"} in={canRender} appear={true} timeout={transitionTimeout || 2000}\r\n\t\t\t\t\t   onEntered={onEntered} onExit={() => setCanEnter(false)} onExited={onExited}>\r\n\t\t\t<div className=\"gallery-container\">\r\n\t\t\t\t{renderedMedia.map((media, i) => (\r\n\t\t\t\t\t<GalleryMedia key={i} searching={searching} media={media} onMediaSelection={onMediaSelection} isLiked={isLikedMedia(media.id)} />\r\n\t\t\t\t))}\r\n\t\t\t\t{ searching && <SearchCurtain color={color} />}\r\n\t\t\t\t{selectedMediaID && <MediaModal {...mediaModalProps} />}\r\n\t\t\t</div>\r\n\t\t</CSSTransition>\r\n\t);\r\n};\r\n\r\nfunction filterLiked(media, showLiked, isLikedMedia) {\r\n\treturn showLiked ? media.filter(media => isLikedMedia(media.id)) : media;\r\n}\r\n\r\nfunction getOrderedMedia(restaurants, mediaOrder) {\r\n\tif (!restaurants.length)\r\n\t\treturn restaurants;\r\n\r\n\tconst mediaByID = restaurants\r\n\t\t.flatMap(restaurant => restaurant.media)\r\n\t\t.reduce((map, media) => {\r\n\t\t\tmap[media.id] = media;\r\n\t\t\treturn map;\r\n\t\t}, {})\r\n\r\n\treturn mediaOrder\r\n\t\t.map(id => mediaByID[id])\r\n\t\t.map(media => (new YelpMedia().populateFromBSON(media)));\r\n}\r\n\r\nfunction getShuffledMedia(restaurants) {\r\n\tconsole.log(\"restaurants:\", restaurants);\r\n\tconst allMedia = restaurants.flatMap(restaurant => restaurant.media);\r\n\tconsole.log(\"allMedia:\", allMedia);\r\n\tconst shuffledMedia = _.shuffle(allMedia);\r\n\t// console.log(\"shuffledMedia:\", shuffledMedia);\r\n\treturn shuffledMedia.map(media => (new YelpMedia().populateFromBSON(media)));\r\n}\r\n\r\nexport default Gallery;\r\n","export default [\n  \"JNsJSjDbHH_91HOgr9sCqA\",\n  \"wo-1PKMWwINpEruBqNfIiA\",\n  \"OjACJUFH4i2z95YTr6GSgQ\",\n  \"sIC6jUU6UyubnbaZABkPpw\",\n  \"ovBiAPKpbdwmyc211faoaw\",\n  \"hR32TiJU8Mj5xiVKPS9sOg\",\n  \"OLXglWKpO-NitEylMwCQxQ\",\n  \"i6WcIItMrKuc25riTVOa2w\",\n  \"8KFavjNsE0jNLoWKbuPnYw\",\n  \"D8LU7rW8ZcXcJFuQ5r5EwQ\",\n  \"0MWnjl5XGnV4xBHCfFolHA\",\n  \"B5s2mWw0uJHNp7nc05_5KQ\",\n  \"AcDV9qosxkG4F5053_Ozxw\",\n  \"naIBxTISC8Uk7LxT6JwMZw\",\n  \"RvY295n0LZJibhykdV6WKQ\",\n  \"45KqZOXPwaa5C-wUt0GCZw\",\n  \"Cy7bxhH5pi-7gbx-R6xBGg\",\n  \"RImsui5ffpABZK5E44RB6g\",\n  \"o7GLF55dSQa6wl1mdbNS_Q\",\n  \"2_8haA6LztxN2_ogne931g\",\n  \"MQfHzPOrDdTuvi2vRp0Jgg\",\n  \"NH62518Xp90Ag4sSSrlLew\",\n  \"Aig8NfT8y3n7RonTEU6R7g\",\n  \"4lyvug7N5is0tlt8DjdwdA\",\n  \"-ph6ERHAOUGpSjj-5ezB3w\",\n  \"BHX43-5b1GsqL5QTcUyUWA\",\n  \"clscwgOF9_Ecq-Rwsq7jyQ\",\n  \"9ImrGJAQShKpXYR3XHor9Q\",\n  \"tZ6zE8xRjJU14XoCvN69MA\",\n  \"PFbKEyhlyJIuGZxhqSYlKw\",\n  \"lXecmyyxcrZ_ikvmMZuIJQ\",\n  \"UbLCIVs44kMrn-gohcayPA\",\n  \"kdu-OQK_5o2s2vZZK0Hm8A\",\n  \"lX4tl9QhM0uibrKtGKaKrQ\",\n  \"8Xsu2-QtcqrfNFM9zjEDvg\",\n  \"vCKELKLC9LhdOHrct-g5vw\",\n  \"D-5Td9XsLCekgq3joM6JFw\",\n  \"jplZpyYsst7iMuNs8v6YYw\",\n  \"5fADHJFD-B6RTfDDTp5NCg\",\n  \"L82MR10Nq8MIXmB4UOsEmw\",\n  \"kDX7cOkf3n34he2RB-d1eg\",\n  \"j6Hoc_YpJJapUUzfd9pj8A\",\n  \"e6-wcjGC3l6mfDiUajmJSQ\",\n  \"rLLQ3hoJuV85AcYefCF70A\",\n  \"Fwxy9LPkKU3fDhypYlevtw\",\n  \"H31x1q8-iLFOKIRNdwyBow\",\n  \"Uwu-RxcqVD7y86WeEagmMg\",\n  \"4HgjE1WxnRcMH1pT48HQCg\",\n  \"yMEtHWpKYf2uKQg9RD-oRA\",\n  \"5UYmKinQN08dvY7nh53qUw\",\n  \"qzrLMUmERPzG5RZKNvpGmQ\",\n  \"xcqOeQeP-H81cBvdpYU79A\",\n  \"pFuYCC-Ku1aRxkFfhCuUoQ\",\n  \"Ve4NvCiHBzHXzHdMVLoB5A\",\n  \"rJACyS33y3DJjrGqNltOGA\",\n  \"yxkJzN_-yPoXgx9p2FUk1g\",\n  \"Xt3BMLOZ7UxbbBGDAjGeWw\",\n  \"C3JP2BzCnoH7dTCg7P_v3A\",\n  \"pz3VgZc7pjEseCn14IBSwA\",\n  \"p9efKzd_XlOT33FKjGkPvA\",\n  \"Mz8N4ggsttTNdvXBxJgr5A\",\n  \"UR6lKY9PaWj1MvIIuMuFsA\",\n  \"QItGxOxkzFcqffTPxOqHiQ\",\n  \"Ic7CbsC9rEVt5WAMzyLmjg\",\n  \"vJDupyCGamWh_langjIeCA\",\n  \"2tiJtevOs04KrOavcwlfgw\",\n  \"Igu73RMmDbK9FSxXURNRnA\",\n  \"PfoqacfguTrChnllOdhviA\",\n  \"xbZwukayFmDsSTq63zcxoA\",\n  \"uMZiwJW9Seie0qSweM7afA\",\n  \"w72XS1-aeaaW55xLPfpcMQ\",\n  \"UkcIOtVlql4t0fzvrA18yw\",\n  \"3ggCaHyfXBxfmjiWNK7INg\",\n  \"y-HgqTSKSPrnc4NvKTn7ug\",\n  \"jYhk78GEe3SWkCgLsXf4zA\",\n  \"O2ph1erEoN9AgOyEYiTn5g\",\n  \"daVm5y6lvydIXm8J0yeahQ\",\n  \"MXbcxwMw7WE7oEvLy06D3Q\",\n  \"iVIYrErB2c7lYaVeVY8PhQ\",\n  \"7ydOP9KWUZfjkG6PduP-6Q\",\n  \"W3WU8nLIJP9oComniVw4dQ\",\n  \"l_PKFtmRq5IrCb0_EDz2Mw\",\n  \"Rq6-DNHA1tq8ZnPMr3acPw\",\n  \"tbFfqvnbx_c4ti5hHi1SlQ\",\n  \"9rDurcWzj3mfXAxwjd77aA\",\n  \"DfUtbYYx6IZU3LzruOpQzQ\",\n  \"NrPQePur6gAyhu__z3sw3A\",\n  \"wlwyeZrOiSvxGGqaMcUITQ\",\n  \"0LNNUofcpOqaCNUCo-SaCw\",\n  \"veRMosxRuW4lGQeUbJJLFw\",\n  \"oM_2_du4oQf2sYiTsZspMg\",\n  \"XMZiAVCf0miasVcL5LvDSQ\",\n  \"pSL2DXLI6fqhLn8ISChjNA\",\n  \"V1whpgh_FFE3L27M9l-GWw\",\n  \"i1pZRFkEscwirTv28fXCgA\",\n  \"W_VFwCIhcAfD0GSIHggIRA\",\n  \"hly8cAfSwbj2x8n9G69pBg\",\n  \"3cR5LDisK0H3sci1qJ6H2w\",\n  \"wvsrArhDz_tmlR4zKkiu_Q\",\n  \"vOe8cjWK-kqDEf4a41qaCQ\",\n  \"4AiSsxe_qPlKhIN5RqhwlA\",\n  \"WHV0UBdhxcnu-l2GXed-IA\",\n  \"GiYuDZwjlSpM2IKu5HywNw\",\n  \"kp2qg5xCXazJI0Pnr0hrjA\",\n  \"OiRqQiw8BiQdwMFd9O3KUQ\",\n  \"hAmD1yFoHRc-I49T0JGVBw\",\n  \"8q5NtSUU6BfnAGbfueMVAw\",\n  \"0K9ICfofQeHuwzkip9-JcQ\",\n  \"0CxtRC4BfPobAfvBBLJH3g\",\n  \"Q1Nxm3LddoBmeBS3gp0bBA\",\n  \"sYVGp3t9SDlDgNme_1hKlA\",\n  \"gvefxJdh10SD40wbaIXAlA\",\n  \"LnARDrSUBIseN0ekqfhOkg\",\n  \"lO7qqJ3RReqWVtowQbgBHQ\",\n  \"0CKvm7jcENINXJc662o8mg\",\n  \"BQoK-TGb42fIoKTgZTmljQ\",\n  \"ENh0J-5YsJrRmymhnbuNDw\",\n  \"LlXWcYU5JlXRk7vYnKv1Ug\",\n  \"QUBBhio9ex9hGk8tQbaiGg\",\n  \"l69WViivrod87JNIbwuijw\",\n  \"dpLRH4yJSga1CYNqnl0-JQ\",\n  \"4dfe9qpe20P-vi3qFjWd4Q\",\n  \"fU2YVTzW1DnbJmMLJF0LqA\",\n  \"zYO7EXV_zvAKTuzpp6VCLw\",\n  \"m9Kk0RIZ7ik2gVZQxHwpKQ\",\n  \"R732FIRT1t8VTnsI8WBARA\",\n  \"3yeb0hektZBFwFQv_PCETQ\",\n  \"N2ZXh-mYh2OC18LVKOxYYg\",\n  \"uOuGHPJAibqiQo62UBAfiA\",\n  \"oB9CFo5mAZLjdN7-wdJM0A\",\n  \"0RUqVbsW5TSY4WQSPS4qaw\",\n  \"6_Ky3Pki7y4Z1OyjkvB4WQ\",\n  \"RAzDqVJnHpdon3fMRLXpJg\",\n  \"WzmcXvY8QONETe2ILIfvJA\",\n  \"ZxN4O-5pfIEE8__bRgq-ig\",\n  \"ctlIbv1YFhZzBUFgFlX16A\",\n  \"fh1uMBN8LYgRoJFE7-oQcQ\",\n  \"xUvlRWX_S8cGH9E9I3BtnA\",\n  \"fDVIjn_eyS0OH1ZPOIZiig\",\n  \"LNdSDlKQ0mxCCglKhpbM6w\",\n  \"md2VoTKoJDXAS1WqNhrSvA\",\n  \"QBDdF7OfR-Z0QrLBlCaKEQ\",\n  \"CBRXLSSG1izVdsN3wAQ8hg\",\n  \"auXDK3AgFZtsMK7S-boxiw\",\n  \"Y_uF4SEFltMXvIk6-EBhEA\",\n  \"qxjhi4aP3a9jYxcodsobgQ\",\n  \"NhqShORuY93bfjlWmkMNLg\",\n  \"ka6kFgDuyc48U8v3FZOf9g\",\n  \"Abo2xRkekn_DCiH5S0kaug\",\n  \"sU5Ei5QUUq6pxi1q512ArQ\",\n  \"iv9OCAmr8fVZ0Lfb3aETpg\",\n  \"qEJE7VBVBuSIuLaRUrvXFw\",\n  \"xRmiDmKYUutyGpiQJeNUNQ\",\n  \"fNsTswXTDbXKDaiL6EkKOQ\",\n  \"809WbuKqCiRAus0HhIC4xw\",\n  \"f0VuSjzCCLuLvl8VBuH8Ug\",\n  \"4zMaZBjZe5dNeCK3MgUY6A\",\n  \"9iMwXe02bT0gMlR7Wh7WUg\",\n  \"1n5xL5ojLR-_zseirQKaMw\",\n  \"vHEkgNTs2to038asQacioQ\",\n  \"Efl8ZtfINJ2kfQnz-XKArA\",\n  \"weti_fkdKwIVJoSF1bhWxQ\",\n  \"H7TB8AasxAAyGy8w2H2QUQ\",\n  \"3N2RJCtXNMtajAMlg__n1Q\",\n  \"UHyL-_GQ8X2V4Bpa7QLtWA\",\n  \"EDQx9Y5xkEf_8KUrWBJl3A\",\n  \"vgWdpAeaGqmFHM9L8tGtgQ\",\n  \"OCDZ4nXoaMHF0TraV0u2-g\",\n  \"hCokJLK3nSe79v3QBw350Q\",\n  \"ENeutQE66vkGKejCpK5YBQ\",\n  \"ug7Di7n7fwJtWCxXjAdJUA\",\n  \"vicWtlir2PmDErr7CPOn5g\",\n  \"M0pfb3y4P0nS5ITDlyYMAg\",\n  \"FfWr6_7wWK5Rh-L7O0ePZw\",\n  \"9wIuw-B6xrx3u5qUnjFqGQ\",\n  \"czwJ0-FBu8YawAlNjIlgAg\",\n  \"q7lprjX7HWWMMVmPZRumSw\",\n  \"lZPG59I1NAYFhAWsVbkykQ\",\n  \"LylkQiPOsKpHMsWsq5edtQ\",\n  \"e_324r-CPTCkBdy4xiaBOg\",\n  \"J4YQVCLQgrSFgKi7w4VC3w\",\n  \"k8xE8euAPO1IL0Jb2rUj3g\",\n  \"n2jkSNSPzaB5vtmvV96o4Q\",\n  \"SBzbmYOLWPGoIumSMhZ5cg\",\n  \"QYvr7o9MOVM4Pp25VDoX1A\",\n  \"sgTGLoIUgFMiRLHYSsaXTQ\",\n  \"B6y1kB7mWwV57vt720pPNg\",\n  \"tO_tQGw_f-QADv18bRj_tg\",\n  \"edK79Gb2DWwmNpcLr0bxgw\",\n  \"bSWbtKskAFSeiwBPQptANw\",\n  \"pJsI1Qn0KfNIJ3vJSo86Hg\",\n  \"mE31lNBhWgzBiogfD8wKKQ\",\n  \"E34Z5j5bD1lTRP9AggXKGw\",\n  \"Ielsk99frSq8ZgZtWmMV7Q\",\n  \"WiTOJZ9KhmZzTxImIzd8MA\",\n  \"6ktAcIBQq1kwQltlhIMF_Q\",\n  \"yKPqCs-qmlytm7S_1-v7ew\",\n  \"ApY7RxKF9GBUq5UBIR9oWg\",\n  \"aWUuDpjA_JK-m43WNLuiXg\",\n  \"6OIKrzLFTI-Wuc2pUq6UKQ\",\n  \"338rqVgi-EbZ0w6aOVaSMA\",\n  \"JXlvk5l-rBGgAd6jzgJq3A\",\n  \"UZUHWiG-ri4zIA3g5H-0hA\",\n  \"2Y2W9ODseGfJjMh1oAYwRw\",\n  \"04jG97Xp_lxgw3TzuRfqfA\",\n  \"kK9DQORFANn4siKSCWh7Dg\",\n  \"vSsJhO83ya0NKSJR_d2yEg\",\n  \"f84TV7bJ4TTaaO-ukN3beg\",\n  \"K-5oYvnlJIEwS3OscBPleQ\",\n  \"m1u4oDvuvEquRl4VZS99LA\",\n  \"xtBIEG8LasWJiciMvg9PqQ\",\n  \"N_pno3f44vvEKW7I8H8zJw\",\n  \"e_B8N0hFtCDRW-B9HYjZnQ\",\n  \"KX7hm2M5rGPumF9m4Rhe-w\",\n  \"W8FpY4J5ULzy8ynmN_w87A\",\n  \"rrhqw_KxQjk_Mgpcj8EZ8g\",\n  \"UUwv9s2CpVGhb45N2TcDCQ\",\n  \"NxRz73F29G6VhnnUSppXAw\",\n  \"Lr8q4jsPIf8Ec07dTftIDQ\",\n  \"U-2TJrLqdjg_6lTaKjQuDg\",\n  \"NDtp_YDFFzZy2bzf0uqMvA\",\n  \"OixGjexLhvMNCqslLcqpNw\",\n  \"nrcnymth7MNbjT36A_44sA\",\n  \"e2LGP3Raq7CnjkDU4QOjqg\",\n  \"EXIUlEfVuo8loO3lbciaEg\",\n  \"spAc-3AsXOVoQfP9gKBf4Q\",\n  \"ZkIU1VjyzFIn851iQQne8g\",\n  \"xtoTj3dB1z350vXDTyyylA\",\n  \"vUpNGgs14HleRcxlnlHb8w\",\n  \"5KRLy3Ffxx3plt4B4DgtqQ\",\n  \"QGOhDg47ELjOMfZZjcyfVA\",\n  \"w0taZk-vWDHYeia1bwdbdw\",\n  \"JdcCGJnQrWGbUgZN_1nwyQ\",\n  \"N1AnP4jD0A_v9NGHGaPA3g\",\n  \"aUKSp0O5oTLgsh47QyJ57g\",\n  \"_gYb3ud0t2qLcSZm01uw4g\",\n  \"5nMa2Q9wgXV93QSO7YF-bQ\",\n  \"yWtsQoI8ZMTNc69ZhWjf9Q\",\n  \"Q5DN9FyxcWfEQO8QiEnmDg\",\n  \"QgrEW-SMfez8OkMHlgg-Rw\",\n  \"VmEwVKxLt3VCL8hv6NPe6w\",\n  \"PG60HdnabTmn9b8UwpCXNw\",\n  \"KlSOY2HZNmBuulymoiXs_w\",\n  \"oaRdhGb7N2m6IkNqq-ncHA\",\n  \"W_Vq8-FqV49FdcU6RQ3viA\",\n  \"BIqND02sEnJNYfDxGo2YTQ\",\n  \"d75CAtSihlDlemmLVEy6qQ\",\n  \"D7m9dIhimYGLW7tR1k-hfw\",\n  \"B3eNfBS1DTkTZ6fasVL01A\",\n  \"h7XOvZN1JCdqJc02w31JyQ\",\n  \"y_XsYXPT-6kT3H7yr0UerA\",\n  \"eSN1CksnpTEp06RZ1I42lQ\",\n  \"wDoXSPITi4x50QZLjctX6w\",\n  \"L6lAx2lB9YQ08svNnAZjDA\",\n  \"gUWF6nllXvGUkHZeeS8tPQ\",\n  \"ZpgQiL05GC34I3AO4tj73A\",\n  \"vJvdTsk01tV1TVk-1QmrHA\",\n  \"cVTbsWuqEHEohKZcsyZnQQ\",\n  \"sa08ZzkTVO5hUAkFZEL7pg\",\n  \"tmZD5rQmlkrwzw3RYnUCVg\",\n  \"TSJiOmlubv2R1pv5mI4dGQ\",\n  \"6qyvj8i4aKF5rWjgsIx3rg\",\n  \"48doX4sxCRLxOl8a6AD35Q\",\n  \"HCFv8Wvv2FVM-rKCoAPNPg\",\n  \"z6_uI5oEm0T-BBnko0dqhQ\",\n  \"vuuvzo1r_pJ_qebiJvTW1A\",\n  \"lM0Xlh3wB8Wmx1Kg-KtnNg\",\n  \"iqytnpOnd5kFJsDkbXzOfg\",\n  \"lCJZ6KsMSXkV-PH1K1mgFA\",\n  \"ZMgLNoF3r4Dg1bAFKr7CfQ\",\n  \"cyGjVI-jk5DZAqyW0ge-Hw\",\n  \"6H1cEJT1U-jWh43-d7cB1Q\",\n  \"Uh1nGIHlHK_xwb1GHwlVpg\",\n  \"6PPnf5H2z2Z_30IF5wAF3g\",\n  \"V8grVFq6Lnzc5jJKuDAFAQ\",\n  \"xRNPKIfF2Gr02zBiBl3dSA\",\n  \"v3F-pk2-1RZ_P_WFtAbmdA\",\n  \"1v1N3C8_yrzDlHIrfSeUYg\",\n  \"L4nXb6_5NR7yMO__KyID_A\",\n  \"nltCMgItjXLrBCoVRsiVlQ\",\n  \"HzFpRjIo39Ywrht51n_Yuw\",\n  \"1FAsc4oIzF5O0H7Fr_WiCA\",\n  \"3uOja3d1pnogIuVCNOzAdw\",\n  \"TCXfmnrFjLSKcBdiWd-q4Q\",\n  \"qbIajNWouEP5U1HxY5I0yA\",\n  \"QOzWXDCkg9hvplsM6NPLQQ\",\n  \"HLLrQD3X30jEWd0dA5QwBw\",\n  \"e8m5L5Z7e9Q3x8Tn7Y6EVA\",\n  \"RvZt5Ar5uzFJfJgqo821lQ\",\n  \"NGuzAKvDcB1agIn7rEBi4A\",\n  \"IpSPUvkcsPy8E4TmvjY4HQ\",\n  \"VPegpBDKXuuNf7Oi-UsmHw\",\n  \"8fY9fA5TtCF0ebdTNph9mQ\",\n  \"qS-fQBZcEMKqgPI0CM1B2w\",\n  \"lP9ZT1q3TjeMmm-4N68vEw\",\n  \"9IjZp2EhoUQzeMMDyCJdrg\",\n  \"w1THUZhsnLEpUbaQ-XAfnA\",\n  \"kiJtk3Gn5J272vXgsfS-xQ\",\n  \"PAgOf4yyRFZR9Lc2gl5X_g\",\n  \"6KJ1a882332ckXcS1-dAbg\"\n];","import './Home.css';\nimport Gallery from \"../common/Gallery/Gallery\";\nimport { useState } from 'react';\nimport mediaOrder from './home-page-media-order.js'\n\nconst Home = (props) => {\n    const [canShowText, setCanShowText] = useState(false);\n\n    return (\n        <div className=\"home-page-container\">\n            <div className={\"home-page-text-container\"  + (canShowText ? \" show\" : \"\")}>\n                <h1 className=\"home-page-text home-page-company-name\">Gourmand</h1>\n                <h3 className=\"home-page-text home-page-slogan\">Find food.  Fast.</h3>\n            </div>\n            <Gallery {...props} mediaOrder={mediaOrder} onEntered={() => setCanShowText(true)}\n                transitionTimeout={50} />\n        </div>\n    );\n};\n\nexport default Home;\n","import './ErrorMessage.css';\r\n\r\nconst ErrorMessage = ({error}) => {\r\n\treturn (\r\n\t\t<div className=\"error-message-container\">\r\n\t\t\t<div className=\"error-apology\">Oops, something went sour.</div>\r\n\t\t\t<div className=\"error-message\">\"{error.message}\"</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ErrorMessage;","import ErrorMessage from \"./ErrorMessage/ErrorMessage\";\nimport Gallery from \"../common/Gallery/Gallery\";\n\nconst SearchResults = ({error, restaurants, selectedMediaID, onMediaSelection, isLikedMedia, searching, showLiked, mediaModalProps}) => (\n    error\n        ? <ErrorMessage error={error} />\n        : <Gallery\n            restaurants={restaurants}\n            selectedMediaID={selectedMediaID}\n            onMediaSelection={onMediaSelection}\n            isLikedMedia={isLikedMedia}\n            searching={searching}\n            showLiked={showLiked}\n            mediaModalProps={mediaModalProps} />\n);\n\nexport default SearchResults;","import './About.css';\nimport { Container } from 'reactstrap';\n\n// Due to a known 'create-react-app' bug (https://github.com/facebook/create-react-app/issues/9870), need to inline the background image from the 'public' directory\nconst About = ({}) => (\n    <div className=\"about-container\" style={{backgroundImage: 'url(/about-background.jpg)'}}>\n        <div className=\"text-container\">\n            <p><span className=\"company-name\">Gourmand</span> is for people who absolutely love food.  Those who always search for new restaurants, dishes, and neighborhoods to try.</p>\n            <p>The problem is that whittling down reviews to find good places is difficult and time consuming.  Information about restaurants is fractured into many different platforms.  Who has time to conduct a research project whenever they get a little hungry?</p>\n            <p>At <span className=\"company-name\">Gourmand</span>, we believe the food should speak for itself.  The rest will follow.</p>\n            <p>Salud!</p>\n        </div>\n    </div>\n);\n\nexport default About;\n","import {Button, Form, FormGroup, Input} from \"reactstrap\";\n\nconst ContactForm = ({name, email, subject, message, setName, setEmail, setSubject, setMessage, onSubmitButtonClick}) => (\n    <Form className=\"contact-form\">\n        <FormGroup>\n            <Input required type=\"text\" name=\"name\" placeholder=\"Name\" value={name} onChange={e => setName(e.target.value)} />\n        </FormGroup>\n        <FormGroup>\n            <Input required type=\"email\" name=\"email\" placeholder=\"Email\" value={email} onChange={e => setEmail(e.target.value)} />\n        </FormGroup>\n        <FormGroup>\n            <Input type=\"text\" name=\"subject\" placeholder=\"Subject\" value={subject} onChange={e => setSubject(e.target.value)} />\n        </FormGroup>\n        <FormGroup>\n            <Input required type=\"textarea\" name=\"message\" placeholder=\"Your Message\" value={message} onChange={e => setMessage(e.target.value)} />\n        </FormGroup>\n        <Button onClick={onSubmitButtonClick} color=\"secondary\">Submit</Button>\n    </Form>\n);\n\nexport default ContactForm;","const scrollToTop = () => {\n    window.scroll({\n        top: 0,\n        left: 0,\n        behavior: 'smooth'\n    });\n};\n\nexport default scrollToTop;\n","import './Contact.css';\nimport React, { useState, useEffect } from 'react';\nimport { Container } from 'reactstrap';\nimport ContactForm from \"./ContactForm/ContactForm\";\nimport scrollToTop from \"../../utils/scrollToTop\";\n\nconst statuses = {\n    UNSENT: '',\n    SUCCESS: 'success',\n    FAILURE: 'failure'\n}\n\nconst submitForm = (data, onSuccess, onError) => {\n    fetch('/contact', {\n        method: 'POST',\n        mode: 'cors',\n        cache: 'no-cache',\n        credentials: 'same-origin',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n    })\n        .then(response => response.json())\n        .then(json => {\n            if (json.status === statuses.SUCCESS) {\n                onSuccess(json);\n            } else {\n                onError(json, json);\n            }\n        })\n        .catch(onError);\n}\n\nconst onSubmitButtonClick = (e, {name, email, subject, message}, { onSuccess, onError }) => {\n    e.preventDefault();\n\n    const data = {\n        name,\n        email,\n        subject: subject || \"[ No Subject ]\",\n        message\n    };\n\n    submitForm(data, onSuccess, onError);\n};\n\nconst onSuccess = (json, setStatus) => {\n    setStatus(json.status);\n    scrollToTop();\n};\n\nconst onError = (e, json, setStatus) => {\n    console.error(e);\n    setStatus(json.status);\n    scrollToTop();\n};\n\nconst UnsetMessage = () => (\n    <React.Fragment>\n        <h1 className=\"contact-header\">Say Hello!</h1>\n        <p className=\"contact-text\">Found a bug?  Have a feature request?  Just want to vent?  Let us know!</p>\n    </React.Fragment>\n);\n\nconst SuccessMessage = () => (\n        <React.Fragment>\n            <h1 className=\"contact-header\">Message Received!</h1>\n            <p className=\"contact-text\">Thanks for reaching out!  We'll get back to you as soon as we can.</p>\n        </React.Fragment>\n);\n\nconst ErrorMessage = () => (\n    <React.Fragment>\n        <h1 className=\"contact-header\">Uh oh!</h1>\n        <p className=\"contact-text\">Looks like something went wrong.  Our team has been notified and we're working on the issue.</p>\n    </React.Fragment>\n);\n\nconst getTextComponent = (status) => {\n    if (status === statuses.UNSENT)\n        return <UnsetMessage />;\n\n    if (status === statuses.SUCCESS)\n        return <SuccessMessage />;\n\n    return <ErrorMessage />;\n};\n\nconst Contact = () => {\n    const [name, setName] = useState('');\n    const [email, setEmail] = useState('');\n    const [subject, setSubject] = useState('');\n    const [message, setMessage] = useState('');\n    const [status, setStatus] = useState('');\n\n    useEffect(() => {\n        if (status !== statuses.UNSENT) {\n            setName('');\n            setEmail('');\n            setSubject('');\n            setMessage('');\n        }\n    }, [status]);\n\n    const contactFormProps = {\n        name, email, subject, message,\n        setName, setEmail, setSubject, setMessage,\n        onSubmitButtonClick: (e) => onSubmitButtonClick(\n            e,\n            {name, email, subject, message},\n            {\n                onSuccess: (json) => onSuccess(json, setStatus),\n                onError: (e, json) => onError(e, json, setStatus)\n            })\n    };\n\n    return (\n        <div className=\"contact-container\">\n            <div className=\"contact-background\" style={{backgroundImage: 'url(/contact-background.jpg)'}} />\n            <Container className=\"contact-content-container\">\n                <div className=\"text-container\">\n                    { getTextComponent(status) }\n                </div>\n                {(status === statuses.UNSENT) && <ContactForm {...contactFormProps} />}\n            </Container>\n        </div>\n    );\n};\n\nexport default Contact;\n\n","import './Login.css';\n\nconst Login = ({}) => {\n    return (\n        <div className=\"login-container\"  style={{backgroundImage: 'url(/login-background.jpg)'}}>\n            <div className=\"text-container\">\n                <h3 className=\"login-text login-header\">We're sorry.  User accounts aren't available yet.</h3>\n                <h6 className=\"login-text\">But you can be sure that, like a good bar, that feature is just around the corner.  🥂  </h6>\n            </div>\n        </div>\n    );\n};\n\nexport default Login;\n","const trackedLink = (selector, event, url) => {\n    const link = { selector, event };\n\n    if (url) {\n        link.properties = { url };\n    }\n\n    return link;\n};\n\nexport default trackedLink;\n","import './App.css';\nimport { useState, useEffect } from 'react';\nimport { Switch, Route, useHistory, useLocation } from 'react-router-dom';\nimport constants from \"../../constants/constants\";\nimport yelpConstants from \"../../scrapers/yelp/constants\";\nimport Lookup from '../../lookup/Lookup';\nimport StorageFactory from '../../storage/StorageFactory';\nimport LikedMedia from '../../user/LikedMedia';\nimport EventTracker from \"../../tracking/EventTracker\";\nimport urlWithSearchParams from '../../search/urlWithSearchParams';\nimport Header from './Header/Header';\nimport Home from './Home/Home';\nimport SearchResults from './SearchResults/SearchResults';\nimport About from './About/About';\nimport Contact from './Contact/Contact';\nimport Login from './Login/Login';\nimport scrollToTop from \"../utils/scrollToTop\";\nimport trackedLink from \"../../utils/trackedLink\";\n\nconst { EVENT_TRACKING_TOKEN } = constants;\nconst { distances } = yelpConstants;\nconst lookup = new Lookup();\nconst storage = new StorageFactory().get(window.localStorage);\nconst likedMedia = new LikedMedia(getLikedMedia(storage), storage);\nconst eventTracker = new EventTracker(\n\tEVENT_TRACKING_TOKEN,\n\t[\n\t\ttrackedLink('#home-link', EventTracker.events.NAVIGATE, '/'),\n\t\ttrackedLink('#about-link', EventTracker.events.NAVIGATE, '/about'),\n\t\ttrackedLink('#contact-link', EventTracker.events.NAVIGATE, '/contact'),\n\t\ttrackedLink('#login-link', EventTracker.events.NAVIGATE, '/login'),\n\t\ttrackedLink('.restaurant-address', EventTracker.events.OPEN_MAP)\n\t]);\n\neventTracker.track(EventTracker.events.PAGE_VISIT);\n\nfunction getLikedMedia(storage) {\n\ttry {\n\t\treturn storage.get('likedMedia');\n\t} catch (e) {\n\t\twindow.console.debug(e);\n\t}\n}\n\nfunction isLikedMedia(id) {\n\treturn id && likedMedia.isLiked(lookup.getRestaurantIDByMediaID(id), id);\n}\n\nfunction toggleLikedMedia(id, setLikedMedia) {\n\tconst { LIKE_MEDIA, UNLIKE_MEDIA } = EventTracker.events;\n\tconst newLikedState = likedMedia.toggle(lookup.getRestaurantIDByMediaID(id), id);\n\teventTracker.track(newLikedState ? LIKE_MEDIA : UNLIKE_MEDIA);\n\tsetLikedMedia(likedMedia.getAll());\n}\n\nfunction updateSearchURL({description, location, distance}, history) {\n\tconsole.log(\"updateSearchURL()\");\n\tconsole.log(\"description:\", description);\n\tconsole.log(\"location:\", location);\n\tconsole.log(\"distance:\", distance);\n\n\tif (!location)\n\t\treturn;\n\n\tconst url = urlWithSearchParams('/gallery', {description, location, distance});\n\tconsole.log(\"url:\", url);\n\treturn history.push(url);\n}\n\nfunction getSelectedMediaInfo(selectedID, lookup) {\n\tconst media = lookup.getMediaByID(selectedID);\n\tconst restaurant = lookup.getRestaurantByID(lookup.getRestaurantIDByMediaID(selectedID));\n\treturn { media, restaurant };\n}\n\nfunction checkResponseForErrors(response) {\n\tif (response.ok) {\n\t\treturn response;\n\t}\n\n\tthrow new Error(response.statusText);\n}\n\nfunction checkJSONForErrors(restaurants) {\n\tconst hasMedia = restaurants.some(restaurant => restaurant.mediaCount > 0);\n\n\tif (hasMedia) {\n\t\treturn restaurants;\n\t}\n\n\tthrow new Error(\"Nothing to see here.\");\n}\n\nfunction getRestaurantJSON(url) {\n\treturn fetch(url)\n\t\t.then(checkResponseForErrors)\n\t\t.then(response => response.text())\n\t\t.then(text => {\n\t\t\t// console.log(\"Restaurant JSON (text):\", text);\n\t\t\treturn JSON.parse(text);\n\t\t})\n\t\t.then(checkJSONForErrors);\n}\n\nfunction onError(e, setError, eventTracker) {\n\twindow.console.error(e);\n\teventTracker.track(EventTracker.events.ERROR, { message: e.message });\n\tsetError(e);\n}\n\nfunction onNavLinkClick(pathname) {\n\teventTracker.track(EventTracker.events.NAVIGATE, { pathname });\n}\n\nconst onDistanceDropdownClick = setDistance => distance => {\n\tsetDistance(distance);\n};\n\nconst onShowLikedChange = setShowLiked => showLiked => {\n\tconst { SHOW_LIKED_MEDIA, SHOW_ALL_MEDIA } = EventTracker.events;\n\teventTracker.track(showLiked ? SHOW_LIKED_MEDIA : SHOW_ALL_MEDIA);\n\tsetShowLiked(showLiked);\n};\n\nfunction App() {\n\tconst [restaurants, setRestaurants] = useState([]);\n\tconst [description, setDescription] = useState('');\n\tconst [location, setLocation] = useState('');\n\tconst [requestingLocation, setRequestingLocation] = useState(false);\n\tconst [selectedMediaID, setSelectedMediaID] = useState('');\n\tconst [likedMedia, setLikedMedia] = useState({});\n\tconst [searching, setSearching] = useState(false);\n\tconst [error, setError] = useState(null);\n\tconst [distance, setDistance] = useState(distances.UNKNOWN);\n\tconst [showLiked, setShowLiked] = useState(false);\n\tconst history = useHistory();\n\tconst browserLocation = useLocation();\n\n\t// console.log(\"selectedMediaID:\", selectedMediaID);\n\tuseEffect(() => {\n\t\tconsole.log(\"browserLocation:\", browserLocation);\n\t\tconst { pathname, search } = browserLocation;\n\n\t\tif (search) {\n\t\t\tsetError(null);\n\t\t\tsetSearching(true);\n\t\t\teventTracker.track(EventTracker.events.SEARCH, { description, location, distance });\n\n\t\t\tconst searchURL = urlWithSearchParams('/search', {description, location, distance});\n\n\t\t\tgetRestaurantJSON(searchURL)\n\t\t\t\t.then(json => {\n\t\t\t\t\tlookup.update(pathname + search, json);\n\t\t\t\t\tconsole.log(\"lookup:\", lookup);\n\t\t\t\t\tsetRestaurants(json);\n\t\t\t\t\tsetSearching(false);\n\t\t\t\t\tscrollToTop();\n\t\t\t\t})\n\t\t\t\t.catch(e => onError(e, setError, eventTracker));\n\t\t} else if (pathname === '/') {\n\t\t\tgetRestaurantJSON('./home-page-restaurants.json')\n\t\t\t\t.then(json => {\n\t\t\t\t\tlookup.update(pathname + search, json);\n\t\t\t\t\tsetRestaurants(json);\n\t\t\t\t})\n\t\t\t\t.catch(e => onError(e, setError, eventTracker));\n\t\t}\n\t}, [browserLocation]);\n\n\tuseEffect(() => {\n\t\tupdateSearchURL({description, location, distance}, history);\n\t}, [distance]);\n\n\tuseEffect(() => {\n\t\tif (requestingLocation) {\n\t\t\teventTracker.track(EventTracker.events.REQUEST_CURRENT_LOCATION);\n\t\t}\n\t}, [requestingLocation]);\n\n\tuseEffect(() => {\n\t\tif (selectedMediaID) {\n\t\t\teventTracker.track(EventTracker.events.CLICK_GALLERY_MEDIA);\n\t\t}\n\t}, [selectedMediaID]);\n\n\tconst headerProps = {\n\t\tdescription,\n\t\tsetDescription,\n\t\tlocation,\n\t\tsetLocation,\n\t\trequestingLocation,\n\t\tsetRequestingLocation,\n\t\tsetShowLiked,\n\t\tdistance,\n\t\tonNavLinkClick,\n\t\tonDistanceDropdownClick: onDistanceDropdownClick(setDistance),\n\t\tonShowLikedChange: onShowLikedChange(setShowLiked),\n\t\tonSearchRequest: () => updateSearchURL({description, location, distance}, history)\n\t};\n\n\tconst mediaModalProps = {\n\t\tselected: getSelectedMediaInfo(selectedMediaID, lookup),\n\t\tonMediaLikeToggle: (id) => toggleLikedMedia(id, setLikedMedia),\n\t\tonClose: () => setSelectedMediaID(''),\n\t\tisLiked: isLikedMedia(selectedMediaID)\n\t};\n\n\tconst galleryProps = {\n\t\tisLikedMedia,\n\t\tsearching,\n\t\tshowLiked,\n\t\tselectedMediaID,\n\t\trestaurants: lookup.getRestaurantsByURL(browserLocation.pathname + browserLocation.search) || restaurants,\n\t\tonMediaSelection: setSelectedMediaID\n\t};\n\n\tconst searchResultsProps = {\n\t\terror,\n\t\t...galleryProps\n\t};\n\n\treturn (\n\t\t<div className=\"app\">\n\t\t\t<Header {...headerProps} />\n\t\t\t<Switch>\n\t\t\t\t<Route exact path={'/'}>\n\t\t\t\t\t<Home {...galleryProps} mediaModalProps={mediaModalProps} />\n\t\t\t\t</Route>\n\t\t\t\t<Route path={'/gallery'}>\n\t\t\t\t\t<SearchResults {...searchResultsProps} mediaModalProps={mediaModalProps} />\n\t\t\t\t</Route>\n\t\t\t\t<Route path={'/about'}>\n\t\t\t\t\t<About />\n\t\t\t\t</Route>\n\t\t\t\t<Route path={'/contact'}>\n\t\t\t\t\t<Contact />\n\t\t\t\t</Route>\n\t\t\t\t<Route path={'/login'}>\n\t\t\t\t\t<Login />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n      <Router>\n        <App />\n      </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}