{"version":3,"sources":["logo.svg","components/Suggestions.js","components/SearchForm.js","components/Header.js","scrapers/yelp/YelpMedia.js","domain/Media.js","components/utils/getLikedMediaIcon.js","components/GalleryMedia.js","components/Gallery.js","components/ErrorMessage.js","components/utils/getUnlikedMediaIcon.js","components/MediaModal.js","lookup/Lookup.js","storage/Storage.js","storage/NullStorage.js","storage/StorageFactory.js","user/LikedMedia.js","App.js","reportWebVitals.js","index.js"],"names":["Suggestions","requestLocation","ListGroup","className","onMouseDown","e","preventDefault","ListGroupItem","tag","onClick","action","src","SearchForm","onSearchRequest","searching","useState","description","setDescription","location","setLocation","suggestionsOpen","setSuggestionsOpen","hideSuggestions","onSubmit","console","log","target","descriptionInput","locationInput","value","Container","Row","Col","xs","md","type","onChange","event","placeholder","prevState","onBlur","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","toPrecision","error","Button","color","Spinner","size","Header","YelpMedia","id","caption","source","stem","this","slice","_","pick","bson","width","height","xmlns","fill","viewBox","d","GalleryMedia","media","onMediaSelection","isLiked","getThumbnailURLs","getLikedMediaIcon","Gallery","restaurants","onMediaLikeToggle","isLikedMedia","shuffledMedia","setShuffledMedia","useEffect","allMedia","flatMap","restaurant","shuffle","map","populateFromBSON","getShuffledMedia","m","i","ErrorMessage","message","formatCaption","onAddressClick","address","url","join","replace","formatMapLink","window","open","focus","MediaModal","selected","onClose","name","neighborhoods","categories","rating","onIconClick","Modal","isOpen","toggle","ModalHeader","ModalBody","getUnlikedMediaIcon","ModalFooter","lookup","restaurantsByID","mediaByID","restaurantIDsByMediaID","Lookup","combineMaps","reduce","updateRestaurantsByID","updateMediaByID","mapMediaIDtoRestaurantID","updateRestaurantIDsByMediaID","updateLookup","existing","update","Storage","storage","key","silent","getItem","prop","setItem","removeItem","clear","debug","NullStorage","StorageFactory","localStorage","LikedMedia","data","liked","json","JSON","parse","restaurantID","Set","hydrate","setLiked","delete","unlikeMedia","add","likeMedia","serialize","set","stringify","has","get","likedMedia","getLikedMedia","getRestaurantIDByMediaID","updateSearchURL","setURL","encodeURIComponent","createSearchURL","getSelectedMediaInfo","selectedID","getMediaByID","getRestaurantByID","checkResponseForErrors","response","ok","Error","statusText","App","setRestaurants","selectedMediaID","setSelectedMediaID","setLikedMedia","setSearching","setError","fetch","then","catch","getAll","toggleLikedMedia","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0ea3af32.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.103b5fa1.svg\";","import { ListGroup, ListGroupItem } from 'reactstrap';\r\n\r\n/*\r\n The parent search form hides suggestions on blur events from the location input, removing this component from the DOM before the click handler of this component can fire.  To mitigate, prevent default on mousedown.\r\n*/\r\nfunction Suggestions({requestLocation}) {\r\n\treturn  (\r\n\t\t<ListGroup className=\"suggestions-list-group\" onMouseDown={e => e.preventDefault()}>\r\n\t\t\t<ListGroupItem tag=\"button\" onClick={requestLocation} action>\r\n\t\t\t\t<div className=\"current-location-container\">\r\n\t\t\t\t\t<img className=\"current-location-icon\" src=\"cursor-fill.svg\" />\r\n\t\t\t\t\t<span>Current Location</span>\r\n\t\t\t\t</div>\r\n\t\t\t</ListGroupItem>\r\n\t\t</ListGroup>\r\n\t);\r\n}\r\n\r\nexport default Suggestions;","import { useState } from 'react';\r\nimport { Container, Row, Col, Button, Spinner } from 'reactstrap';\r\nimport Suggestions from './Suggestions';\r\n\r\nfunction SearchForm({onSearchRequest, searching}) {\r\n\tconst [description, setDescription] = useState('');\r\n\tconst [location, setLocation] = useState('');\r\n\tconst [suggestionsOpen, setSuggestionsOpen] = useState(false);\r\n\r\n\tconst onDescriptionChange = (event) => {\r\n\t\tsetDescription(event.target.value);\r\n\t};\r\n\r\n\tconst onLocationChange = (event) => {\r\n\t\tsetLocation(event.target.value);\r\n\t};\r\n  \t\r\n  \tconst toggleSuggestions = () => setSuggestionsOpen(prevState => !prevState);\r\n  \tconst hideSuggestions = () => setSuggestionsOpen(false);\r\n  \t\r\n  \tconst requestLocation = () => {\r\n  \t\tconsole.log(\"Requesting location.\");\r\n\t\tnavigator.geolocation.getCurrentPosition(\r\n\t\t\te => {\r\n\t\t\t\tconst { latitude, longitude } = e.coords;\r\n\t\t\t\tsetLocation(`${latitude.toPrecision(7)}, ${longitude.toPrecision(7)}`);\r\n\t\t\t\thideSuggestions();\r\n\t\t\t}, \r\n\t\t\te => console.error(e));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form className=\"search-form\" onSubmit={(e) => onSubmit(e, onSearchRequest)}>\r\n\t\t\t<Container className=\"input-container px-0\">\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"description-input-column\" xs=\"12\" md=\"5\">\r\n\t\t\t\t\t\t<Row className=\"description-input-row\">\r\n\t\t\t\t\t\t\t<Col xs=\"3\" md=\"4\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-label\">Description:</div>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col xs=\"6\" md=\"8\">\r\n\t\t\t\t\t\t\t\t<input className=\"search-input\" type=\"text\" value={description} onChange={onDescriptionChange} placeholder=\"e.g. Pizza\" />\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col className=\"location-input-column\" xs=\"12\" md=\"6\">\r\n\t\t\t\t\t\t<Row className=\"location-input-row\">\r\n\t\t\t\t\t\t\t<Col xs=\"3\" md=\"3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-label\">Location:</div>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col xs=\"6\" md=\"7\">\r\n\t\t\t\t\t\t\t\t<input className=\"search-input\" type=\"text\" value={location} onChange={onLocationChange} onClick={toggleSuggestions}\r\n\t\t\t\t\t\t\tonBlur={hideSuggestions} placeholder=\"e.g. Brooklyn, NY 11237\" />\r\n\t\t\t\t\t\t{suggestionsOpen && <Suggestions requestLocation={requestLocation} />}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col xs=\"3\" md=\"2\">\r\n\t\t\t\t\t\t\t\t<Button className=\"search-button\" color=\"primary\">\r\n\t\t\t\t\t\t\t{searching ? <Spinner color=\"light\" size=\"sm\" /> : \"Search\"}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t</form>\r\n\t);\r\n}\r\n\r\nfunction onSubmit(e, onSearchRequest) {\r\n\te.preventDefault();\r\n\tconsole.log(\"onSubmit()\");\r\n\tconsole.log(\"e:\", e);\r\n\tconst [descriptionInput, locationInput] = e.target;\r\n\tonSearchRequest(descriptionInput.value, locationInput.value);\r\n}\r\n\r\nexport default SearchForm;\r\n","import SearchForm from './SearchForm';\r\n\r\nfunction Header({onSearchRequest, searching}) {\r\n\treturn (\r\n\t\t<div className=\"header-container\">\r\n\t\t\t<div className=\"header-content-wrapper\">\r\n\t\t\t\t<h1 className=\"title-header\">Gourmand</h1>\r\n\t\t\t\t<SearchForm onSearchRequest={onSearchRequest} searching={searching} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\t\r\n}\r\n\r\nexport default Header;","import Media from '../../domain/Media.js';\r\n\r\nclass YelpMedia extends Media {\r\n\r\n\tconstructor(id, type, caption, source) {\r\n\t\tsuper(id, type, caption, source);\r\n\t}\r\n\r\n\tgetThumbnailURLs() {\r\n\t\tconst stem = this.source.slice(0, -5);\r\n\r\n\t\treturn [\r\n\t\t\tstem + '258s.jpg',\r\n\t\t\tstem + '300s.jpg',\r\n\t\t\tstem + '348s.jpg'\r\n\t\t];\r\n\t}\r\n\r\n}\r\n\r\nexport default YelpMedia","import _ from'underscore';\r\n\r\nexport default class Media {\r\n\r\n\tconstructor(id, type, caption, source) {\r\n\t\tthis.id = id;\r\n\t\tthis.type = type;\r\n\t\tthis.caption = caption;\r\n\t\tthis.source = source;\r\n\t}\r\n\r\n\ttoJSON() {\r\n\t\treturn _.pick(this, 'id', 'type', 'caption', 'source');\r\n\t}\r\n\r\n\tpopulateFromBSON(bson) {\r\n\t\tconst { id, type, caption, source } = bson;\r\n\r\n\t\tthis.id = id;\r\n\t\tthis.type = type;\r\n\t\tthis.caption = caption;\r\n\t\tthis.source = source;\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n}\r\n","export default (width, height, color, onClick = () => {}) => {\r\n\treturn (\r\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width={width} height={height} fill={color} className=\"liked-media-icon\" onClick={onClick} viewBox=\"0 0 16 16\">\r\n\t\t  <path d=\"M4 1c2.21 0 4 1.755 4 3.92C8 2.755 9.79 1 12 1s4 1.755 4 3.92c0 3.263-3.234 4.414-7.608 9.608a.513.513 0 0 1-.784 0C3.234 9.334 0 8.183 0 4.92 0 2.755 1.79 1 4 1z\"/>\r\n\t\t</svg>\r\n\t);\r\n}","import getLikedMediaIcon from './utils/getLikedMediaIcon';\r\n\r\nconst GalleryMedia = ({ media, onMediaSelection, isLiked }) => {\r\n\treturn (\r\n\t\t<div className=\"food-thumbnail-container\">\r\n\t\t\t<img className=\"food-thumbnail\" src={media.getThumbnailURLs()[0]} onClick={() => onMediaSelection(media.id)} />\r\n\t\t\t{ isLiked && getLikedMediaIcon(\"16\", \"16\", \"white\") }\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default GalleryMedia;\r\n","import { useState, useEffect } from 'react';\r\nimport _ from 'underscore';\r\nimport YelpMedia from '../scrapers/yelp/YelpMedia';\r\nimport GalleryMedia from './GalleryMedia';\r\n\r\nconst Gallery = ({restaurants, onMediaSelection, onMediaLikeToggle, isLikedMedia}) => {\r\n\t// console.log(\"media:\", media);\r\n\tconst [shuffledMedia, setShuffledMedia] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetShuffledMedia(getShuffledMedia(restaurants));\r\n\t}, [restaurants]);\r\n\r\n\treturn (\r\n\t\t<div className=\"gallery-container\">\r\n\t\t\t{shuffledMedia.map((m, i) => <GalleryMedia media={m} onMediaSelection={onMediaSelection} onMediaLikeToggle={onMediaLikeToggle} key={i} isLiked={isLikedMedia(m.id)} />)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nfunction getShuffledMedia(restaurants) {\r\n\tconsole.log(\"restaurants:\", restaurants);\r\n\tconst allMedia = restaurants.flatMap(restaurant => restaurant.media);\r\n\tconsole.log(\"allMedia:\", allMedia);\r\n\tconst shuffledMedia = _.shuffle(allMedia);\r\n\t// console.log(\"shuffledMedia:\", shuffledMedia);\r\n\treturn shuffledMedia.map(media => (new YelpMedia().populateFromBSON(media)));\r\n}\r\n\r\nexport default Gallery;\r\n","const ErrorMessage = ({error}) => {\r\n\treturn (\r\n\t\t<div className=\"error-message-container\">\r\n\t\t\t<div className=\"error-apology\">Oops, something went sour.</div>\r\n\t\t\t<div className=\"error-message\">\"{error.message}\"</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ErrorMessage;","export default (width, height, color, onClick = () => {}) => {\r\n\treturn (\r\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width={width} height={height} fill={color} className=\"unliked-media-icon\" onClick={onClick} viewBox=\"0 0 16 16\">\r\n\t\t  <path d=\"M8 6.236l-.894-1.789c-.222-.443-.607-1.08-1.152-1.595C5.418 2.345 4.776 2 4 2 2.324 2 1 3.326 1 4.92c0 1.211.554 2.066 1.868 3.37.337.334.721.695 1.146 1.093C5.122 10.423 6.5 11.717 8 13.447c1.5-1.73 2.878-3.024 3.986-4.064.425-.398.81-.76 1.146-1.093C14.446 6.986 15 6.131 15 4.92 15 3.326 13.676 2 12 2c-.777 0-1.418.345-1.954.852-.545.515-.93 1.152-1.152 1.595L8 6.236zm.392 8.292a.513.513 0 0 1-.784 0c-1.601-1.902-3.05-3.262-4.243-4.381C1.3 8.208 0 6.989 0 4.92 0 2.755 1.79 1 4 1c1.6 0 2.719 1.05 3.404 2.008.26.365.458.716.596.992a7.55 7.55 0 0 1 .596-.992C9.281 2.049 10.4 1 12 1c2.21 0 4 1.755 4 3.92 0 2.069-1.3 3.288-3.365 5.227-1.193 1.12-2.642 2.48-4.243 4.38z\"/>\r\n\t\t</svg>\r\n\t);\r\n}","import { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport getUnlikedMediaIcon from './utils/getUnlikedMediaIcon';\r\nimport getLikedMediaIcon from './utils/getLikedMediaIcon';\r\n\r\nfunction formatCaption(caption) {\r\n\treturn caption ? `\"${caption}\"` : \"[ No Caption ]\";\r\n}\r\n\r\nfunction onAddressClick(e, address) {\r\n\te.preventDefault();\r\n\topenInNewTab(formatMapLink(address));\r\n}\r\n\r\nfunction openInNewTab(url) {\r\n\tconst win = window.open(url, '_blank');\r\n\twin.focus();\r\n}\r\n\r\nfunction formatMapLink(address) {\r\n\treturn \"https://www.google.com/maps/place/\" + address.join(\" \").replace(\" \", \"+\");\r\n}\r\n\r\nfunction MediaModal({selected, onMediaLikeToggle, onClose, isLiked}) {\r\n\tconsole.log(\"selected:\", selected);\r\n\tconst {media, restaurant} = selected;\r\n\tconst {source, caption} = media;\r\n\tconst {name, address, neighborhoods, categories, rating} = restaurant;\r\n\tconst onIconClick = () => onMediaLikeToggle(media.id);\r\n\r\n\treturn (\r\n\t\t<Modal isOpen={!!selected} toggle={onClose} className=\"media-modal-container\">\r\n\t\t\t<ModalHeader toggle={onClose}>\r\n\t\t\t\t<div className=\"caption\">{formatCaption(caption)}</div>\r\n\t\t\t</ModalHeader>\r\n\t\t\t<ModalBody>\r\n\t\t\t\t<div className=\"modal-info-container\">\r\n\t\t\t\t\t<div className=\"modal-image-container\">\r\n\t\t\t\t\t\t<img className=\"food-media modal-image\" src={source} />\r\n\t\t\t\t\t\t{ isLiked ? getLikedMediaIcon(\"32\", \"32\", \"white\", onIconClick) : getUnlikedMediaIcon(\"32\", \"32\", \"white\", onIconClick) }\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"restaurant-details-container\">\r\n\t\t\t\t\t\t{name && <div className=\"restaurant-name\">{name}</div>}\r\n\t\t\t\t\t\t{address && <a onClick={e => onAddressClick(e, address)} className=\"restaurant-address\">{address.join(\" \")}</a>}\r\n\t\t\t\t\t\t{neighborhoods && <div className=\"restaurant-neighborhoods\">{neighborhoods.join(\", \")}</div>}\r\n\t\t\t\t\t\t{categories && <div className=\"restaurant-categories\">{categories.join(\", \")}</div>}\r\n\t\t\t\t\t\t{rating && <div className=\"restaurant-rating\">{rating}</div>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t        </ModalBody>\r\n\t        <ModalFooter>\r\n\t\t\t\t<Button color=\"secondary\" onClick={onClose}>Close</Button>\r\n\t\t\t</ModalFooter>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n\r\nexport default MediaModal;\r\n","/*\r\n * Lookup\r\n */\r\n const lookup = { \r\n \trestaurantsByID: {}, \r\n \tmediaByID: {}, \r\n \trestaurantIDsByMediaID: {} \r\n };\r\n\r\nexport default class Lookup {\r\n\tupdate(restaurants) {\r\n\t\tupdateLookup(lookup, restaurants);\r\n\t}\r\n\r\n\tgetMediaByID(id) {\r\n\t\treturn lookup.mediaByID[id];\r\n\t}\r\n\r\n\tgetRestaurantByID(id) {\r\n\t\treturn lookup.restaurantsByID[id];\r\n\t}\r\n\r\n\tgetRestaurantIDByMediaID(id) {\r\n\t\treturn lookup.restaurantIDsByMediaID[id];\r\n\t}\r\n};\r\n\r\nfunction updateLookup(lookup, restaurants) {\r\n\tlookup.restaurantsByID = combineMaps(lookup.restaurantsByID, updateRestaurantsByID(restaurants));\r\n\tlookup.mediaByID = combineMaps(lookup.mediaByID, updateMediaByID(restaurants));\r\n\tlookup.restaurantIDsByMediaID = combineMaps(lookup.restaurantIDsByMediaID, updateRestaurantIDsByMediaID(restaurants));\r\n}\r\n\r\nfunction updateRestaurantsByID(restaurants) {\r\n\treturn restaurants.reduce((map, restaurant) => {\r\n\t\tmap[restaurant.id] = restaurant;\r\n\t\treturn map;\r\n\t}, {});\r\n}\r\n\r\nfunction updateMediaByID(restaurants) {\r\n\treturn restaurants\r\n\t\t.flatMap(restaurant => restaurant.media)\r\n\t\t.reduce((map, media) => {\r\n\t\t\tmap[media.id] = media;\r\n\t\t\treturn map;\r\n\t\t}, {});\r\n}\r\n\r\nfunction updateRestaurantIDsByMediaID(restaurants) {\r\n\treturn restaurants.reduce((map, restaurant) => (combineMaps(map, mapMediaIDtoRestaurantID(restaurant))), {});\r\n}\r\n\r\nfunction mapMediaIDtoRestaurantID(restaurant) {\r\n\treturn restaurant.media\r\n\t\t.reduce((map, media) => {\r\n\t\t\tmap[media.id] = restaurant.id;\r\n\t\t\treturn map;\r\n\t\t}, {});\r\n}\r\n\r\nfunction combineMaps(existing, update) {\r\n\treturn { ...existing, ...update };\r\n}","/*\r\n * Storage\r\n *\r\n * Facade for storage mechanism (e.g. localStorage) \r\n */\r\nexport default class Storage {\r\n\r\n\tconstructor(storage) {\r\n\t\tthis.storage = storage;\r\n\t}\r\n\r\n\tget(key) {\r\n\t\treturn silent(() => this.storage.getItem(key));\r\n\t}\r\n\r\n\tset(key, prop) {\r\n\t\treturn silent(() => this.storage.setItem(key, prop));\r\n\t}\r\n\r\n\tremove(key) {\r\n\t\treturn silent(() => this.storage.removeItem(key));\r\n\t}\r\n\r\n\tremoveAll() {\r\n\t\treturn silent(() => this.storage.clear());\r\n\t}\r\n\r\n}\r\n\r\n/*\r\n * Utility Functions\r\n */\r\nfunction silent(action) {\r\n\ttry {\r\n\t\treturn action();\r\n\t} catch (e) {\r\n\t\twindow.console.debug(\"Storage Exception:\", e);\r\n\t}\r\n}\r\n","/*\r\n * NullStorage\r\n *\r\n * Class returned by 'StorageFactory' if there is no local storage.\r\n */\r\nexport default class NullStorage {\r\n\tget() {}\r\n\tset() {}\r\n\tremove() {}\r\n\tremoveAll() {}\r\n}\r\n","import Storage from './Storage.js';\r\nimport NullStorage from './NullStorage.js';\r\n\r\nexport default class StorageFactory {\r\n\r\n\tget(localStorage) {\r\n\t\treturn localStorage ? new Storage(localStorage) : new NullStorage();\r\n\t}\r\n\r\n}\r\n","/*\r\n\r\n// User: data\r\n{\r\n\tliked: {\r\n\t\t[restaurant id]: Set<id>\r\n\t}\r\n}\r\n\r\n*/\r\nexport default class LikedMedia {\r\n\r\n\tconstructor(data, storage) {\r\n\t\tthis.liked = setLiked(data);\r\n\t\tthis.storage = storage;\r\n\t}\r\n\r\n\ttoggle(restaurantID, id) {\r\n\t\tconst liked = { ...this.liked };\r\n\r\n\t\tthis.liked = isLiked(liked, restaurantID, id)\r\n\t\t\t? unlikeMedia(liked, restaurantID, id)\r\n\t\t\t: likeMedia(liked, restaurantID, id);\r\n\r\n\t\t// TODO: Set up event mechanism for updating storage\r\n\t\tupdateStorage(this.storage, this.serialize());\r\n\t}\r\n\r\n\tgetAll() {\r\n\t\treturn this.liked;\r\n\t}\r\n\r\n\tisLiked(restaurantID, id) {\r\n\t\treturn isLiked(this.liked, restaurantID, id);\r\n\t}\r\n\r\n\tserialize() {\r\n\t\tconst json = {};\r\n\r\n\t\tfor (const restaurantID in this.liked) {\r\n\t\t\tjson[restaurantID] = [...this.liked[restaurantID]];\r\n\t\t}\r\n\r\n\t\treturn JSON.stringify(json);\r\n\t}\r\n}\r\n\r\n/*\r\n * Utility Functions\r\n */\r\nfunction setLiked(data) {\r\n\tif (!(data))\r\n\t\treturn {};\r\n\r\n\t// Assume data is pre-hydrated object if not string\r\n\treturn (typeof data === 'string') ? hydrate(data) : data;\r\n}\r\n\r\nfunction isLiked(liked, restaurantID, id) {\r\n\treturn (restaurantID in liked)\r\n\t\t&& liked[restaurantID].has(id);\r\n}\r\n\r\nfunction likeMedia(liked, restaurantID, id) {\r\n\tif (!(restaurantID in liked)) {\r\n\t\t\tliked[restaurantID] = new Set();\r\n\t}\r\n\r\n\tliked[restaurantID].add(id);\r\n\r\n\treturn liked;\r\n}\r\n\r\nfunction unlikeMedia(liked, restaurantID, id) {\r\n\tliked[restaurantID].delete(id);\r\n\r\n\tif (liked[restaurantID].size === 0) {\r\n\t\tdelete liked[restaurantID];\r\n\t}\r\n\r\n\treturn liked;\r\n}\r\n\r\nfunction updateStorage(storage, data) {\r\n\tstorage.set('likedMedia', data);\r\n}\r\n\r\nfunction hydrate(data) {\r\n\tconst json = JSON.parse(data);\r\n\r\n\tfor (const restaurantID in json) {\r\n\t\tjson[restaurantID] = new Set(json[restaurantID]);\r\n\t}\r\n\r\n\treturn json;\r\n}\r\n","import { useState, useEffect } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport Header from './components/Header';\nimport Gallery from './components/Gallery';\nimport ErrorMessage from './components/ErrorMessage';\nimport MediaModal from './components/MediaModal';\nimport Lookup from './lookup/Lookup';\nimport StorageFactory from './storage/StorageFactory';\nimport LikedMedia from './user/LikedMedia';\n\nconst lookup = new Lookup();\nconst storage = new StorageFactory().get(window.localStorage);\nconst likedMedia = new LikedMedia(getLikedMedia(storage), storage);\n\nfunction getLikedMedia(storage) {\n\ttry {\n\t\treturn storage.get('likedMedia');\n\t} catch (e) {\n\t\twindow.console.debug(e);\n\t}\n}\n\nfunction isLikedMedia(id) {\n\treturn id && likedMedia.isLiked(lookup.getRestaurantIDByMediaID(id), id);\n}\n\nfunction toggleLikedMedia(id, setLikedMedia) {\n\tlikedMedia.toggle(lookup.getRestaurantIDByMediaID(id), id);\n\tsetLikedMedia(likedMedia.getAll());\n}\n\nfunction updateSearchURL(description, location, setURL) {\n\tconsole.log(\"updateSearchURL()\");\n\tconsole.log(\"description:\", description);\n\tconsole.log(\"location:\", location);\n\tif (!location)\n\t\treturn;\n\n\tconst url = createSearchURL(description, location);\n\tconsole.log(\"url:\", url);\n\treturn setURL(url);\n}\n\nfunction createSearchURL(description, location) {\n\treturn `/search?description=${encodeURIComponent(description)}&location=${encodeURIComponent(location)}`;\n}\n\nfunction getSelectedMediaInfo(selectedID, lookup) {\n\tconst media = lookup.getMediaByID(selectedID);\n\tconst restaurant = lookup.getRestaurantByID(lookup.getRestaurantIDByMediaID(selectedID));\n\treturn { media, restaurant };\n}\n\nfunction checkResponseForErrors(response) {\n\tif (response.ok) {\n\t\treturn response;\n\t}\n\n\tthrow Error(response.statusText);\n}\n\nfunction App() {\n\tconst [url, setURL] = useState('');\n\tconst [restaurants, setRestaurants] = useState([]);\n\tconst [selectedMediaID, setSelectedMediaID] = useState('');\n\tconst [likedMedia, setLikedMedia] = useState({});\n\tconst [searching, setSearching] = useState(false);\n\tconst [error, setError] = useState(null);\n\n\tconsole.log(\"selectedMediaID:\", selectedMediaID);\n\tuseEffect(() => {\n\t\tif (url) {\n\t\t\tconsole.log(\"Making request:\", url);\n\t\t\tsetError(null);\n\t\t\tsetSearching(true);\n\n\t\t\tfetch(url)\n\t\t\t\t.then(checkResponseForErrors)\n\t\t\t\t.then(response => response.json())\n\t\t\t\t.then(json => {\n\t\t\t\t\tlookup.update(json);\n\t\t\t\t\tconsole.log(\"lookup:\", lookup);\n\t\t\t\t\tsetRestaurants(json);\n\t\t\t\t\tsetSearching(false);\n\t\t\t\t})\n\t\t\t\t.catch(e => setError(e));\n\t\t}\n\t}, [url])\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<Header onSearchRequest={(description, location) => updateSearchURL(description, location, setURL)} searching={searching} />\n\t\t\t{selectedMediaID && <MediaModal selected={getSelectedMediaInfo(selectedMediaID, lookup)} onMediaLikeToggle={(id) => toggleLikedMedia(id, setLikedMedia)} onClose={() => setSelectedMediaID('')} isLiked={isLikedMedia(selectedMediaID)} />}\n\t\t\t{error ? <ErrorMessage error={error} /> : <Gallery restaurants={restaurants} onMediaSelection={setSelectedMediaID} isLikedMedia={isLikedMedia} />}\n\t\t</div>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}