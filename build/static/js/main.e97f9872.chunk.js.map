{"version":3,"sources":["constants/getGoogleAnalyticsID.js","constants/constants.js","constants/events.js","constants/getEventTrackingToken.js","scrapers/yelp/constants.js","lookup/Lookup.js","storage/LocalStorage.js","storage/NullStorage.js","storage/StorageFactory.js","user/LikedMedia.js","tracking/EventTracker.js","utils/pipe.js","search/urlWithSearchParams.js","auth/User.js","auth/NullUser.js","auth/Auth.js","components/utils/auth/useProvideAuth.js","components/utils/auth/useAuth.js","components/utils/withNavigationTracking/withNavigationTracking.js","components/App/Header/SignUpButton/SignUpButton.js","components/App/Header/SearchForm/Suggestions/Suggestions.js","components/App/Header/SearchForm/LocationRequestErrorModal/LocationRequestErrorModal.js","components/App/Header/SearchForm/SearchForm.js","components/App/Header/ShowLikedCheckbox/ShowLikedCheckbox.js","components/App/Header/DistanceDropdown/DistanceDropdown.js","components/App/Header/LoginNavLink/LoginNavLink.js","components/App/Header/LogoutNavLink/LogoutNavLink.js","components/App/Header/Header.js","components/utils/getLikedMediaIcon.js","components/App/common/Gallery/GalleryMedia/GalleryMedia.js","components/App/common/Gallery/SearchCurtain/SearchCurtain.js","components/App/common/Gallery/Gallery.js","utils/unescapeHTMLEntities.js","scrapers/yelp/YelpMedia.js","domain/Media.js","components/App/common/Gallery/withOrderedMedia.js","components/App/Home/home-page-media-order.js","components/App/Home/Home.js","components/App/common/Gallery/withShuffledMedia.js","components/App/common/MapLink/MapLink.js","components/App/Restaurant/NotesButton/NotesIcon.js","components/App/Restaurant/NotesButton/NotesButton.js","components/App/Restaurant/NotesModal/Notes/Note/Note.js","components/App/Restaurant/NotesModal/Notes/Notes.js","components/App/Restaurant/NotesModal/NotesModal.js","components/utils/useNotesManager/useNotesManager.js","components/App/Restaurant/Restaurant.js","components/App/common/RestaurantsList/RestaurantsList.js","components/App/SearchResults/SearchResultsView/GridIcon.js","components/App/SearchResults/SearchResultsView/ListIcon.js","components/App/SearchResults/SearchResultsView/SearchResultsView.js","components/App/SearchResults/ErrorMessage/ErrorMessage.js","components/App/SearchResults/SearchResults.js","components/App/About/About.js","components/App/Contact/ContactForm/ContactForm.js","components/utils/scrollToTop.js","components/App/Contact/Contact.js","components/App/common/SpinnerButton/SpinnerButton.js","components/utils/setFieldClass.js","components/App/Login/LoginForm/LoginForm.js","components/App/common/FlashMessages/FlashMessage/FlashMessage.js","components/App/common/FlashMessages/FlashMessages.js","components/utils/useFlashMessages/useFlashMessages.js","components/App/Login/Login.js","components/App/SignUp/SignUpForm/SignUpForm.js","common/signUpValidationSchema.js","components/App/SignUp/SignUp.js","components/App/Footer/HomeIcon.js","components/App/Footer/SearchIcon.js","components/App/Footer/PlusIcon.js","components/App/Footer/PinIcon.js","components/App/Footer/UserIcon.js","components/App/Footer/Footer.js","components/App/common/FeatureNotAvailable/FeatureNotAvailable.js","components/App/Upload/Upload.js","components/App/Map/Map.js","components/App/Profile/Profile.js","components/App/common/PrivateRoute/PrivateRoute.js","components/utils/withIDFromURL/withIDFromURL.js","components/utils/getUnlikedMediaIcon.js","components/App/MediaModal/MediaModal.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["getGoogleAnalyticsID","hostname","id","includes","events","SIGN_UP","LOG_IN","PAGE_VISIT","NAVIGATE","REQUEST_CURRENT_LOCATION","SEARCH","SEARCH_RESULTS_VIEW_LIST","SEARCH_RESULTS_VIEW_GALLERY","SHOW_LIKED_MEDIA","SHOW_ALL_MEDIA","CLICK_GALLERY_MEDIA","LIKE_MEDIA","UNLIKE_MEDIA","OPEN_MAP","OPEN_RESTAURANT_PAGE","OPEN_NOTES","CLOSE_NOTES","ADD_NOTE","EDIT_NOTE","DELETE_NOTE","ERROR","EVENT_TRACKING_TOKEN","getEventTrackingToken","window","location","GOOGLE_ANALYTICS_ID","UNKNOWN","BIRDS_EYE","DRIVING","BIKING","WALKING","BLOCKS","lookup","restaurantsByID","mediaByID","restaurantIDsByMediaID","restaurantsByURL","Lookup","url","restaurants","combineMaps","reduce","map","restaurant","updateRestaurantsByID","flatMap","media","updateMediaByID","mapMediaIDtoRestaurantID","updateRestaurantIDsByMediaID","updateRestaurantsByURL","updateLookup","existing","update","LocalStorage","storage","this","key","silent","getItem","prop","setItem","removeItem","clear","action","e","console","debug","NullStorage","StorageFactory","localStorage","LikedMedia","data","liked","setify","JSON","parse","hydrate","setLiked","restaurantID","newLikedState","isLiked","likeMedia","unlikeMedia","likedMedia","Object","keys","forEach","mediaID","stringify","listify","json","has","Set","add","delete","size","EventTracker","token","log","mixpanel","init","cross_site_cookie","event","properties","track","pipe","fns","x","v","f","distances","constants","urlWithSearchParams","description","distance","params","concat","encodeURIComponent","addDescription","addLocation","addDistance","join","User","username","email","notes","NullUser","requestOptions","mode","cache","credentials","headers","redirect","referrerPolicy","checkResponseForErrors","response","status","Error","setUserOnSuccess","auth","success","setUser","Auth","user","authChecked","lastAuthCheck","fetch","then","catch","getUser","isAuthenticated","method","body","values","setLikedMedia","unlikedMedia","URLSearchParams","setNotes","authenticate","useProvideAuth","useState","useEffect","authContext","createContext","useAuth","useContext","ProvideAuth","children","Provider","value","eventTracker","withNavigationTracking","Link","to","onClick","props","pathname","TrackedLink","NavLink","SignUpButton","Button","className","color","Suggestions","requestLocation","ListGroup","onMouseDown","preventDefault","ListGroupItem","tag","src","LocationRequestErrorModal","isOpen","toggle","Modal","ModalBody","ModalFooter","outline","getSearchInputClassName","indicateError","trim","SearchForm","onSearchRequest","setDescription","setLocation","requestingLocation","setRequestingLocation","suggestionsOpen","setSuggestionsOpen","locationRequestError","setLocationRequestError","setIndicateError","hideSuggestions","onSubmit","InputGroup","InputGroupAddon","addonType","Input","type","onChange","target","placeholder","getLocationIconSource","prevState","onBlur","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","toPrecision","error","timeout","maximumAge","ShowLikedCheckbox","FormGroup","check","Label","checked","dropdownTextContents","DEFAULT","options","getDropdownText","DistanceDropdown","onDistanceDropdownClick","setIsOpen","Dropdown","DropdownToggle","caret","DropdownMenu","positionFixed","DropdownItem","LoginNavLink","LogoutNavLink","loggingOut","setLoggingOut","history","useHistory","logOut","push","getSignUpButton","canRenderSignUpButton","Nav","pills","NavItem","getLogInOutNavLink","Header","openedHeader","setOpenedHeader","onShowLikedChange","Navbar","light","NavbarToggler","Collapse","in","navbar","width","height","xmlns","fill","viewBox","d","delays","GalleryMedia","onMediaSelection","delayIndex","Math","floor","random","length","delay","getThumbnailURLs","getLikedMediaIcon","SearchCurtain","Spinner","filterLiked","showLiked","isLikedMedia","filter","Gallery","searching","onEnter","onEntered","transitionTimeout","onExited","renderedMedia","setRenderedMedia","canEnter","setCanEnter","canRender","CSSTransition","classNames","appear","m","unescapeHTMLEntities","str","Html5Entities","decode","YelpMedia","caption","source","stem","slice","bson","_","pick","withOrderedMedia","mediaOrder","orderedMedia","setOrderedMedia","populateFromBSON","getOrderedMedia","OrderedGallery","Home","canShowText","setCanShowText","withShuffledMedia","shuffledMedia","setShuffledMedia","allMedia","copyArray","seed","ss","shuffle","getShuffledMedia","MapLink","address","replace","formatMapLink","open","focus","onAddressClick","NotesIcon","aria-hidden","focusable","data-prefix","data-icon","role","NotesButton","Note","text","onNoteChange","disabled","disable","ref","useRef","useEditable","useCallback","Container","ActionContent","NoNotesMessage","Notes","notesManager","getNotes","threshold","fullSwipe","ListType","IOS","note","i","leadingActions","removeNote","remove","info","trailingActions","makeNoteEditable","setCurrentlyEditableNote","listType","isEditable","NotesModal","ModalHeader","name","useNotesManager","setRestaurant","showNotes","setShowNotes","currentlyEditableNote","retrieveNotes","performIfAuthenticated","message","updatedNotes","splice","removeEmpty","cleanupNotes","updateNotes","Restaurant","getRestaurantDataByID","galleryProps","redirectToLogin","setRedirectToLogin","useLocation","toggleNotesIfAuthenticated","state","from","neighborhoods","unorderedMedia","separatedByLiked","lists","listIndex","getMediaOrder","RestaurantsList","restaurantProps","restaurantIDs","GridIcon","ListIcon","ShuffledGallery","SearchResultsView","onViewSelection","listView","setListView","onViewTabClick","tabs","href","active","ErrorMessage","SearchResults","About","style","backgroundImage","ContactForm","subject","setName","setEmail","setSubject","setMessage","onSubmitButtonClick","Form","required","block","scrollToTop","scroll","top","left","behavior","statuses","onSuccess","onError","submitForm","UnsetMessage","Fragment","SuccessMessage","getTextComponent","Contact","setStatus","contactFormProps","getButtonContent","spin","SpinnerButton","setValidationClass","touched","hasError","setFieldClass","LoginForm","initialValues","validationSchema","submitting","formik","errors","isValid","dirty","component","FormFeedback","password","getLevelClass","level","prefix","FlashMessage","onClose","duration","setTimeout","aria-label","FlashMessages","messages","TransitionGroup","filterMessageByIndex","setter","j","useFlashMessages","successMessages","setSuccessMessages","infoMessages","setInfoMessages","errorMessages","setErrorMessages","messageConfigs","Yup","shape","min","Login","redirectToReferrer","setRedirectToReferrer","setSubmitting","formProps","logIn","SignUpForm","passwordConfirm","max","matches","when","is","val","oneOf","setResponse","getLikedMedia","signUp","SignUp","HomeIcon","SearchIcon","PlusIcon","PinIcon","UserIcon","Footer","FeatureNotAvailable","featureName","Upload","Map","getUserRestaurantIDs","Array","Profile","filterQuery","setFilterQuery","userRestaurants","setUserRestaurants","userRestaurantIDs","currentRestaurantIDs","some","Promise","all","filterData","Fuse","includeScore","includeMatches","search","result","item","getRestaurantIDs","PrivateRoute","rest","checkAuthentication","setCheckAuthentication","hasCheckedAuthentication","render","withIDFromURL","Component","useParams","formatCaption","MediaModal","selected","onMediaLikeToggle","onRestaurantLinkClick","categories","rating","onIconClick","mobileDoubleClickHandler","useDoubleTap","onDoubleClick","getUnlikedMediaIcon","yelpConstants","get","RestaurantPage","getRestaurantIDByMediaID","updateSearchURL","getSelectedMediaInfo","selectedID","getMediaByID","getRestaurantByID","ok","statusText","checkSearchJSONForErrors","mediaCount","getRestaurantJSON","convertResponseToJSON","resolve","warn","setError","setSelectedMediaID","setDistance","setShowLiked","getInitialSearchState","param","fallback","browserLocation","App","loggedIn","setLoggedIn","setRestaurants","setCanRenderSignUpButton","setLikedMediaJSON","selectedMediaID","setSearching","lookupKey","getUsername","startsWith","isGalleryPage","isHomePage","cachedRestaurants","getRestaurantsByURL","listen","ReactGA","initialize","set","page","pageview","headerProps","mediaModalProps","likedState","serialize","getAll","like","unlike","toggleLikedMedia","searchResultsProps","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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A,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBAC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","file":"static/js/main.e97f9872.chunk.js","sourcesContent":["const getGoogleAnalyticsID = (hostname) => {\n    let id = null;\n\n    if (hostname.includes(\"gourmandizer-staging\")) {\n        id = \"UA-193188133-1\";\n    } else if (hostname.includes(\"gourmandizer\")) {\n        id = \"UA-193112804-1\";\n    }\n\n    return id;\n};\n\nexport default getGoogleAnalyticsID;\n","import getEventTrackingToken from \"./getEventTrackingToken\";\nimport getGoogleAnalyticsID from \"./getGoogleAnalyticsID\";\nimport events from './events';\n\nexport default {\n    events,\n    EVENT_TRACKING_TOKEN: getEventTrackingToken(window.location.hostname),\n    GOOGLE_ANALYTICS_ID: getGoogleAnalyticsID(window.location.hostname)\n}\n","const events = {\n    SIGN_UP: 'SIGN_UP',\n    LOG_IN: 'LOG_IN',\n    PAGE_VISIT: 'PAGE_VISIT',\n    NAVIGATE: 'NAVIGATE',\n    REQUEST_CURRENT_LOCATION: 'REQUEST_CURRENT_LOCATION',\n    SEARCH: 'SEARCH',\n    SEARCH_RESULTS_VIEW_LIST: 'SEARCH_RESULTS_VIEW_LIST',\n    SEARCH_RESULTS_VIEW_GALLERY: 'SEARCH_RESULTS_VIEW_GALLERY',\n    SHOW_LIKED_MEDIA: 'SHOW_LIKED_MEDIA',\n    SHOW_ALL_MEDIA: 'SHOW_ALL_MEDIA',\n    CLICK_GALLERY_MEDIA: 'CLICK_GALLERY_MEDIA',\n    LIKE_MEDIA: 'LIKE_MEDIA',\n    UNLIKE_MEDIA: 'UNLIKE_MEDIA',\n    OPEN_MAP: 'OPEN_MAP',\n    OPEN_RESTAURANT_PAGE: 'OPEN_RESTAURANT_PAGE',\n    OPEN_NOTES: 'OPEN_NOTES',\n    CLOSE_NOTES: 'CLOSE_NOTES',\n    ADD_NOTE: 'ADD_NOTE',\n    EDIT_NOTE: 'EDIT_NOTE',\n    DELETE_NOTE: 'DELETE_NOTE',\n    ERROR: 'ERROR'\n};\n\nexport default events;\n","const getEventTrackingToken = (hostname) => {\n    let token;\n\n    if (hostname.includes(\"gourmandizer-staging\")) {\n        token = \"a830086578bb9aecf1a2debcd5d38c5b\";\n    } else if (hostname.includes(\"gourmandizer\")) {\n        token = \"2a1b0bd737f71a28f4dd2ff3f6f65baa\";\n    } else {\n        token = \"dadd0494ac9b4ff110cc4a52ba61a65a\";\n    }\n\n    return token;\n};\n\nexport default getEventTrackingToken;\n","const DOMAIN = \"https://www.yelp.com\";\r\nconst LOCATION_SEARCH_PREFIX = DOMAIN + \"/search\";\r\nconst LOCATION_SEARCH_SNIPPET_PREFIX = LOCATION_SEARCH_PREFIX + \"/snippet\";\r\n\r\nconst queryTypes = {\r\n\tLOCATION: 'location',\r\n\tCOORDINATE: 'coordinate'\r\n};\r\n\r\nconst distances = {\r\n\tUNKNOWN: 'unknown',\r\n\tBIRDS_EYE: 0,\r\n\tDRIVING: 1,\r\n\tBIKING: 2,\r\n\tWALKING: 3,\r\n\tBLOCKS: 4\r\n};\r\n\r\nconst url = {\r\n\tDOMAIN,\r\n\tLOCATION_SEARCH_PREFIX,\r\n\tLOCATION_SEARCH_SNIPPET_PREFIX\r\n};\r\n\r\nconst errorMessages = {\r\n\tBLOCKED_REQUEST: \"BLOCKED_REQUEST\",\r\n\tMEDIA_METADATA_REQUEST_FAILURE: \"MEDIA_METADATA_REQUEST_FAILURE\"\r\n};\r\n\r\nexport default {\r\n\tqueryTypes,\r\n\tdistances,\r\n\turl,\r\n\terrorMessages\r\n};\r\n","/*\r\n * Lookup\r\n */\r\n const lookup = { \r\n \trestaurantsByID: {}, \r\n \tmediaByID: {}, \r\n \trestaurantIDsByMediaID: {},\r\n\trestaurantsByURL: {}\r\n };\r\n\r\nexport default class Lookup {\r\n\tupdate(url, restaurants) {\r\n\t\tupdateLookup(lookup, url, restaurants);\r\n\t}\r\n\r\n\tgetMediaByID(id) {\r\n\t\treturn lookup.mediaByID[id];\r\n\t}\r\n\r\n\tgetRestaurantByID(id) {\r\n\t\treturn lookup.restaurantsByID[id];\r\n\t}\r\n\r\n\tgetRestaurantIDByMediaID(id) {\r\n\t\treturn lookup.restaurantIDsByMediaID[id];\r\n\t}\r\n\r\n\tgetRestaurantsByURL(url) {\r\n\t\treturn lookup.restaurantsByURL[url];\r\n\t}\r\n};\r\n\r\nfunction updateLookup(lookup, url, restaurants) {\r\n\tlookup.restaurantsByID = combineMaps(lookup.restaurantsByID, updateRestaurantsByID(restaurants));\r\n\tlookup.mediaByID = combineMaps(lookup.mediaByID, updateMediaByID(restaurants));\r\n\tlookup.restaurantIDsByMediaID = combineMaps(lookup.restaurantIDsByMediaID, updateRestaurantIDsByMediaID(restaurants));\r\n\tlookup.restaurantsByURL = combineMaps(lookup.restaurantsByURL, updateRestaurantsByURL(url, restaurants));\r\n}\r\n\r\nfunction updateRestaurantsByID(restaurants) {\r\n\treturn restaurants.reduce((map, restaurant) => {\r\n\t\tmap[restaurant.id] = restaurant;\r\n\t\treturn map;\r\n\t}, {});\r\n}\r\n\r\nfunction updateMediaByID(restaurants) {\r\n\treturn restaurants\r\n\t\t.flatMap(restaurant => restaurant.media)\r\n\t\t.reduce((map, media) => {\r\n\t\t\tmap[media.id] = media;\r\n\t\t\treturn map;\r\n\t\t}, {});\r\n}\r\n\r\nfunction updateRestaurantIDsByMediaID(restaurants) {\r\n\treturn restaurants.reduce((map, restaurant) => (combineMaps(map, mapMediaIDtoRestaurantID(restaurant))), {});\r\n}\r\n\r\nfunction mapMediaIDtoRestaurantID(restaurant) {\r\n\treturn restaurant.media\r\n\t\t.reduce((map, media) => {\r\n\t\t\tmap[media.id] = restaurant.id;\r\n\t\t\treturn map;\r\n\t\t}, {});\r\n}\r\n\r\nfunction updateRestaurantsByURL(url, restaurants) {\r\n\tconst map = {};\r\n\tmap[url] = restaurants;\r\n\treturn map;\r\n}\r\n\r\nfunction combineMaps(existing, update) {\r\n\treturn { ...existing, ...update };\r\n}","/*\r\n * LocalStorage\r\n *\r\n * Facade for storage mechanism (e.g. localStorage) \r\n */\r\nexport default class LocalStorage {\r\n\r\n\tconstructor(storage) {\r\n\t\tthis.storage = storage;\r\n\t}\r\n\r\n\tget(key) {\r\n\t\treturn silent(() => this.storage.getItem(key));\r\n\t}\r\n\r\n\tset(key, prop) {\r\n\t\treturn silent(() => this.storage.setItem(key, prop));\r\n\t}\r\n\r\n\tremove(key) {\r\n\t\treturn silent(() => this.storage.removeItem(key));\r\n\t}\r\n\r\n\tremoveAll() {\r\n\t\treturn silent(() => this.storage.clear());\r\n\t}\r\n\r\n}\r\n\r\n/*\r\n * Utility Functions\r\n */\r\nfunction silent(action) {\r\n\ttry {\r\n\t\treturn action();\r\n\t} catch (e) {\r\n\t\twindow.console.debug(\"LocalStorage Exception:\", e);\r\n\t}\r\n}\r\n","/*\r\n * NullStorage\r\n *\r\n * Class returned by 'StorageFactory' if there is no local storage.\r\n */\r\nexport default class NullStorage {\r\n\tget() {}\r\n\tset() {}\r\n\tremove() {}\r\n\tremoveAll() {}\r\n}\r\n","import LocalStorage from './LocalStorage.js';\r\nimport NullStorage from './NullStorage.js';\r\n\r\nexport default class StorageFactory {\r\n\r\n\tget(localStorage) {\r\n\t\treturn localStorage ? new LocalStorage(localStorage) : new NullStorage();\r\n\t}\r\n\r\n}\r\n","/*\r\n\r\n// User: data\r\n{\r\n\tliked: {\r\n\t\t[restaurant id]: Set<id>\r\n\t}\r\n}\r\n\r\n*/\r\nexport default class LikedMedia {\r\n\r\n\tconstructor(data) {\r\n\t\tthis.liked = setLiked(data);\r\n\t}\r\n\r\n\tstatic setify(json) {\r\n\t\treturn setify(json);\r\n\t}\r\n\r\n\ttoggle(restaurantID, id) {\r\n\t\tconst liked = { ...this.liked };\r\n\t\tconst newLikedState = !isLiked(liked, restaurantID, id);\r\n\r\n\t\tthis.liked = newLikedState\r\n\t\t\t? likeMedia(liked, restaurantID, id)\r\n\t\t\t: unlikeMedia(liked, restaurantID, id);\r\n\r\n\t\treturn newLikedState;\r\n\t}\r\n\r\n\tgetAll() {\r\n\t\treturn this.liked;\r\n\t}\r\n\r\n\tisLiked(restaurantID, id) {\r\n\t\treturn isLiked(this.liked, restaurantID, id);\r\n\t}\r\n\r\n\tunlike(restaurantID, id) {\r\n\t\tif (isLiked(this.liked,restaurantID, id)) {\r\n\t\t\tunlikeMedia(this.liked, restaurantID, id);\r\n\t\t}\r\n\t}\r\n\r\n\tmerge(likedMedia) {\r\n\t\tObject.keys(likedMedia)\r\n\t\t\t.forEach(restaurantID => likedMedia[restaurantID]\r\n\t\t\t\t.forEach(mediaID => likeMedia(this.liked, restaurantID, mediaID)));\r\n\t}\r\n\r\n\tserialize() {\r\n\t\treturn JSON.stringify(listify(this.liked));\r\n\t}\r\n\r\n\tlistify() {\r\n\t\treturn listify(this.liked);\r\n\t}\r\n}\r\n\r\n/*\r\n * Utility Functions\r\n */\r\nfunction setLiked(data) {\r\n\tif (!(data))\r\n\t\treturn {};\r\n\r\n\t// Assume data is pre-hydrated object if not string\r\n\treturn (typeof data === 'string') ? hydrate(data) : data;\r\n}\r\n\r\nfunction isLiked(liked, restaurantID, id) {\r\n\treturn (restaurantID in liked)\r\n\t\t&& liked[restaurantID].has(id);\r\n}\r\n\r\nfunction likeMedia(liked, restaurantID, id) {\r\n\tif (!(restaurantID in liked)) {\r\n\t\t\tliked[restaurantID] = new Set();\r\n\t}\r\n\r\n\tliked[restaurantID].add(id);\r\n\r\n\treturn liked;\r\n}\r\n\r\nfunction unlikeMedia(liked, restaurantID, id) {\r\n\tliked[restaurantID].delete(id);\r\n\r\n\tif (liked[restaurantID].size === 0) {\r\n\t\tdelete liked[restaurantID];\r\n\t}\r\n\r\n\treturn liked;\r\n}\r\n\r\nfunction hydrate(data) {\r\n\treturn setify(JSON.parse(data));\r\n}\r\n\r\nfunction setify(json) {\r\n\tconst liked = {};\r\n\r\n\tfor (const restaurantID in json) {\r\n\t\tliked[restaurantID] = new Set(json[restaurantID]);\r\n\t}\r\n\r\n\treturn liked;\r\n}\r\n\r\nfunction listify(liked) {\r\n\tconst json = {};\r\n\r\n\tfor (const restaurantID in liked) {\r\n\t\tjson[restaurantID] = [...liked[restaurantID]];\r\n\t}\r\n\r\n\treturn json;\r\n}","import mixpanel from 'mixpanel-browser';\n\nclass EventTracker {\n\n    constructor(token) {\n        console.log(`Initialize event tracker with token: ${token}`);\n        mixpanel.init(token, {cross_site_cookie: true});\n    }\n\n    track(event, properties) {\n        console.log(`\n            Tracking event: ${event}\n            ${properties \n                ? \"Properties: \" + JSON.stringify(properties)\n                : \"\"}`);\n        mixpanel.track(event, properties);\n    }\n\n}\n\nexport default EventTracker;\n","const pipe = (...fns) => (x) => fns.reduce((v, f) => f(v), x);\n\nexport default pipe;\n","import constants from '../scrapers/yelp/constants';\nimport pipe from '../utils/pipe';\n\nconst { distances } = constants;\n\nconst urlWithSearchParams = (url, {description, location, distance}) => {\n    return [\n        url,\n        pipe(\n            params => addDescription(description, params),\n            params => addLocation(location, params),\n            params => addDistance(distance, params)\n        )([]).join(\"&\")\n    ].join(\"?\");\n};\n\nfunction addDescription(description, params) {\n    return params.concat(`description=${encodeURIComponent(description)}`);\n}\n\nfunction addLocation(location, params) {\n    return params.concat(`location=${encodeURIComponent(location)}`);\n}\n\nfunction addDistance(distance, params) {\n    return (distance && (distance !== distances.UNKNOWN))\n        ? params.concat(`distance=${encodeURIComponent(distance)}`)\n        : params;\n}\n\nexport default urlWithSearchParams;\n","class User {\n\n    constructor(id, username, email, likedMedia, notes) {\n        this.id = id;\n        this.username = username;\n        this.email = email;\n        this.likedMedia = likedMedia;\n        this.notes = notes;\n    }\n\n    getID() {\n        return this.id;\n    }\n\n    getUsername() {\n        return this.username;\n    }\n\n    getEmail() {\n        return this.email;\n    }\n\n    getLikedMedia() {\n        return this.likedMedia;\n    }\n\n    setLikedMedia(likedMedia) {\n        this.likedMedia = likedMedia;\n    }\n\n    getNotes() {\n        return this.notes;\n    }\n\n    setNotes(notes) {\n        this.notes = notes;\n    }\n\n    isAuthenticated() {\n        return true;\n    }\n\n}\n\nexport default User;\n","import User from './User';\nimport LikedMedia from \"../user/LikedMedia\";\n\nclass NullUser extends User {\n\n    constructor() {\n        super('null', 'NullUser', '', new LikedMedia());\n    }\n\n    isAuthenticated() {\n        return false;\n    }\n\n}\n\nexport default NullUser;\n","import User from './User';\nimport NullUser from \"./NullUser\";\nimport LikedMedia from \"../user/LikedMedia\";\n\nconst requestOptions = {\n    mode: 'cors', // no-cors, *cors, same-origin\n    cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n    credentials: 'same-origin', // include, *same-origin, omit\n    headers: {\n        'Content-Type': 'application/json'\n    },\n    redirect: 'follow', // manual, *follow, error\n    referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n};\n\nconst checkResponseForErrors = response => {\n    if (response.status >= 500) {\n        throw new Error(\"Something went wrong.\");\n    }\n\n    return response.json();\n};\n\nconst setUserOnSuccess = (json, auth) => {\n    console.log(\"json: \", json);\n\n    if (json.success) {\n        auth.setUser(new User(\n            json.id,\n            json.username,\n            json.email,\n            new LikedMedia(LikedMedia.setify(json.likedMedia)),\n            json.notes));\n    }\n\n    return json;\n};\n\nclass Auth {\n\n    constructor(user) {\n        this.user = user ? user : new NullUser();\n        this.authChecked = false;\n        this.lastAuthCheck = null;\n    }\n\n    setUser(user) {\n        this.user = user;\n    }\n\n    getUser() {\n        return this.user;\n    }\n\n    authenticate() {\n        if (this.lastAuthCheck)\n            return this.lastAuthCheck;\n\n        this.lastAuthCheck = fetch('/user/authenticate', {\n                ...requestOptions\n            })\n            .then(checkResponseForErrors)\n            .then(json => setUserOnSuccess(json, this))\n            .then(json => {\n                this.authChecked = true;\n                return json;\n            })\n            .catch(e => {\n                this.lastAuthCheck = null;\n                throw e;\n            });\n\n        return this.lastAuthCheck;\n    }\n\n    hasCheckedAuthentication() {\n        return this.authChecked;\n    }\n\n    isAuthenticated() {\n        return this.getUser().isAuthenticated();\n    }\n\n    logIn(credentials) {\n        return fetch('/user/login', {\n                ...requestOptions,\n                method: 'POST',\n                body: JSON.stringify(credentials)\n            })\n            .then(checkResponseForErrors)\n            .then(json => setUserOnSuccess(json, this));\n    }\n\n    logOut() {\n        return fetch('/user/logout', {\n                ...requestOptions,\n                method: 'GET'\n            })\n            .then(response => {\n                console.log(\"response:\", response);\n                this.setUser(new NullUser());\n            });\n    }\n\n    signUp(values) {\n        return fetch('/user/signup', {\n                ...requestOptions,\n                method: 'POST', // *GET, POST, PUT, DELETE, etc.\n                body: JSON.stringify(values) // body data type must match \"Content-Type\" header\n            })\n            .then(checkResponseForErrors)\n            .then(json => setUserOnSuccess(json, this));\n    }\n\n    getLiked() {\n        return fetch('/user/liked', {...requestOptions})\n            .then(checkResponseForErrors);\n    }\n\n    like(likedMedia) {\n        return fetch('/user/like', {\n                ...requestOptions,\n                method: 'POST',\n                body: JSON.stringify({ likedMedia })\n            })\n            .then(checkResponseForErrors)\n            .then(json => {\n                this.user.setLikedMedia(new LikedMedia(LikedMedia.setify(json.likedMedia)));\n                return json;\n            });\n    }\n\n    unlike(unlikedMedia) {\n        return fetch('/user/unlike', {\n                ...requestOptions,\n                method: 'POST',\n                body: JSON.stringify({ unlikedMedia })\n            })\n            .then(checkResponseForErrors)\n            .then(json => {\n                this.user.setLikedMedia(new LikedMedia(LikedMedia.setify(json.likedMedia)));\n                return json;\n            });\n    }\n\n    getNotes(restaurantID) {\n        const params = new URLSearchParams({ restaurantID });\n        return fetch(`/user/notes?${params}`, {\n                ...requestOptions\n            })\n            .then(checkResponseForErrors);\n    }\n\n    updateNotes(restaurantID, notes) {\n        return fetch('/user/notes', {\n                ...requestOptions,\n                method: 'POST',\n                body: JSON.stringify({ notes: { [restaurantID]: notes }})\n            })\n            .then(checkResponseForErrors)\n            .then(json => {\n                this.user.setNotes(json.notes);\n                return json;\n            });\n    }\n\n    getProfileDetails() {\n        return fetch('/user/profile-details', { ...requestOptions })\n            .then(checkResponseForErrors);\n    }\n\n    performIfAuthenticated(action) {\n        return this.authenticate()\n            .then(() => {\n                if (this.isAuthenticated()) {\n                    return action();\n                }\n            })\n            .catch(e => {\n                throw e;\n            });\n    }\n\n    sendPasswordResetEmail() {\n\n    }\n\n    confirmPasswordReset() {\n\n    }\n\n}\n\nexport default Auth;\n","import { useState, useEffect } from 'react';\nimport User from '../../../auth/User';\nimport NullUser from '../../../auth/NullUser';\nimport Auth from '../../../auth/Auth';\n\nconst useProvideAuth = () => {\n    const auth = new Auth(new NullUser());\n    const [ user, setUser ] = useState(auth.getUser());\n\n    useEffect(() => {\n        auth.setUser(user);\n    }, [user]);\n\n    return auth;\n};\n\nexport default useProvideAuth;\n","import { createContext, useContext } from \"react\";\nimport Auth from '../../../auth/Auth';\nimport useProvideAuth from \"./useProvideAuth\";\n\nconst authContext = createContext(new Auth());\nconst useAuth = () => useContext(authContext);\n\nconst ProvideAuth = ({ children }) => {\n    const auth = useProvideAuth();\n    return <authContext.Provider value={auth}>{children}</authContext.Provider>;\n};\n\nexport {\n    useAuth,\n    ProvideAuth\n}\n","import EventTracker from \"../../../tracking/EventTracker\";\nimport constants from '../../../constants/constants'\n\nconst { events } = constants;\nconst eventTracker = new EventTracker(constants.EVENT_TRACKING_TOKEN);\n\nconst trackNavigation = (pathname) => {\n    eventTracker.track(events.NAVIGATE, { pathname });\n}\n\nconst withNavigationTracking = Link => ({ to, onClick, ...props }) => (\n    <Link to={to} onClick={() => trackNavigation(to) && onClick && onClick() } {...props} />\n);\n\nexport default withNavigationTracking;\n","import './SignUpButton.css';\nimport { NavLink } from \"react-router-dom\";\nimport { Button } from \"reactstrap\";\nimport withNavigationTracking from \"../../../utils/withNavigationTracking/withNavigationTracking\";\n\nconst TrackedLink = withNavigationTracking(NavLink);\n\nconst SignUpButton = ({}) => (\n    <Button className=\"sign-up-button\" color=\"secondary\" size=\"sm\">\n        <TrackedLink to=\"/user/signup\">Sign Up</TrackedLink>\n    </Button>\n);\n\nexport default SignUpButton;\n","import './Suggestions.css';\r\nimport { ListGroup, ListGroupItem } from 'reactstrap';\r\n\r\n/*\r\n The parent search form hides suggestions on blur events from the location input, removing this component from the DOM before the click handler of this component can fire.  To mitigate, prevent default on mousedown.\r\n*/\r\nfunction Suggestions({requestLocation}) {\r\n\treturn  (\r\n\t\t<ListGroup className=\"suggestions-list-group\" onMouseDown={e => e.preventDefault()}>\r\n\t\t\t<ListGroupItem tag=\"button\" onClick={requestLocation} action>\r\n\t\t\t\t<div className=\"current-location-container\">\r\n\t\t\t\t\t<img className=\"current-location-icon\" src=\"cursor-fill.svg\" />\r\n\t\t\t\t\t<span>Current Location</span>\r\n\t\t\t\t</div>\r\n\t\t\t</ListGroupItem>\r\n\t\t</ListGroup>\r\n\t);\r\n}\r\n\r\nexport default Suggestions;","import { Modal, ModalBody, ModalFooter, Button } from \"reactstrap\";\n\nconst LocationRequestErrorModal = ({isOpen, toggle}) => (\n    <Modal isOpen={isOpen} toggle={toggle} className=\"location-request-error-modal\">\n        <ModalBody>\n            <p className=\"location-request-error-message\">We are unable to get your current location.  Please enter your location manually.</p>\n        </ModalBody>\n        <ModalFooter>\n            <Button outline color=\"secondary\" onClick={toggle}>Close</Button>\n        </ModalFooter>\n    </Modal>\n);\n\nexport default LocationRequestErrorModal;","import './SearchForm.css';\r\nimport { useState, useEffect } from 'react';\r\nimport { InputGroup, InputGroupAddon, Input, Button } from 'reactstrap';\r\nimport Suggestions from './Suggestions/Suggestions';\r\nimport LocationRequestErrorModal from \"./LocationRequestErrorModal/LocationRequestErrorModal\";\r\n\r\nfunction SearchForm({onSearchRequest, description, setDescription, location, setLocation, requestingLocation, setRequestingLocation}) {\r\n\tconst [suggestionsOpen, setSuggestionsOpen] = useState(false);\r\n\tconst [locationRequestError, setLocationRequestError] = useState(false);\r\n\tconst [indicateError, setIndicateError] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetIndicateError(!!locationRequestError);\r\n\t}, [locationRequestError]);\r\n\r\n\tconst onDescriptionChange = (event) => {\r\n\t\tsetDescription(event.target.value);\r\n\t};\r\n\r\n\tconst onLocationChange = (event) => {\r\n\t\tconst location = event.target.value;\r\n\r\n\t\tif (indicateError) {\r\n\t\t\tsetIndicateError(false);\r\n\t\t}\r\n\r\n\t\tif (location) {\r\n\t\t\thideSuggestions();\r\n\t\t}\r\n\r\n\t\tsetLocation(location);\r\n\t};\r\n  \t\r\n  \tconst toggleSuggestions = () => setSuggestionsOpen(prevState => !prevState);\r\n  \tconst hideSuggestions = () => setSuggestionsOpen(false);\r\n  \tconst getLocationIconSource = (requestingLocation) => requestingLocation ? \"/spinner.png\" : \"/target.svg\";\r\n  \t\r\n  \tconst requestLocation = (e) => {\r\n  \t\t// Prevent page refresh\r\n  \t\te.preventDefault();\r\n  \t\tconsole.log(\"Requesting location.\");\r\n  \t\tsetRequestingLocation(true);\r\n\t\thideSuggestions();\r\n  \t\tnavigator.geolocation.getCurrentPosition(\r\n\t\t\te => {\r\n\t\t\t\tconst { latitude, longitude } = e.coords;\r\n\t\t\t\tsetRequestingLocation(false);\r\n\t\t\t\tsetLocationRequestError(false);\r\n\t\t\t\tsetLocation(`${latitude.toPrecision(7)}, ${longitude.toPrecision(7)}`);\r\n\t\t\t},\r\n\t\t\te => {\r\n\t\t\t\tsetRequestingLocation(false);\r\n\t\t\t\tsetLocationRequestError(true);\r\n\t\t\t\tconsole.error(e);\r\n\t\t\t},\r\n\t\t\t{timeout: 10 * 1000, maximumAge: 60 * 1000});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form className=\"search-form\" onSubmit={(e) => onSubmit(e, onSearchRequest)}>\r\n\t\t\t<div className=\"input-group-container\">\r\n\t\t\t\t<InputGroup>\r\n\t\t\t\t\t<InputGroupAddon addonType=\"prepend\">\r\n\t\t\t\t\t\t<img className=\"input-icon query-icon\" src=\"/magnifying-glass.svg\" />\r\n\t\t\t\t\t</InputGroupAddon>\r\n\t\t\t\t\t<Input className=\"search-input description-input\" type=\"text\" value={description} onChange={onDescriptionChange} placeholder=\"e.g. Pizza\" />\r\n\t\t\t\t</InputGroup>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"input-group-container\">\r\n\t\t\t\t<InputGroup>\r\n\t\t\t\t\t<InputGroupAddon addonType=\"prepend\">\r\n\t\t\t\t\t\t<img className={`input-icon location-icon ${requestingLocation ? \"rotate\" : \"\"}`} src={getLocationIconSource(requestingLocation)} />\r\n\t\t\t\t\t</InputGroupAddon>\r\n\t\t\t\t\t<Input className={getSearchInputClassName(indicateError)} type=\"text\" value={location} onChange={onLocationChange} onClick={toggleSuggestions}\r\n\t\t\t\t\t\tonBlur={hideSuggestions} placeholder=\"e.g. Brooklyn, NY 11237\" />\r\n\t\t\t\t</InputGroup>\r\n\t\t\t\t{suggestionsOpen && <Suggestions requestLocation={requestLocation} />}\r\n\t\t\t\t<LocationRequestErrorModal isOpen={locationRequestError} toggle={() => setLocationRequestError(!locationRequestError)} />\r\n\t\t\t</div>\r\n\t\t\t<Button className=\"search-submit-button hidden-submit\" type=\"submit\" />\r\n\t\t</form>\r\n\t);\r\n}\r\n\r\nfunction onSubmit(e, onSearchRequest) {\r\n\te.preventDefault();\r\n\tconsole.log(\"onSubmit()\");\r\n\tonSearchRequest();\r\n}\r\n\r\nfunction getSearchInputClassName(indicateError) {\r\n\treturn ['search-input', 'location-input', indicateError ? 'error' : \"\"].join(\" \").trim();\r\n}\r\n\r\nexport default SearchForm;\r\n","import './ShowLikedCheckbox.css';\nimport {FormGroup, Input, Label} from \"reactstrap\";\n\nfunction ShowLikedCheckbox({onChange}) {\n    return (\n        <FormGroup className={\"header-check filter-liked-check\"} check>\n            <Label check>\n                <Input type=\"checkbox\" onChange={e => onChange(e.target.checked)} />\n                <span className={\"header-check-text\"}>Show Liked</span>\n            </Label>\n        </FormGroup>\n    );\n}\n\nexport default ShowLikedCheckbox;","import './DistanceDropdown.css';\nimport { useState } from 'react';\nimport constants from \"../../../../scrapers/yelp/constants\";\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\n\nconst { distances } = constants;\nconst dropdownTextContents = {\n    DEFAULT: \"Distance\",\n    options: [\n        \"Bird's-eye View\",\n        \"Driving (5 mi.)\",\n        \"Biking (2 mi.)\",\n        \"Walking (1 mi.)\",\n        \"Within 4 Blocks\"\n    ]\n};\n\nconst DistanceDropdown = ({distance, onDistanceDropdownClick}) => {\n    const [isOpen, setIsOpen] = useState(false);\n    const toggle = () => setIsOpen(!isOpen);\n\n    return (\n        <Dropdown className=\"distance-dropdown\" isOpen={isOpen} toggle={toggle} size=\"sm\" outline={true} color=\"secondary\">\n            <DropdownToggle caret>{getDropdownText(distance)}</DropdownToggle>\n            <DropdownMenu positionFixed={true}>\n                <DropdownItem onClick={() => onDistanceDropdownClick(distances.BLOCKS)}>Within 4 Blocks</DropdownItem>\n                <DropdownItem onClick={() => onDistanceDropdownClick(distances.WALKING)}>Walking (1 mi.)</DropdownItem>\n                <DropdownItem onClick={() => onDistanceDropdownClick(distances.BIKING)}>Biking (2 mi.)</DropdownItem>\n                <DropdownItem onClick={() => onDistanceDropdownClick(distances.DRIVING)}>Driving (5 mi.)</DropdownItem>\n                <DropdownItem onClick={() => onDistanceDropdownClick(distances.BIRDS_EYE)}>Bird's-eye View</DropdownItem>\n            </DropdownMenu>\n        </Dropdown>\n    );\n};\n\nfunction getDropdownText(distance) {\n    return (distance === distances.UNKNOWN)\n        ? dropdownTextContents.DEFAULT\n        : dropdownTextContents.options[distance];\n}\n\nexport default DistanceDropdown;\n","import { NavLink } from \"react-router-dom\";\nimport withNavigationTracking from \"../../../utils/withNavigationTracking/withNavigationTracking\";\n\nconst TrackedLink = withNavigationTracking(NavLink);\n\nconst LoginNavLink = ({}) => (\n    <TrackedLink id=\"login-link\" className=\"nav-link\" to=\"/user/login\">Log In</TrackedLink>\n);\n\nexport default LoginNavLink;\n","import { useState, useEffect } from 'react';\nimport {NavLink, useHistory} from \"react-router-dom\";\nimport {useAuth} from \"../../../utils/auth/useAuth\";\n\nconst LogoutNavLink = ({}) => {\n    const [ loggingOut, setLoggingOut ] = useState(false);\n    const history = useHistory();\n    const auth = useAuth();\n\n    useEffect(() => {\n        if (loggingOut) {\n            auth.logOut()\n                .then(() => history.push('/'))\n                .then(() => console.log(\"User successfully logged out.\"))\n                .catch(e => {\n                    throw e\n                });\n        }\n    }, [loggingOut]);\n\n    const onClick = () => {\n        setLoggingOut(true);\n    };\n\n    return (\n        <NavLink id=\"logout-link\" className=\"nav-link\" to=\"#\" onClick={onClick}>Log Out</NavLink>\n    );\n};\n\nexport default LogoutNavLink;\n","import './Header.css';\r\nimport { useState, useEffect } from 'react';\r\nimport {\r\n\tCollapse,\r\n\tNavbar,\r\n\tNavbarToggler,\r\n\tNavbarBrand,\r\n\tNav,\r\n\tNavItem,\r\n\tButton\r\n} from 'reactstrap';\r\nimport { NavLink } from 'react-router-dom'\r\nimport { useAuth } from \"../../utils/auth/useAuth\";\r\nimport SignUpButton from \"./SignUpButton/SignUpButton\";\r\nimport SearchForm from './SearchForm/SearchForm';\r\nimport ShowLikedCheckbox from './ShowLikedCheckbox/ShowLikedCheckbox';\r\nimport DistanceDropdown from './DistanceDropdown/DistanceDropdown';\r\nimport LoginNavLink from \"./LoginNavLink/LoginNavLink\";\r\nimport LogoutNavLink from \"./LogoutNavLink/LogoutNavLink\";\r\nimport withNavigationTracking from \"../../utils/withNavigationTracking/withNavigationTracking\";\r\n\r\nconst TrackedLink = withNavigationTracking(NavLink);\r\n\r\nconst getSignUpButton = (canRenderSignUpButton, auth) => {\r\n\treturn canRenderSignUpButton && !auth.isAuthenticated()\r\n\t\t&& (\r\n\t\t\t<Nav className=\"ml-auto mr-3\" pills>\r\n\t\t\t\t<NavItem>\r\n\t\t\t\t\t<SignUpButton />\r\n\t\t\t\t</NavItem>\r\n\t\t\t</Nav>\r\n\t\t);\r\n};\r\n\r\nconst getLogInOutNavLink = (auth) => {\r\n\treturn auth.isAuthenticated()\r\n\t\t? <LogoutNavLink />\r\n\t\t: <LoginNavLink />;\r\n};\r\n\r\nconst Header = ({openedHeader, setOpenedHeader, canRenderSignUpButton, onSearchRequest, description, setDescription, location, setLocation,\r\n\t\t\t\t\trequestingLocation, setRequestingLocation, distance,\r\n\t\t\t\t\tonDistanceDropdownClick, onShowLikedChange}) => {\r\n\tconst auth = useAuth();\r\n\tconst toggle = () => setOpenedHeader(!openedHeader);\r\n\r\n\treturn (\r\n\t\t<Navbar className=\"header-navbar\" color=\"light\" light>\r\n\t\t\t<TrackedLink id=\"home-link\" className=\"navbar-brand company-name\" to=\"/\">\r\n\t\t\t\tGourmand\r\n\t\t\t</TrackedLink>\r\n\t\t\t{ getSignUpButton(canRenderSignUpButton, auth) }\r\n        \t<NavbarToggler onClick={toggle} />\r\n        \t<Collapse className=\"header-collapse\" in={true} isOpen={openedHeader} timeout={200} navbar>\r\n        \t\t<Nav className=\"header-nav\" navbar>\r\n\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t<TrackedLink id=\"about-link\" className=\"nav-link\" to=\"/about\">About</TrackedLink>\r\n\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t<TrackedLink id=\"contact-link\" className=\"nav-link\" to=\"/contact\">Contact</TrackedLink>\r\n\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t{ getLogInOutNavLink(auth) }\r\n\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t<NavItem className=\"nav-separator\" />\r\n\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t<SearchForm {...{ description, setDescription, location, setLocation, requestingLocation, setRequestingLocation, onSearchRequest }} />\r\n\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t<NavItem className=\"dropdown-nav-item\">\r\n\t\t\t\t\t\t<DistanceDropdown {...{ distance, onDistanceDropdownClick }} />\r\n\t\t\t\t\t\t<ShowLikedCheckbox onChange={onShowLikedChange} />\r\n\t\t\t\t\t</NavItem>\r\n        \t\t</Nav>\r\n        \t</Collapse>\r\n\t\t</Navbar>\r\n\t);\r\n}\r\n\r\nexport default Header;","export default (width, height, color, className, onClick = () => {}) => {\r\n\treturn (\r\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width={width} height={height} fill={color} className={className} onClick={onClick} viewBox=\"0 0 16 16\">\r\n\t\t  <path d=\"M4 1c2.21 0 4 1.755 4 3.92C8 2.755 9.79 1 12 1s4 1.755 4 3.92c0 3.263-3.234 4.414-7.608 9.608a.513.513 0 0 1-.784 0C3.234 9.334 0 8.183 0 4.92 0 2.755 1.79 1 4 1z\"/>\r\n\t\t</svg>\r\n\t);\r\n}","import './GalleryMedia.css';\r\nimport getLikedMediaIcon from '../../../../utils/getLikedMediaIcon';\r\n\r\nconst delays = [50, 250, 500, 750, 1000];\r\n\r\nconst GalleryMedia = ({ media, onMediaSelection, isLiked }) => {\r\n\tconst delayIndex = Math.floor(Math.random() * delays.length);\r\n\tconst delay = delays[delayIndex];\r\n\treturn (\r\n\t\t<div className={`food-thumbnail-container transition-delay-${delay}`}>\r\n\t\t\t<img className=\"food-thumbnail\" src={media.getThumbnailURLs()[0]} onClick={() => onMediaSelection(media.id)} />\r\n\t\t\t{ isLiked && getLikedMediaIcon(\"16\", \"16\", \"white\", \"liked-media-icon\") }\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default GalleryMedia;\r\n","import './SearchCurtain.css';\r\nimport { Spinner } from 'reactstrap';\r\n\r\nconst SearchCurtain = ({ color }) => {\r\n\treturn (\r\n\t\t<div className=\"search-curtain\">\r\n\t\t\t<div className=\"search-curtain-backdrop\"></div>\r\n\t\t\t<Spinner className=\"search-curtain-spinner\" color={color} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default SearchCurtain;\r\n","import './Gallery.css';\r\nimport { useState, useEffect } from 'react';\r\nimport GalleryMedia from './GalleryMedia/GalleryMedia';\r\nimport SearchCurtain from './SearchCurtain/SearchCurtain';\r\nimport { CSSTransition } from \"react-transition-group\";\r\n\r\nconst Gallery = ({media, onMediaSelection, isLikedMedia, searching,\r\n\t\t\t\t\t showLiked, onEnter, onEntered, onExited, transitionTimeout}) => {\r\n\tconst [renderedMedia, setRenderedMedia] = useState([]);\r\n\tconst [canEnter, setCanEnter] = useState(true);\r\n\tconst color = renderedMedia.length ? \"light\" : \"dark\";\r\n\tconst canRender = !searching && canEnter;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (canRender && (media !== renderedMedia) && media.length) {\r\n\t\t\tsetRenderedMedia(media);\r\n\t\t}\r\n\t}, [canRender, media]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (searching) {\r\n\t\t\tsetCanEnter(false);\r\n\t\t}\r\n\t}, [searching]);\r\n\r\n\treturn (\r\n\t\t<CSSTransition classNames={\"thumbnail-swap\"} in={canRender} appear={true} timeout={transitionTimeout || 1000} onEnter={onEnter} onEntered={onEntered} onExited={() => setCanEnter(true)}>\r\n\t\t\t<div className=\"gallery-container\">\r\n\t\t\t\t{filterLiked(renderedMedia, showLiked, isLikedMedia).map((m) => (\r\n\t\t\t\t\t<GalleryMedia key={m.id} searching={searching} media={m} onMediaSelection={onMediaSelection} isLiked={isLikedMedia(m.id)} />\r\n\t\t\t\t))}\r\n\t\t\t\t{ searching && <SearchCurtain color={color} />}\r\n\t\t\t</div>\r\n\t\t</CSSTransition>\r\n\t);\r\n};\r\n\r\nfunction filterLiked(media, showLiked, isLikedMedia) {\r\n\treturn showLiked ? media.filter(media => isLikedMedia(media.id)) : media;\r\n}\r\n\r\nexport default Gallery;\r\n","import { Html5Entities } from 'html-entities';\n\nfunction unescapeHTMLEntities(str) {\n    return Html5Entities.decode(str);\n}\n\nexport default unescapeHTMLEntities;\n","import Media from '../../domain/Media.js';\r\n\r\nclass YelpMedia extends Media {\r\n\r\n\tconstructor(id, type, caption, source) {\r\n\t\tsuper(id, type, caption, source);\r\n\t}\r\n\r\n\tstatic populateFromBSON(bson) {\r\n\t\tconst { id, type, caption, source } = bson;\r\n\t\treturn new YelpMedia(id, type, caption, source);\r\n\t}\r\n\r\n\tgetThumbnailURLs() {\r\n\t\tconst stem = this.source.slice(0, -5);\r\n\r\n\t\treturn [\r\n\t\t\tstem + '258s.jpg',\r\n\t\t\tstem + '300s.jpg',\r\n\t\t\tstem + '348s.jpg'\r\n\t\t];\r\n\t}\r\n\r\n}\r\n\r\nexport default YelpMedia","import _ from'underscore';\r\nimport unescapeHTMLEntities from \"../utils/unescapeHTMLEntities.js\";\r\n\r\nexport default class Media {\r\n\r\n\tconstructor(id, type, caption, source) {\r\n\t\tthis.id = id;\r\n\t\tthis.type = type;\r\n\t\tthis.caption = caption ? unescapeHTMLEntities(caption) : null;\r\n\t\tthis.source = source;\r\n\t}\r\n\r\n\ttoJSON() {\r\n\t\treturn _.pick(this, 'id', 'type', 'caption', 'source');\r\n\t}\r\n\r\n}\r\n","import { useState, useEffect } from 'react';\nimport YelpMedia from \"../../../../scrapers/yelp/YelpMedia\";\n\nconst withOrderedMedia = (Gallery) => ({ restaurants, mediaOrder, ...props }) => {\n    const [orderedMedia, setOrderedMedia] = useState([]);\n\n    useEffect(() => {\n        setOrderedMedia(getOrderedMedia(restaurants, mediaOrder));\n    }, [restaurants]);\n\n    return <Gallery media={orderedMedia} {...props} />;\n};\n\nfunction getOrderedMedia(restaurants, mediaOrder) {\n    if (!restaurants.length)\n        return restaurants;\n\n    const mediaByID = restaurants\n        .flatMap(restaurant => restaurant.media)\n        .reduce((map, media) => {\n            map[media.id] = media;\n            return map;\n        }, {});\n\n    // TODO: Iteration over a large number of media can cause significant performance degradation\n    return mediaOrder\n        .map(id => mediaByID[id])\n        .map(media => (YelpMedia.populateFromBSON(media)));\n}\n\nexport default withOrderedMedia;\n","export default [\n  \"JNsJSjDbHH_91HOgr9sCqA\",\n  \"wo-1PKMWwINpEruBqNfIiA\",\n  \"OjACJUFH4i2z95YTr6GSgQ\",\n  \"sIC6jUU6UyubnbaZABkPpw\",\n  \"ovBiAPKpbdwmyc211faoaw\",\n  \"hR32TiJU8Mj5xiVKPS9sOg\",\n  \"OLXglWKpO-NitEylMwCQxQ\",\n  \"i6WcIItMrKuc25riTVOa2w\",\n  \"8KFavjNsE0jNLoWKbuPnYw\",\n  \"D8LU7rW8ZcXcJFuQ5r5EwQ\",\n  \"0MWnjl5XGnV4xBHCfFolHA\",\n  \"B5s2mWw0uJHNp7nc05_5KQ\",\n  \"AcDV9qosxkG4F5053_Ozxw\",\n  \"naIBxTISC8Uk7LxT6JwMZw\",\n  \"RvY295n0LZJibhykdV6WKQ\",\n  \"45KqZOXPwaa5C-wUt0GCZw\",\n  \"Cy7bxhH5pi-7gbx-R6xBGg\",\n  \"RImsui5ffpABZK5E44RB6g\",\n  \"o7GLF55dSQa6wl1mdbNS_Q\",\n  \"2_8haA6LztxN2_ogne931g\",\n  \"MQfHzPOrDdTuvi2vRp0Jgg\",\n  \"NH62518Xp90Ag4sSSrlLew\",\n  \"Aig8NfT8y3n7RonTEU6R7g\",\n  \"4lyvug7N5is0tlt8DjdwdA\",\n  \"-ph6ERHAOUGpSjj-5ezB3w\",\n  \"BHX43-5b1GsqL5QTcUyUWA\",\n  \"clscwgOF9_Ecq-Rwsq7jyQ\",\n  \"9ImrGJAQShKpXYR3XHor9Q\",\n  \"tZ6zE8xRjJU14XoCvN69MA\",\n  \"PFbKEyhlyJIuGZxhqSYlKw\",\n  \"lXecmyyxcrZ_ikvmMZuIJQ\",\n  \"UbLCIVs44kMrn-gohcayPA\",\n  \"kdu-OQK_5o2s2vZZK0Hm8A\",\n  \"lX4tl9QhM0uibrKtGKaKrQ\",\n  \"8Xsu2-QtcqrfNFM9zjEDvg\",\n  \"vCKELKLC9LhdOHrct-g5vw\",\n  \"D-5Td9XsLCekgq3joM6JFw\",\n  \"jplZpyYsst7iMuNs8v6YYw\",\n  \"5fADHJFD-B6RTfDDTp5NCg\",\n  \"L82MR10Nq8MIXmB4UOsEmw\",\n  \"kDX7cOkf3n34he2RB-d1eg\",\n  \"j6Hoc_YpJJapUUzfd9pj8A\",\n  \"e6-wcjGC3l6mfDiUajmJSQ\",\n  \"rLLQ3hoJuV85AcYefCF70A\",\n  \"Fwxy9LPkKU3fDhypYlevtw\",\n  \"H31x1q8-iLFOKIRNdwyBow\",\n  \"Uwu-RxcqVD7y86WeEagmMg\",\n  \"4HgjE1WxnRcMH1pT48HQCg\",\n  \"yMEtHWpKYf2uKQg9RD-oRA\",\n  \"5UYmKinQN08dvY7nh53qUw\",\n  \"qzrLMUmERPzG5RZKNvpGmQ\",\n  \"xcqOeQeP-H81cBvdpYU79A\",\n  \"pFuYCC-Ku1aRxkFfhCuUoQ\",\n  \"Ve4NvCiHBzHXzHdMVLoB5A\",\n  \"rJACyS33y3DJjrGqNltOGA\",\n  \"yxkJzN_-yPoXgx9p2FUk1g\",\n  \"Xt3BMLOZ7UxbbBGDAjGeWw\",\n  \"C3JP2BzCnoH7dTCg7P_v3A\",\n  \"pz3VgZc7pjEseCn14IBSwA\",\n  \"p9efKzd_XlOT33FKjGkPvA\",\n  \"Mz8N4ggsttTNdvXBxJgr5A\",\n  \"UR6lKY9PaWj1MvIIuMuFsA\",\n  \"QItGxOxkzFcqffTPxOqHiQ\",\n  \"Ic7CbsC9rEVt5WAMzyLmjg\",\n  \"vJDupyCGamWh_langjIeCA\",\n  \"2tiJtevOs04KrOavcwlfgw\",\n  \"Igu73RMmDbK9FSxXURNRnA\",\n  \"PfoqacfguTrChnllOdhviA\",\n  \"xbZwukayFmDsSTq63zcxoA\",\n  \"uMZiwJW9Seie0qSweM7afA\",\n  \"w72XS1-aeaaW55xLPfpcMQ\",\n  \"UkcIOtVlql4t0fzvrA18yw\",\n  \"3ggCaHyfXBxfmjiWNK7INg\",\n  \"y-HgqTSKSPrnc4NvKTn7ug\",\n  \"jYhk78GEe3SWkCgLsXf4zA\",\n  \"O2ph1erEoN9AgOyEYiTn5g\",\n  \"daVm5y6lvydIXm8J0yeahQ\",\n  \"MXbcxwMw7WE7oEvLy06D3Q\",\n  \"iVIYrErB2c7lYaVeVY8PhQ\",\n  \"7ydOP9KWUZfjkG6PduP-6Q\",\n  \"W3WU8nLIJP9oComniVw4dQ\",\n  \"l_PKFtmRq5IrCb0_EDz2Mw\",\n  \"Rq6-DNHA1tq8ZnPMr3acPw\",\n  \"tbFfqvnbx_c4ti5hHi1SlQ\",\n  \"9rDurcWzj3mfXAxwjd77aA\",\n  \"DfUtbYYx6IZU3LzruOpQzQ\",\n  \"NrPQePur6gAyhu__z3sw3A\",\n  \"wlwyeZrOiSvxGGqaMcUITQ\",\n  \"0LNNUofcpOqaCNUCo-SaCw\",\n  \"veRMosxRuW4lGQeUbJJLFw\",\n  \"oM_2_du4oQf2sYiTsZspMg\",\n  \"XMZiAVCf0miasVcL5LvDSQ\",\n  \"pSL2DXLI6fqhLn8ISChjNA\",\n  \"V1whpgh_FFE3L27M9l-GWw\",\n  \"i1pZRFkEscwirTv28fXCgA\",\n  \"W_VFwCIhcAfD0GSIHggIRA\",\n  \"hly8cAfSwbj2x8n9G69pBg\",\n  \"3cR5LDisK0H3sci1qJ6H2w\",\n  \"wvsrArhDz_tmlR4zKkiu_Q\",\n  \"vOe8cjWK-kqDEf4a41qaCQ\",\n  \"4AiSsxe_qPlKhIN5RqhwlA\",\n  \"WHV0UBdhxcnu-l2GXed-IA\",\n  \"GiYuDZwjlSpM2IKu5HywNw\",\n  \"kp2qg5xCXazJI0Pnr0hrjA\",\n  \"OiRqQiw8BiQdwMFd9O3KUQ\",\n  \"hAmD1yFoHRc-I49T0JGVBw\",\n  \"8q5NtSUU6BfnAGbfueMVAw\",\n  \"0K9ICfofQeHuwzkip9-JcQ\",\n  \"0CxtRC4BfPobAfvBBLJH3g\",\n  \"Q1Nxm3LddoBmeBS3gp0bBA\",\n  \"sYVGp3t9SDlDgNme_1hKlA\",\n  \"gvefxJdh10SD40wbaIXAlA\",\n  \"LnARDrSUBIseN0ekqfhOkg\",\n  \"lO7qqJ3RReqWVtowQbgBHQ\",\n  \"0CKvm7jcENINXJc662o8mg\",\n  \"BQoK-TGb42fIoKTgZTmljQ\",\n  \"ENh0J-5YsJrRmymhnbuNDw\",\n  \"LlXWcYU5JlXRk7vYnKv1Ug\",\n  \"QUBBhio9ex9hGk8tQbaiGg\",\n  \"l69WViivrod87JNIbwuijw\",\n  \"dpLRH4yJSga1CYNqnl0-JQ\",\n  \"4dfe9qpe20P-vi3qFjWd4Q\",\n  \"fU2YVTzW1DnbJmMLJF0LqA\",\n  \"zYO7EXV_zvAKTuzpp6VCLw\",\n  \"m9Kk0RIZ7ik2gVZQxHwpKQ\",\n  \"R732FIRT1t8VTnsI8WBARA\",\n  \"3yeb0hektZBFwFQv_PCETQ\",\n  \"N2ZXh-mYh2OC18LVKOxYYg\",\n  \"uOuGHPJAibqiQo62UBAfiA\",\n  \"oB9CFo5mAZLjdN7-wdJM0A\",\n  \"0RUqVbsW5TSY4WQSPS4qaw\",\n  \"6_Ky3Pki7y4Z1OyjkvB4WQ\",\n  \"RAzDqVJnHpdon3fMRLXpJg\",\n  \"WzmcXvY8QONETe2ILIfvJA\",\n  \"ZxN4O-5pfIEE8__bRgq-ig\",\n  \"ctlIbv1YFhZzBUFgFlX16A\",\n  \"fh1uMBN8LYgRoJFE7-oQcQ\",\n  \"xUvlRWX_S8cGH9E9I3BtnA\",\n  \"fDVIjn_eyS0OH1ZPOIZiig\",\n  \"LNdSDlKQ0mxCCglKhpbM6w\",\n  \"md2VoTKoJDXAS1WqNhrSvA\",\n  \"QBDdF7OfR-Z0QrLBlCaKEQ\",\n  \"CBRXLSSG1izVdsN3wAQ8hg\",\n  \"auXDK3AgFZtsMK7S-boxiw\",\n  \"Y_uF4SEFltMXvIk6-EBhEA\",\n  \"qxjhi4aP3a9jYxcodsobgQ\",\n  \"NhqShORuY93bfjlWmkMNLg\",\n  \"ka6kFgDuyc48U8v3FZOf9g\",\n  \"Abo2xRkekn_DCiH5S0kaug\",\n  \"sU5Ei5QUUq6pxi1q512ArQ\",\n  \"iv9OCAmr8fVZ0Lfb3aETpg\",\n  \"qEJE7VBVBuSIuLaRUrvXFw\",\n  \"xRmiDmKYUutyGpiQJeNUNQ\",\n  \"fNsTswXTDbXKDaiL6EkKOQ\",\n  \"809WbuKqCiRAus0HhIC4xw\",\n  \"f0VuSjzCCLuLvl8VBuH8Ug\",\n  \"4zMaZBjZe5dNeCK3MgUY6A\",\n  \"9iMwXe02bT0gMlR7Wh7WUg\",\n  \"1n5xL5ojLR-_zseirQKaMw\",\n  \"vHEkgNTs2to038asQacioQ\",\n  \"Efl8ZtfINJ2kfQnz-XKArA\",\n  \"weti_fkdKwIVJoSF1bhWxQ\",\n  \"H7TB8AasxAAyGy8w2H2QUQ\",\n  \"3N2RJCtXNMtajAMlg__n1Q\",\n  \"UHyL-_GQ8X2V4Bpa7QLtWA\",\n  \"EDQx9Y5xkEf_8KUrWBJl3A\",\n  \"vgWdpAeaGqmFHM9L8tGtgQ\",\n  \"OCDZ4nXoaMHF0TraV0u2-g\",\n  \"hCokJLK3nSe79v3QBw350Q\",\n  \"ENeutQE66vkGKejCpK5YBQ\",\n  \"ug7Di7n7fwJtWCxXjAdJUA\",\n  \"vicWtlir2PmDErr7CPOn5g\",\n  \"M0pfb3y4P0nS5ITDlyYMAg\",\n  \"FfWr6_7wWK5Rh-L7O0ePZw\",\n  \"9wIuw-B6xrx3u5qUnjFqGQ\",\n  \"czwJ0-FBu8YawAlNjIlgAg\",\n  \"q7lprjX7HWWMMVmPZRumSw\",\n  \"lZPG59I1NAYFhAWsVbkykQ\",\n  \"LylkQiPOsKpHMsWsq5edtQ\",\n  \"e_324r-CPTCkBdy4xiaBOg\",\n  \"J4YQVCLQgrSFgKi7w4VC3w\",\n  \"k8xE8euAPO1IL0Jb2rUj3g\",\n  \"n2jkSNSPzaB5vtmvV96o4Q\",\n  \"SBzbmYOLWPGoIumSMhZ5cg\",\n  \"QYvr7o9MOVM4Pp25VDoX1A\",\n  \"sgTGLoIUgFMiRLHYSsaXTQ\",\n  \"B6y1kB7mWwV57vt720pPNg\",\n  \"tO_tQGw_f-QADv18bRj_tg\",\n  \"edK79Gb2DWwmNpcLr0bxgw\",\n  \"bSWbtKskAFSeiwBPQptANw\",\n  \"pJsI1Qn0KfNIJ3vJSo86Hg\",\n  \"mE31lNBhWgzBiogfD8wKKQ\",\n  \"E34Z5j5bD1lTRP9AggXKGw\",\n  \"Ielsk99frSq8ZgZtWmMV7Q\",\n  \"WiTOJZ9KhmZzTxImIzd8MA\",\n  \"6ktAcIBQq1kwQltlhIMF_Q\",\n  \"yKPqCs-qmlytm7S_1-v7ew\",\n  \"ApY7RxKF9GBUq5UBIR9oWg\",\n  \"aWUuDpjA_JK-m43WNLuiXg\",\n  \"6OIKrzLFTI-Wuc2pUq6UKQ\",\n  \"338rqVgi-EbZ0w6aOVaSMA\",\n  \"JXlvk5l-rBGgAd6jzgJq3A\",\n  \"UZUHWiG-ri4zIA3g5H-0hA\",\n  \"2Y2W9ODseGfJjMh1oAYwRw\",\n  \"04jG97Xp_lxgw3TzuRfqfA\",\n  \"kK9DQORFANn4siKSCWh7Dg\",\n  \"vSsJhO83ya0NKSJR_d2yEg\",\n  \"f84TV7bJ4TTaaO-ukN3beg\",\n  \"K-5oYvnlJIEwS3OscBPleQ\",\n  \"m1u4oDvuvEquRl4VZS99LA\",\n  \"xtBIEG8LasWJiciMvg9PqQ\",\n  \"N_pno3f44vvEKW7I8H8zJw\",\n  \"e_B8N0hFtCDRW-B9HYjZnQ\",\n  \"KX7hm2M5rGPumF9m4Rhe-w\",\n  \"W8FpY4J5ULzy8ynmN_w87A\",\n  \"rrhqw_KxQjk_Mgpcj8EZ8g\",\n  \"UUwv9s2CpVGhb45N2TcDCQ\",\n  \"NxRz73F29G6VhnnUSppXAw\",\n  \"Lr8q4jsPIf8Ec07dTftIDQ\",\n  \"U-2TJrLqdjg_6lTaKjQuDg\",\n  \"NDtp_YDFFzZy2bzf0uqMvA\",\n  \"OixGjexLhvMNCqslLcqpNw\",\n  \"nrcnymth7MNbjT36A_44sA\",\n  \"e2LGP3Raq7CnjkDU4QOjqg\",\n  \"EXIUlEfVuo8loO3lbciaEg\",\n  \"spAc-3AsXOVoQfP9gKBf4Q\",\n  \"ZkIU1VjyzFIn851iQQne8g\",\n  \"xtoTj3dB1z350vXDTyyylA\",\n  \"vUpNGgs14HleRcxlnlHb8w\",\n  \"5KRLy3Ffxx3plt4B4DgtqQ\",\n  \"QGOhDg47ELjOMfZZjcyfVA\",\n  \"w0taZk-vWDHYeia1bwdbdw\",\n  \"JdcCGJnQrWGbUgZN_1nwyQ\",\n  \"N1AnP4jD0A_v9NGHGaPA3g\",\n  \"aUKSp0O5oTLgsh47QyJ57g\",\n  \"_gYb3ud0t2qLcSZm01uw4g\",\n  \"5nMa2Q9wgXV93QSO7YF-bQ\",\n  \"yWtsQoI8ZMTNc69ZhWjf9Q\",\n  \"Q5DN9FyxcWfEQO8QiEnmDg\",\n  \"QgrEW-SMfez8OkMHlgg-Rw\",\n  \"VmEwVKxLt3VCL8hv6NPe6w\",\n  \"PG60HdnabTmn9b8UwpCXNw\",\n  \"KlSOY2HZNmBuulymoiXs_w\",\n  \"oaRdhGb7N2m6IkNqq-ncHA\",\n  \"W_Vq8-FqV49FdcU6RQ3viA\",\n  \"BIqND02sEnJNYfDxGo2YTQ\",\n  \"d75CAtSihlDlemmLVEy6qQ\",\n  \"D7m9dIhimYGLW7tR1k-hfw\",\n  \"B3eNfBS1DTkTZ6fasVL01A\",\n  \"h7XOvZN1JCdqJc02w31JyQ\",\n  \"y_XsYXPT-6kT3H7yr0UerA\",\n  \"eSN1CksnpTEp06RZ1I42lQ\",\n  \"wDoXSPITi4x50QZLjctX6w\",\n  \"L6lAx2lB9YQ08svNnAZjDA\",\n  \"gUWF6nllXvGUkHZeeS8tPQ\",\n  \"ZpgQiL05GC34I3AO4tj73A\",\n  \"vJvdTsk01tV1TVk-1QmrHA\",\n  \"cVTbsWuqEHEohKZcsyZnQQ\",\n  \"sa08ZzkTVO5hUAkFZEL7pg\",\n  \"tmZD5rQmlkrwzw3RYnUCVg\",\n  \"TSJiOmlubv2R1pv5mI4dGQ\",\n  \"6qyvj8i4aKF5rWjgsIx3rg\",\n  \"48doX4sxCRLxOl8a6AD35Q\",\n  \"HCFv8Wvv2FVM-rKCoAPNPg\",\n  \"z6_uI5oEm0T-BBnko0dqhQ\",\n  \"vuuvzo1r_pJ_qebiJvTW1A\",\n  \"lM0Xlh3wB8Wmx1Kg-KtnNg\",\n  \"iqytnpOnd5kFJsDkbXzOfg\",\n  \"lCJZ6KsMSXkV-PH1K1mgFA\",\n  \"ZMgLNoF3r4Dg1bAFKr7CfQ\",\n  \"cyGjVI-jk5DZAqyW0ge-Hw\",\n  \"6H1cEJT1U-jWh43-d7cB1Q\",\n  \"Uh1nGIHlHK_xwb1GHwlVpg\",\n  \"6PPnf5H2z2Z_30IF5wAF3g\",\n  \"V8grVFq6Lnzc5jJKuDAFAQ\",\n  \"xRNPKIfF2Gr02zBiBl3dSA\",\n  \"v3F-pk2-1RZ_P_WFtAbmdA\",\n  \"1v1N3C8_yrzDlHIrfSeUYg\",\n  \"L4nXb6_5NR7yMO__KyID_A\",\n  \"nltCMgItjXLrBCoVRsiVlQ\",\n  \"HzFpRjIo39Ywrht51n_Yuw\",\n  \"1FAsc4oIzF5O0H7Fr_WiCA\",\n  \"3uOja3d1pnogIuVCNOzAdw\",\n  \"TCXfmnrFjLSKcBdiWd-q4Q\",\n  \"qbIajNWouEP5U1HxY5I0yA\",\n  \"QOzWXDCkg9hvplsM6NPLQQ\",\n  \"HLLrQD3X30jEWd0dA5QwBw\",\n  \"e8m5L5Z7e9Q3x8Tn7Y6EVA\",\n  \"RvZt5Ar5uzFJfJgqo821lQ\",\n  \"NGuzAKvDcB1agIn7rEBi4A\",\n  \"IpSPUvkcsPy8E4TmvjY4HQ\",\n  \"VPegpBDKXuuNf7Oi-UsmHw\",\n  \"8fY9fA5TtCF0ebdTNph9mQ\",\n  \"qS-fQBZcEMKqgPI0CM1B2w\",\n  \"lP9ZT1q3TjeMmm-4N68vEw\",\n  \"9IjZp2EhoUQzeMMDyCJdrg\",\n  \"w1THUZhsnLEpUbaQ-XAfnA\",\n  \"kiJtk3Gn5J272vXgsfS-xQ\",\n  \"PAgOf4yyRFZR9Lc2gl5X_g\",\n  \"6KJ1a882332ckXcS1-dAbg\"\n];","import './Home.css';\nimport { useState } from 'react';\nimport Gallery from \"../common/Gallery/Gallery\";\nimport withOrderedMedia from \"../common/Gallery/withOrderedMedia\";\nimport mediaOrder from './home-page-media-order.js'\n\nconst OrderedGallery = withOrderedMedia(Gallery);\n\n// Slice media order because a large media list can degrade performance, and not many images are needed\n// for the home page.\nconst Home = (props) => {\n    const [canShowText, setCanShowText] = useState(false);\n\n    return (\n        <div className=\"home-page-container\">\n            <div className={\"home-page-text-container\"  + (canShowText ? \" show\" : \"\")}>\n                <h1 className=\"home-page-text home-page-company-name company-name\">Gourmand</h1>\n                <h3 className=\"home-page-text home-page-slogan\">Find food.  Fast.</h3>\n            </div>\n            <OrderedGallery {...props} mediaOrder={mediaOrder.slice(0, 30)} onEntered={() => setCanShowText(true)}\n                transitionTimeout={50} />\n        </div>\n    );\n};\n\nexport default Home;\n","import {useEffect, useState} from \"react\";\nimport _ from \"underscore\";\nimport ss from 'seededshuffle';\nimport YelpMedia from \"../../../../scrapers/yelp/YelpMedia\";\n\nconst withShuffledMedia = (Gallery) => ({ restaurants, ...props }) => {\n    const [shuffledMedia, setShuffledMedia] = useState([]);\n\n    useEffect(() => {\n        setShuffledMedia(getShuffledMedia(restaurants));\n    }, [restaurants]);\n\n    return <Gallery media={shuffledMedia} {...props} />;\n};\n\nfunction getShuffledMedia(restaurants) {\n    console.log(\"restaurants:\", restaurants);\n    const allMedia = restaurants.flatMap(restaurant => restaurant.media);\n    const copyArray = true;\n    console.log(\"allMedia:\", allMedia);\n    const seed = restaurants.length ? restaurants[0].id : \"empty\";\n    const shuffledMedia = ss.shuffle(allMedia, seed, copyArray);\n    // console.log(\"shuffledMedia:\", shuffledMedia);\n    return shuffledMedia.map(media => (YelpMedia.populateFromBSON(media)));\n}\n\nexport default withShuffledMedia;\n","const MapLink = ({address}) => (\n    <a onClick={e => onAddressClick(e, address)} className=\"restaurant-address\">{address.join(\" \")}</a>\n);\n\nfunction onAddressClick(e, address) {\n    e.preventDefault();\n    openInNewTab(formatMapLink(address));\n}\n\nfunction openInNewTab(url) {\n    const win = window.open(url, '_blank');\n    win.focus();\n}\n\nfunction formatMapLink(address) {\n    return \"https://www.google.com/maps/place/\" + address.join(\" \").replace(\" \", \"+\");\n}\n\nexport default MapLink;\n","const NotesIcon = () => {\n    return (\n        <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"far\" data-icon=\"edit\" role=\"img\"\n             xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 576 512\" className=\"svg-inline--fa fa-edit fa-w-18 fa-2x\">\n            <path fill=\"currentColor\"\n    d=\"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z\"\n    className=\"\"/>\n        </svg>\n    );\n};\n\nexport default NotesIcon;\n","import './NotesButton.css';\nimport {\n    Button\n} from 'reactstrap';\nimport NotesIcon from './NotesIcon';\n\nconst NotesButton = ({ onClick }) => (\n    <Button {...{ onClick }} className=\"notes-button\">\n        <div className=\"square-container\">\n            <NotesIcon />\n        </div>\n    </Button>\n);\n\nexport default NotesButton;\n","import './Note.css';\nimport {\n    Container\n} from 'reactstrap';\nimport { useEditable } from \"use-editable\";\nimport { useRef, useCallback } from \"react\";\nimport Linkify from 'react-linkify';\n\nconst Note = ({ text, onNoteChange, disabled, disable }) => {\n    const ref = useRef(null);\n\n    useEditable(ref, useCallback(onNoteChange, []), {\n        disabled\n    });\n\n    return (\n        <Container className=\"note-container\">\n            <div {...{ ref }} className={`note-text ${disabled ? \"\" : \"editable\"}`} onBlur={disable}>\n                <Linkify>\n                    {text}\n                </Linkify>\n            </div>\n        </Container>\n    );\n};\n\nexport default Note;\n","import 'react-swipeable-list/dist/styles.css';\nimport './Notes.css';\nimport {\n    LeadingActions,\n    SwipeableList,\n    SwipeableListItem,\n    SwipeAction,\n    TrailingActions,\n    Type as ListType\n} from 'react-swipeable-list';\nimport {\n    Button\n} from 'reactstrap';\nimport Note from './Note/Note';\nimport EventTracker from \"../../../../../tracking/EventTracker\";\nimport constants from '../../../../../constants/constants';\n\nconst { events } = constants;\nconst eventTracker = new EventTracker(constants.EVENT_TRACKING_TOKEN);\n\nconst ActionContent = ({ children, color }) => (\n    <Button outline className=\"action-content\" {...{ color }}>\n        <div className=\"action-text\">\n            { children }\n        </div>\n    </Button>\n);\n\nconst leadingActions = (removeNote) => (\n    <LeadingActions>\n        <SwipeAction\n            onClick={() => {\n                console.info('Deleting note.');\n                eventTracker.track(events.DELETE_NOTE);\n                removeNote();\n            }}\n        >\n            <ActionContent color=\"danger\">Delete</ActionContent>\n        </SwipeAction>\n    </LeadingActions>\n);\n\nconst trailingActions = (makeNoteEditable) => (\n    <TrailingActions>\n        <SwipeAction\n            onClick={() => {\n                console.info('Editing Note.');\n                eventTracker.track(events.EDIT_NOTE);\n                makeNoteEditable();\n            }}\n        >\n            <ActionContent color=\"warning\">Edit</ActionContent>\n        </SwipeAction>\n    </TrailingActions>\n);\n\nconst NoNotesMessage = () => (\n    <p className=\"no-notes-message\">There are no notes for this restaurant.</p>\n);\n\nconst Notes = ({ notesManager, ...props }) => {\n\n    return notesManager.getNotes().length\n        ? (\n            <SwipeableList\n                threshold={0.5}\n                fullSwipe={true}\n                type={ListType.IOS}\n            >\n                {\n                    notesManager.getNotes().map((note, i) => (\n                        <SwipeableListItem\n                            key={notesManager.isEditable(i) ? i : note}\n                            leadingActions={leadingActions(notesManager.remove(i))}\n                            trailingActions={trailingActions(() => notesManager.setCurrentlyEditableNote(i))}\n                            listType={ListType.IOS}\n                        >\n                            <Note\n                                text={note}\n                                onNoteChange={notesManager.update(i)}\n                                disabled={!notesManager.isEditable(i)}\n                                disable={() => notesManager.isEditable(i) && notesManager.setCurrentlyEditableNote(null)}\n                            />\n                        </SwipeableListItem>\n                    ))\n                }\n            </SwipeableList>\n        )\n        : <NoNotesMessage />\n};\n\nexport default Notes;\n","import './NotesModal.css';\nimport {\n    Button,\n    Modal,\n    ModalHeader,\n    ModalBody,\n    ModalFooter\n} from \"reactstrap\";\nimport Notes from './Notes/Notes';\n\nconst NotesModal = ({ isOpen, toggle, restaurant, notesManager }) => {\n    return (\n        <Modal className=\"notes-modal-container\" {...{ isOpen, toggle }}>\n            <ModalHeader {...{ toggle }}>{ restaurant && restaurant.name }</ModalHeader>\n            <ModalBody>\n                <Notes {...{ notesManager }} />\n            </ModalBody>\n            <ModalFooter>\n                <Button color=\"primary\" onClick={notesManager.add} size=\"sm\">Add Note</Button>\n            </ModalFooter>\n        </Modal>\n    );\n};\n\nexport default NotesModal;\n","import { useState } from \"react\";\nimport { useAuth } from \"../auth/useAuth\";\nimport EventTracker from \"../../../tracking/EventTracker\";\nimport constants from \"../../../constants/constants\";\n\nconst { events } = constants;\nconst eventTracker = new EventTracker(constants.EVENT_TRACKING_TOKEN);\n\nconst useNotesManager = () => {\n    const [restaurant, setRestaurant] = useState(null);\n    const [notes, setNotes] = useState([]);\n    const [showNotes, setShowNotes] = useState(false);\n    const [currentlyEditableNote, setCurrentlyEditableNote] = useState(null);\n    const auth = useAuth();\n\n    const getNotes = () => notes;\n    const removeEmpty = notes => notes.filter(note => !!note);\n\n    const cleanupNotes = () => {\n        const updatedNotes = [].concat(notes);\n        setNotes(removeEmpty(updatedNotes));\n    };\n\n    const update = (i) => (text) => {\n        const updatedNotes = [].concat(notes);\n        updatedNotes[i] = text;\n        setNotes(updatedNotes);\n    };\n\n    const remove = (i) => () => {\n        const updatedNotes = [].concat(notes);\n        updatedNotes.splice(i, 1);\n        setNotes(updatedNotes);\n    };\n\n    const add = () => {\n        eventTracker.track(events.ADD_NOTE);\n        const updatedNotes = [].concat(notes);\n        updatedNotes.push(\"\");\n        setNotes(updatedNotes);\n        setCurrentlyEditableNote(updatedNotes.length - 1);\n    };\n\n    const toggle = () => {\n        cleanupNotes();\n\n        // If currently exiting notes\n        if (showNotes) {\n            eventTracker.track(events.CLOSE_NOTES);\n            auth.updateNotes(restaurant.id, notes)\n                .catch(e => {\n                    throw e\n                });\n        } else {\n            eventTracker.track(events.OPEN_NOTES);\n        }\n\n        setShowNotes(!showNotes);\n    };\n\n    const isEditable = i => i === currentlyEditableNote;\n\n    const retrieveNotes = (restaurantID) => auth.performIfAuthenticated(\n        () => auth.getNotes(restaurantID)\n                .then(json => {\n                    if (json.success) {\n                        setNotes(json.notes);\n                    } else {\n                        console.error(json.message);\n                    }\n                }));\n\n    return {\n        getNotes,\n        retrieveNotes,\n        update,\n        remove,\n        add,\n        toggle,\n        isEditable,\n        restaurant,\n        setNotes,\n        setCurrentlyEditableNote,\n        setRestaurant,\n        showNotes\n    };\n};\n\nexport default useNotesManager;\n","import './Restaurant.css';\nimport Gallery from \"../common/Gallery/Gallery\";\nimport MapLink from \"../common/MapLink/MapLink\";\nimport NotesButton from \"./NotesButton/NotesButton\";\nimport NotesModal from \"./NotesModal/NotesModal\";\nimport {useEffect, useState} from \"react\";\nimport {Redirect, useLocation} from 'react-router-dom';\nimport withOrderedMedia from \"../common/Gallery/withOrderedMedia\";\nimport {useAuth} from \"../../utils/auth/useAuth\";\nimport useNotesManager from \"../../utils/useNotesManager/useNotesManager\";\n\nconst OrderedGallery = withOrderedMedia(Gallery);\n\nconst getMediaOrder = (unorderedMedia, isLikedMedia) => {\n    const separatedByLiked = unorderedMedia.reduce((lists, media) => {\n        const listIndex = isLikedMedia(media.id) ? 0 : 1;\n        lists[listIndex] = lists[listIndex].concat(media.id);\n        return lists;\n    }, [[], []]);\n\n    return separatedByLiked[0].concat(separatedByLiked[1]);\n}\n\n/*\n* Restaurant currently used in restaurant pages, search results list, and now profile pages\n* */\nconst Restaurant = ({ id, getRestaurantDataByID, isLikedMedia, galleryProps }) => {\n    // Restaurant data may not be available initially, such as when the user lands on restaurant page\n    // and the restaurant data must be retrieved from the lookup or remote DB\n    const [restaurant, setRestaurant] = useState(null);\n    const [redirectToLogin, setRedirectToLogin] = useState(false);\n    const auth = useAuth();\n    const location = useLocation();\n    const notesManager = useNotesManager();\n\n    useEffect(() => {\n        if (id) {\n            getRestaurantDataByID(id)\n                .then(restaurant => {\n                    if (restaurant) {\n                        setRestaurant(restaurant);\n                    }\n                })\n                .catch(e => {\n                    throw e;\n                });\n        }\n    }, [id]);\n\n    useEffect(() => {\n        if (restaurant && !notesManager.restaurant) {\n            notesManager.setRestaurant(restaurant);\n        }\n    }, [restaurant]);\n\n    useEffect(() => {\n        if (restaurant) {\n            notesManager.retrieveNotes(restaurant.id)\n                .catch(e => {\n                    if (!auth.isAuthenticated()) {\n                        setRedirectToLogin(true);\n                    } else {\n                        console.error(e);\n                    }\n                });\n        }\n    }, [restaurant]);\n\n    const toggleNotesIfAuthenticated = () => {\n        if (auth.isAuthenticated()) {\n            notesManager.toggle();\n        } else {\n            setRedirectToLogin(true);\n        }\n    };\n\n    if (redirectToLogin) {\n        return <Redirect to={{\n            pathname: '/user/login',\n            state: { from: location.pathname }\n        }} />;\n    }\n\n    if (!restaurant)\n        return null;\n\n    const { name, address, neighborhoods, media } = restaurant;\n    const mediaOrder = getMediaOrder(media, isLikedMedia);\n\n    return (\n        <div className=\"restaurant-container\">\n            <div className=\"restaurant-details-container\">\n                <div className=\"text-container\">\n                    <h2 className=\"restaurant-name\">{name}</h2>\n                    <p><MapLink className=\"restaurant-address\" address={address} /></p>\n                    {(neighborhoods.length > 0) && <p className=\"restaurant-neighborhoods\">{neighborhoods.join(\", \")}</p>}\n                </div>\n            </div>\n            <div className=\"restaurant-media-container\">\n                <OrderedGallery {...galleryProps} restaurants={[restaurant]} mediaOrder={mediaOrder} showLiked={false} transitionTimeout={50} />\n                <div className=\"notes-button-container\">\n                    <div className=\"notes-button-boundary\">\n                        <NotesButton onClick={toggleNotesIfAuthenticated} />\n                    </div>\n                </div>\n            </div>\n            <NotesModal isOpen={notesManager.showNotes} toggle={toggleNotesIfAuthenticated} {...{ restaurant, notesManager }} />\n        </div>\n    );\n};\n\nexport default Restaurant;\n","import './RestaurantsList.css';\nimport Restaurant from \"../../Restaurant/Restaurant\";\n\nconst RestaurantsList = ({ restaurantProps, restaurantIDs }) => (\n    <div className=\"restaurants-list\">\n        { restaurantIDs.map((id) => <Restaurant key={id} id={id} {...restaurantProps} />) }\n    </div>\n);\n\nexport default RestaurantsList;\n","const GridIcon = () => (\n    <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"th-large\" role=\"img\"\n         xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" className=\"svg-inline--fa fa-th-large fa-w-16 fa-2x\">\n        <path fill=\"currentColor\"\n    d=\"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z\"\n    className=\"\"/>\n    </svg>\n);\n\nexport default GridIcon;\n","const ListIcon = () => (\n    <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"list\" role=\"img\"\n         xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" className=\"svg-inline--fa fa-list fa-w-16 fa-2x\">\n        <path fill=\"currentColor\"\n    d=\"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z\"\n    className=\"\"/>\n    </svg>\n);\n\nexport default ListIcon;\n","import './SearchResultsView.css';\nimport withShuffledMedia from \"../../common/Gallery/withShuffledMedia\";\nimport Gallery from \"../../common/Gallery/Gallery\";\nimport RestaurantsList from \"../../common/RestaurantsList/RestaurantsList\";\nimport {\n    Nav,\n    NavItem,\n    NavLink,\n    ButtonGroup,\n    Button\n} from \"reactstrap\";\nimport GridIcon from \"./GridIcon\";\nimport ListIcon from \"./ListIcon\";\nimport { useState } from \"react\";\n\nconst ShuffledGallery = withShuffledMedia(Gallery);\n\nconst SearchResultsView = ({ galleryProps, restaurantProps, onViewSelection }) => {\n    const [ listView, setListView ] = useState(false);\n\n    const onViewTabClick = (value) => {\n        if (value === listView)\n            return;\n\n        setListView(value);\n\n        if (onViewSelection) {\n            onViewSelection(value);\n        }\n    };\n\n    const restaurantIDs = galleryProps.restaurants.map(restaurant => restaurant.id);\n\n    return (\n        <div className=\"search-results-container\">\n            <Nav className=\"search-results-view-options\" tabs>\n                <NavItem className=\"search-results-view-option-button\">\n                    <NavLink href=\"#\" active={!listView} onClick={() => onViewTabClick(false)}>\n                        <GridIcon />\n                    </NavLink>\n                </NavItem>\n                <NavItem className=\"search-results-view-option-button\">\n                    <NavLink href=\"#\" active={listView} onClick={() => onViewTabClick(true)}>\n                        <ListIcon />\n                    </NavLink>\n                </NavItem>\n            </Nav>\n            {\n                listView\n                    ? <RestaurantsList {...{ restaurantIDs, restaurantProps }} />\n                    : <ShuffledGallery {...galleryProps} />\n            }\n        </div>\n\n    );\n};\n\nexport default SearchResultsView;\n","import './ErrorMessage.css';\r\n\r\nconst ErrorMessage = ({error}) => {\r\n\treturn (\r\n\t\t<div className=\"error-message-container\">\r\n\t\t\t<div className=\"error-apology\">Oops, something went sour.</div>\r\n\t\t\t<div className=\"error-message\">\"{error.message}\"</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ErrorMessage;","import SearchResultsView from \"./SearchResultsView/SearchResultsView\";\nimport ErrorMessage from \"./ErrorMessage/ErrorMessage\";\n\nconst SearchResults = ({error, ...props }) => (\n    error\n        ? <ErrorMessage {...{error}} />\n        : <SearchResultsView {...props} />\n);\n\nexport default SearchResults;\n","import './About.css';\nimport { Container } from 'reactstrap';\n\n// Due to a known 'create-react-app' bug (https://github.com/facebook/create-react-app/issues/9870), need to inline the background image from the 'public' directory\nconst About = ({}) => (\n    <div className=\"about-container\" style={{backgroundImage: 'url(/about-background.jpg)'}}>\n        <div className=\"text-container with-image-underlay\">\n            <p><span className=\"company-name\">Gourmand</span> is for people who absolutely love food.  Those who always search for new restaurants, dishes, and neighborhoods to try.</p>\n            <p>The problem is that whittling down reviews to find good places is difficult and time consuming.  Information about restaurants is fractured into many different platforms.  Who has time to conduct a research project whenever they get a little hungry?</p>\n            <p>At <span className=\"company-name\">Gourmand</span>, we believe the food should speak for itself.  The rest will follow.</p>\n            <p>Salud!</p>\n        </div>\n    </div>\n);\n\nexport default About;\n","import {Button, Form, FormGroup, Input} from \"reactstrap\";\n\nconst ContactForm = ({name, email, subject, message, setName, setEmail, setSubject, setMessage, onSubmitButtonClick}) => (\n    <Form className=\"contact-form\">\n        <FormGroup>\n            <Input required type=\"text\" name=\"name\" placeholder=\"Name\" value={name} onChange={e => setName(e.target.value)} />\n        </FormGroup>\n        <FormGroup>\n            <Input required type=\"email\" name=\"email\" placeholder=\"Email\" value={email} onChange={e => setEmail(e.target.value)} />\n        </FormGroup>\n        <FormGroup>\n            <Input type=\"text\" name=\"subject\" placeholder=\"Subject\" value={subject} onChange={e => setSubject(e.target.value)} />\n        </FormGroup>\n        <FormGroup>\n            <Input required type=\"textarea\" name=\"message\" placeholder=\"Your Message\" value={message} onChange={e => setMessage(e.target.value)} />\n        </FormGroup>\n        <Button onClick={onSubmitButtonClick} color=\"secondary\" block>Send</Button>\n    </Form>\n);\n\nexport default ContactForm;\n","const scrollToTop = () => {\n    window.scroll({\n        top: 0,\n        left: 0,\n        behavior: 'smooth'\n    });\n};\n\nexport default scrollToTop;\n","import './Contact.css';\nimport React, { useState, useEffect } from 'react';\nimport { Container } from 'reactstrap';\nimport ContactForm from \"./ContactForm/ContactForm\";\nimport scrollToTop from \"../../utils/scrollToTop\";\n\nconst statuses = {\n    UNSENT: '',\n    SUCCESS: 'success',\n    FAILURE: 'failure'\n}\n\nconst submitForm = (data, onSuccess, onError) => {\n    fetch('/contact', {\n        method: 'POST',\n        mode: 'cors',\n        cache: 'no-cache',\n        credentials: 'same-origin',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n    })\n        .then(response => response.json())\n        .then(json => {\n            if (json.status === statuses.SUCCESS) {\n                onSuccess(json);\n            } else {\n                onError(json, json);\n            }\n        })\n        .catch(onError);\n}\n\nconst onSubmitButtonClick = (e, {name, email, subject, message}, { onSuccess, onError }) => {\n    e.preventDefault();\n\n    const data = {\n        name,\n        email,\n        subject: subject || \"[ No Subject ]\",\n        message\n    };\n\n    submitForm(data, onSuccess, onError);\n};\n\nconst onSuccess = (json, setStatus) => {\n    setStatus(json.status);\n    scrollToTop();\n};\n\nconst onError = (e, json, setStatus) => {\n    console.error(e);\n    setStatus(json.status);\n    scrollToTop();\n};\n\nconst UnsetMessage = () => (\n    <React.Fragment>\n        <h1 className=\"contact-header\">Say Hello!</h1>\n        <p className=\"contact-text\">Found a bug?  Have a feature request?  Just want to vent?  Let us know!</p>\n    </React.Fragment>\n);\n\nconst SuccessMessage = () => (\n        <React.Fragment>\n            <h1 className=\"contact-header\">Message Received!</h1>\n            <p className=\"contact-text\">Thanks for reaching out!  We'll get back to you as soon as we can.</p>\n        </React.Fragment>\n);\n\nconst ErrorMessage = () => (\n    <React.Fragment>\n        <h1 className=\"contact-header\">Uh oh!</h1>\n        <p className=\"contact-text\">Looks like something went wrong.  Our team has been notified and we're working on the issue.</p>\n    </React.Fragment>\n);\n\nconst getTextComponent = (status) => {\n    if (status === statuses.UNSENT)\n        return <UnsetMessage />;\n\n    if (status === statuses.SUCCESS)\n        return <SuccessMessage />;\n\n    return <ErrorMessage />;\n};\n\nconst Contact = () => {\n    const [name, setName] = useState('');\n    const [email, setEmail] = useState('');\n    const [subject, setSubject] = useState('');\n    const [message, setMessage] = useState('');\n    const [status, setStatus] = useState('');\n\n    useEffect(() => {\n        if (status !== statuses.UNSENT) {\n            setName('');\n            setEmail('');\n            setSubject('');\n            setMessage('');\n        }\n    }, [status]);\n\n    const contactFormProps = {\n        name, email, subject, message,\n        setName, setEmail, setSubject, setMessage,\n        onSubmitButtonClick: (e) => onSubmitButtonClick(\n            e,\n            {name, email, subject, message},\n            {\n                onSuccess: (json) => onSuccess(json, setStatus),\n                onError: (e, json) => onError(e, json, setStatus)\n            })\n    };\n\n    return (\n        <div className=\"contact-container\">\n            <div className=\"contact-background\" style={{backgroundImage: 'url(/contact-background.jpg)'}} />\n            <Container className=\"contact-content-container\">\n                <div className=\"text-container with-image-underlay\">\n                    { getTextComponent(status) }\n                </div>\n                {(status === statuses.UNSENT) && <ContactForm {...contactFormProps} />}\n            </Container>\n        </div>\n    );\n};\n\nexport default Contact;\n\n","import './SpinnerButton.css';\nimport { Button } from 'reactstrap';\n\nconst getButtonContent = (spin, text) => spin\n    ? <img className=\"submitting-spinner rotate\" src=\"/spinner.png\" />\n    : text;\n\nconst SpinnerButton = ({ spin, text, ...props }) => (\n    <Button type=\"submit\" { ...props }>{ getButtonContent(spin, text) }</Button>\n);\n\nexport default SpinnerButton;\n","const setValidationClass = (touched, hasError) => {\n    return touched\n        ? hasError\n            ? \"is-invalid\"\n            : \"is-valid\"\n        : \"\";\n};\n\nconst setFieldClass = (touched, hasError) => [\"form-control\", setValidationClass(touched, hasError)].join(\" \");\n\nexport default setFieldClass;\n","import './LoginForm.css';\nimport { FormGroup, FormFeedback } from \"reactstrap\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport { Link } from \"react-router-dom\";\nimport SpinnerButton from \"../../common/SpinnerButton/SpinnerButton\";\nimport setFieldClass from \"../../../utils/setFieldClass\";\nimport withNavigationTracking from \"../../../utils/withNavigationTracking/withNavigationTracking\";\n\nconst TrackedLink = withNavigationTracking(Link);\n\nconst LoginForm = ({ initialValues, validationSchema, onSubmit, submitting }) => {\n    return (\n        <Formik\n            initialValues={initialValues}\n            validationSchema={validationSchema}\n            onSubmit={onSubmit}\n        >\n            {(formik) => {\n                const { errors, touched, isValid, dirty } = formik;\n\n                return (\n                    <Form className=\"login-form\">\n                        <FormGroup>\n                            <Field required type=\"email\" name=\"email\" placeholder=\"Email\"\n                                   className={setFieldClass(touched.email, errors.email)} />\n                            <ErrorMessage name=\"email\" component={FormFeedback}\n                                          className=\"field-error-feedback\" />\n                        </FormGroup>\n                        <FormGroup>\n                            <Field required type=\"password\" name=\"password\" placeholder=\"Password\"\n                                   className={setFieldClass(touched.password, errors.password)} />\n                            <ErrorMessage name=\"password\" component={FormFeedback}\n                                          className=\"field-error-feedback\" />\n                        </FormGroup>\n                        <SpinnerButton spin={submitting} text={\"Log In\"} disabled={!(dirty && isValid)} color=\"danger\" block />\n                        <p className=\"need-account-text text-container with-image-underlay\">Need an account? <TrackedLink className=\"sign-up-link\" to=\"/user/signup\">Sign up here.</TrackedLink></p>\n                    </Form>\n                );\n            }}\n        </Formik>\n    );\n};\n\nexport default LoginForm;\n","import './FlashMessage.css';\n\nconst getLevelClass = (level) => {\n    const prefix = 'flash-message';\n\n    if ((level === 'success') || (level === 'info') || (level === 'warn')) {\n        return `${prefix}-${level}`;\n    }\n\n    return `${prefix}-error`;\n};\n\nconst FlashMessage = ({ level, message, className, onClose, duration }) => {\n    setTimeout(onClose, duration);\n\n    return (\n        <div className={`flash-message ${getLevelClass(level)} ${className || ''}`}>\n            <div className=\"flash-message-text\">{message}</div>\n            <button type=\"button\" className=\"close\" aria-label=\"Close\" onClick={onClose}><span aria-hidden=\"true\">×</span></button>\n        </div>\n    );\n};\n\nexport default FlashMessage;\n","import './FlashMessages.css';\nimport FlashMessage from \"./FlashMessage/FlashMessage\";\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\n\nconst FlashMessages = ({ id, timeout, duration, level, messages, onClose }) => {\n    return (\n        <TransitionGroup className=\"flash-message-container\">\n            {messages.map((message, i) => (\n                <CSSTransition\n                    key={i}\n                    timeout={timeout}\n                    classNames={\"flash-message\"}\n                >\n                    <FlashMessage\n                        className=\"text-container\"\n                        id={id}\n                        level={level}\n                        message={message}\n                        onClose={() => onClose(i)}\n                        duration={duration}\n                    />\n                </CSSTransition>\n            ))}\n        </TransitionGroup>\n    );\n};\n\nexport default FlashMessages;\n","import { useState, Fragment } from \"react\";\nimport FlashMessages from \"../../App/common/FlashMessages/FlashMessages\";\n\nconst filterMessageByIndex = (messages, setter, i) => setter(messages.filter((message, j) => i !== j));\n\nconst useFlashMessages = (timeout = 250, duration = 5000) => {\n    const [ successMessages, setSuccessMessages ] = useState([]);\n    const [ infoMessages, setInfoMessages ] = useState([]);\n    const [ errorMessages, setErrorMessages ] = useState([]);\n\n    const messageConfigs = {\n        success: {\n            messages: successMessages,\n            setter: setSuccessMessages\n        },\n        info: {\n            messages: infoMessages,\n            setter: setInfoMessages\n        },\n        error: {\n            messages: errorMessages,\n            setter: setErrorMessages\n        }\n    };\n\n    const messages = Object.keys(messageConfigs)\n        .map(level => {\n            const { messages, setter } = messageConfigs[level];\n            return (\n                <FlashMessages\n                    key={level}\n                    level={level}\n                    timeout={timeout}\n                    duration={duration}\n                    messages={messages}\n                    onClose={i => filterMessageByIndex(messages, setter, i)}\n                />\n            );\n        });\n\n    return {\n        setSuccessMessages,\n        setInfoMessages,\n        setErrorMessages,\n        messages\n    };\n};\n\nexport default useFlashMessages;\n","import './Login.css';\nimport { useState } from 'react';\nimport { Container } from 'reactstrap';\nimport { Redirect, useLocation } from 'react-router-dom';\nimport LoginForm from \"./LoginForm/LoginForm\";\nimport * as Yup from 'yup';\nimport { useAuth } from \"../../utils/auth/useAuth\";\nimport useFlashMessages from \"../../utils/useFlashMessages/useFlashMessages\";\n\nconst validationSchema = Yup.object().shape({\n    email: Yup.string()\n        .email(\"Email is not valid.\")\n        .required(\"Email is required.\"),\n    password: Yup.string()\n        .required(\"Password is required.\")\n        .min(8, \"Password is too short.\")\n});\n\nconst initialValues = {\n    email: '',\n    password: ''\n};\n\nconst Login = ({}) => {\n    const [ redirectToReferrer, setRedirectToReferrer ] = useState(false)\n    const [ submitting, setSubmitting ] = useState(false);\n\n    const auth = useAuth();\n    const { messages, setErrorMessages } = useFlashMessages();\n    const { state } = useLocation();\n\n    const logIn = (credentials) => auth.logIn(credentials)\n        .then((json) => {\n            if (auth.isAuthenticated()) {\n                console.log(\"User successfully logged in.\");\n                setRedirectToReferrer(true);\n            } else {\n                setErrorMessages(json.errors);\n            }\n        })\n        .catch(e => {\n            console.error(e);\n            setErrorMessages([e.message]);\n        });\n\n    const formProps = {\n        initialValues,\n        validationSchema,\n        submitting,\n        onSubmit: (credentials) => {\n            console.log(\"credentials:\", credentials);\n            setSubmitting(true);\n            return logIn(credentials)\n                .then(() => setSubmitting(false));\n        }\n    };\n\n    if (redirectToReferrer === true) {\n        return <Redirect to={state?.from || '/'} />\n    }\n\n    return (\n        <div className=\"login-container\" style={{backgroundImage: 'url(/login-background.jpg)'}}>\n            <div className=\"contrast-overlay\" />\n            <Container className=\"login-content-container\">\n                <p className=\"login-text text-container with-image-underlay\">Log in to access your photos, notes, saved restaurants, and much more.</p>\n                <LoginForm {...formProps} />\n            </Container>\n            { messages }\n        </div>\n    );\n};\n\nexport default Login;\n","import './SignUpForm.css';\nimport { FormGroup, FormFeedback } from \"reactstrap\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport { Link } from \"react-router-dom\";\nimport SpinnerButton from \"../../common/SpinnerButton/SpinnerButton\";\nimport setFieldClass from \"../../../utils/setFieldClass\";\nimport withNavigationTracking from \"../../../utils/withNavigationTracking/withNavigationTracking\";\n\nconst TrackedLink = withNavigationTracking(Link);\n\n// TODO: Open issue - Webkit autocomplete classes hide validation icons in form fields\nconst SignUpForm = ({ submitting, initialValues, validationSchema, onSubmit }) => {\n    return (\n        <Formik\n            initialValues={initialValues}\n            validationSchema={validationSchema}\n            onSubmit={onSubmit}\n        >\n            {(formik) => {\n                const { errors, touched, isValid, dirty } = formik;\n\n                return (\n                    <Form className=\"sign-up-form\">\n                        <FormGroup>\n                            <Field required type=\"text\" name=\"username\" placeholder=\"Username\"\n                                   className={setFieldClass(touched.username, errors.username)} />\n                            <ErrorMessage name=\"username\" component={FormFeedback}\n                                    className=\"field-error-feedback\" />\n                        </FormGroup>\n                        <FormGroup>\n                            <Field required type=\"email\" name=\"email\" placeholder=\"Email\"\n                                    className={setFieldClass(touched.email, errors.email)}/>\n                            <ErrorMessage name=\"email\" component={FormFeedback}\n                                          className=\"field-error-feedback\" />\n                        </FormGroup>\n                        <FormGroup>\n                            <Field required type=\"password\" name=\"password\" placeholder=\"Password\"\n                                    className={setFieldClass(\n                                        touched.password, errors.password)} />\n                            <ErrorMessage name=\"password\" component={FormFeedback}\n                                          className=\"field-error-feedback\" />\n                        </FormGroup>\n                        <FormGroup>\n                            <Field required type=\"password\" name=\"passwordConfirm\"\n                                   placeholder=\"Confirm Password\"\n                                   className={setFieldClass(\n                                       touched.passwordConfirm, errors.passwordConfirm)} />\n                            <ErrorMessage name=\"passwordConfirm\" component={FormFeedback}\n                                          className=\"field-error-feedback\" />\n                        </FormGroup>\n                        <SpinnerButton spin={submitting} text={\"Sign Up\"} disabled={!(dirty && isValid)} color=\"danger\" block />\n                        <p className=\"have-account-text text-container with-image-underlay\">Have an account? <TrackedLink className=\"login-link\" to=\"/user/login\">Log in here.</TrackedLink></p>\n                    </Form>\n                );\n            }}\n        </Formik>\n    );\n};\n\nexport default SignUpForm;\n","import * as Yup from \"yup\";\n\nconst validationSchema = Yup.object().shape({\n    username: Yup.string()\n        .min(1, \"Username is too short.\")\n        .max(50, \"Username is too long.\")\n        .required(\"Username is required.\"),\n    email: Yup.string()\n        .email(\"Email is not valid.\")\n        .required(\"Email is required.\"),\n    password: Yup.string()\n        .required(\"Password is required.\")\n        .min(8, \"Password is too short.\")\n        .matches(\n            /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\\^&\\*])(?=.{8,})/,\n            \"Please use a stronger password.\"\n        ),\n    passwordConfirm: Yup.string()\n        .required(\"Password confirmation is required.\")\n        .min(8, \"Passwords do not match.\")\n        .when(\"password\", {\n            is: val => (val && (val.length > 0)),\n            then: Yup.string()\n                .oneOf(\n                    [Yup.ref(\"password\"), null],\n                    \"Passwords do not match.\"\n                )\n        })\n});\n\nexport default validationSchema;\n","import './SignUp.css';\nimport { useState, useEffect } from 'react';\nimport { Container } from 'reactstrap';\nimport { Redirect, useLocation } from 'react-router-dom';\nimport SignUpForm from './SignUpForm/SignUpForm';\nimport validationSchema from '../../../common/signUpValidationSchema';\nimport { useAuth } from \"../../utils/auth/useAuth\";\nimport useFlashMessages from \"../../utils/useFlashMessages/useFlashMessages\";\n\nconst initialValues = {\n    name: '',\n    email: '',\n    password: '',\n    passwordConfirm: ''\n};\n\nconst onSubmit = (setSubmitting, setResponse, auth) => values => {\n    console.log(\"values: \", values);\n    setSubmitting(true);\n    const likedMedia = auth.getUser().getLikedMedia().listify();\n    console.log(\"Liked media for signup:\", likedMedia);\n    return auth.signUp({ ...values, likedMedia })\n        .then(setResponse)\n        .then(() => setSubmitting(false))\n        .catch(e => console.error(e));\n}\n\nconst SignUp = () => {\n    const [ response, setResponse ] = useState(null);\n    const [ submitting, setSubmitting ] = useState(false);\n    const [ redirectToReferrer, setRedirectToReferrer ] = useState(false)\n\n    const auth = useAuth();\n    const { messages, setErrorMessages, setSuccessMessages } = useFlashMessages();\n    const { state } = useLocation();\n\n    const formProps = {\n        submitting,\n        initialValues,\n        validationSchema,\n        onSubmit: onSubmit(setSubmitting, setResponse, auth)\n    };\n\n    useEffect(() => {\n        console.log(\"response:\", response);\n        if (response?.success) {\n            setSuccessMessages([\"Account successfully registered.\"]);\n            setTimeout(() => setRedirectToReferrer(true), 500);\n        } else if (response?.errors?.length) {\n            setErrorMessages(response.errors);\n        }\n    }, [response]);\n\n    if (redirectToReferrer === true) {\n        return <Redirect to={state?.from || '/'} />\n    }\n\n    return (\n        <div className=\"sign-up-container\" style={{backgroundImage: 'url(/sign-up-background.jpg)'}}>\n            <div className=\"contrast-overlay\" />\n            <Container className=\"sign-up-content-container\">\n                <p className=\"sign-up-text text-container with-image-underlay\">\n                    Sign up to share content, follow users, and access favorites across devices.\n                </p>\n                <SignUpForm {...formProps} />\n            </Container>\n            { messages }\n        </div>\n    );\n};\n\nexport default SignUp;\n","export function HomeIcon() {\n    return <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"home\" role=\"img\"\n                xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 576 512\"\n                className=\"svg-inline--fa fa-home fa-w-18 fa-2x\">\n        <path fill=\"currentColor\"\n              d=\"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z\"\n              className=\"\"/>\n    </svg>;\n}","export function SearchIcon() {\n    return <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"far\" data-icon=\"search\" role=\"img\"\n                xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"\n                className=\"svg-inline--fa fa-search fa-w-16 fa-2x\">\n        <path fill=\"currentColor\"\n              d=\"M508.5 468.9L387.1 347.5c-2.3-2.3-5.3-3.5-8.5-3.5h-13.2c31.5-36.5 50.6-84 50.6-136C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c52 0 99.5-19.1 136-50.6v13.2c0 3.2 1.3 6.2 3.5 8.5l121.4 121.4c4.7 4.7 12.3 4.7 17 0l22.6-22.6c4.7-4.7 4.7-12.3 0-17zM208 368c-88.4 0-160-71.6-160-160S119.6 48 208 48s160 71.6 160 160-71.6 160-160 160z\"\n              className=\"\"/>\n    </svg>;\n}","export function PlusIcon() {\n    return <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"far\" data-icon=\"plus-circle\" role=\"img\"\n                xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"\n                className=\"svg-inline--fa fa-plus-circle fa-w-16 fa-2x\">\n        <path fill=\"currentColor\"\n              d=\"M384 240v32c0 6.6-5.4 12-12 12h-88v88c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-88h-88c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h88v-88c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v88h88c6.6 0 12 5.4 12 12zm120 16c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-48 0c0-110.5-89.5-200-200-200S56 145.5 56 256s89.5 200 200 200 200-89.5 200-200z\"\n              className=\"\"/>\n    </svg>;\n}","export function PinIcon() {\n    return <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"map-marker-alt\"\n                role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\"\n                className=\"svg-inline--fa fa-map-marker-alt fa-w-12 fa-2x\">\n        <path fill=\"currentColor\"\n              d=\"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z\"\n              className=\"\"/>\n    </svg>;\n}","export function UserIcon() {\n    return <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"user\" role=\"img\"\n                xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"\n                className=\"svg-inline--fa fa-user fa-w-14 fa-2x\">\n        <path fill=\"currentColor\"\n              d=\"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z\"\n              className=\"\"/>\n    </svg>;\n}","import './Footer.css';\nimport {Nav, Navbar, NavItem} from \"reactstrap\";\nimport {NavLink} from 'react-router-dom';\nimport {HomeIcon} from \"./HomeIcon\";\nimport {SearchIcon} from \"./SearchIcon\";\nimport {PlusIcon} from \"./PlusIcon\";\nimport {PinIcon} from \"./PinIcon\";\nimport {UserIcon} from \"./UserIcon\";\nimport withNavigationTracking from \"../../utils/withNavigationTracking/withNavigationTracking\";\n\nconst TrackedLink = withNavigationTracking(NavLink);\n\nconst Footer = ({ openedHeader, setOpenedHeader }) => {\n    return (\n        <Navbar className=\"footer-navbar fixed-bottom\" color=\"light\" light>\n            <Nav>\n                <NavItem>\n                    <TrackedLink className=\"nav-link\" to=\"/\">\n                        <HomeIcon/>\n                    </TrackedLink>\n                </NavItem>\n            </Nav>\n            <Nav>\n                <NavItem>\n                    <NavLink className=\"nav-link\" to=\"#\" onClick={() => setOpenedHeader(!openedHeader)}>\n                        <SearchIcon />\n                    </NavLink>\n                </NavItem>\n            </Nav>\n            <Nav>\n                <NavItem>\n                    <TrackedLink className=\"nav-link\" to=\"/upload\">\n                        <PlusIcon/>\n                    </TrackedLink>\n                </NavItem>\n            </Nav>\n            <Nav>\n                <NavItem>\n                    <TrackedLink className=\"nav-link\" to=\"/map\">\n                        <PinIcon/>\n                    </TrackedLink>\n                </NavItem>\n            </Nav>\n            <Nav>\n                <NavItem>\n                    <TrackedLink className=\"nav-link\" to=\"/user/profile\">\n                        <UserIcon/>\n                    </TrackedLink>\n                </NavItem>\n            </Nav>\n        </Navbar>\n    );\n};\n\nexport default Footer;\n","import './FeatureNotAvailable.css';\nimport { Container } from 'reactstrap';\n\nconst FeatureNotAvailable = ({ featureName }) => (\n    <div className=\"feature-not-available-container\" style={{backgroundImage: 'url(/feature-not-available-background.jpg)'}}>\n        <div className=\"contrast-overlay\" />\n        <Container className=\"feature-not-available-content\">\n            <div className=\"text-container with-image-underlay\">\n                <h2 className=\"content-header\">We're sorry, but <span className=\"feature-phrase\">the <span className=\"feature-name\">{featureName}</span> page</span> isn't available yet.</h2>\n                <p className=\"content-text\">But you can be sure that, like a good bar, this feature is just around the corner. 🥂</p>\n            </div>\n        </Container>\n    </div>\n);\n\nexport default FeatureNotAvailable;\n","import FeatureNotAvailable from \"../common/FeatureNotAvailable/FeatureNotAvailable\";\n\nconst Upload = ({}) => (\n    <FeatureNotAvailable featureName=\"upload\" />\n);\n\nexport default Upload;\n","import FeatureNotAvailable from \"../common/FeatureNotAvailable/FeatureNotAvailable\";\n\nconst Map = ({}) => (\n    <FeatureNotAvailable featureName=\"map\" />\n);\n\nexport default Map;\n","import './Profile.css';\nimport RestaurantsList from \"../common/RestaurantsList/RestaurantsList\";\nimport {useAuth} from \"../../utils/auth/useAuth\";\nimport {Fragment, useEffect, useState} from \"react\";\nimport {Input, InputGroup } from \"reactstrap\";\nimport Fuse from 'fuse.js';\n\nconst getFilterData = (restaurants, notes) => {\n    return restaurants.map(restaurant => ({\n        ...restaurant,\n        notes: (restaurant.id in notes)\n            ? notes[restaurant.id]\n            : []\n    }));\n};\n\nconst getUserRestaurantIDs = (user) => {\n    const { likedMedia, notes } = user;\n    // Ensure unique\n    const restaurantIDs = new Set([].concat(Object.keys(likedMedia.listify()), Object.keys(notes)));\n    // console.log(\"restaurantIDs:\", restaurantIDs);\n    return Array.from(restaurantIDs);\n};\n\nconst Profile = ({ restaurantProps }) => {\n    const auth = useAuth();\n    const [filterQuery, setFilterQuery] = useState('');\n    const [userRestaurants, setUserRestaurants] = useState([]);\n\n    const { getRestaurantDataByID } = restaurantProps;\n\n    useEffect(() => {\n        const userRestaurantIDs = getUserRestaurantIDs(auth.getUser());\n        const currentRestaurantIDs = userRestaurants.map(restaurant => restaurant.id);\n\n        if ((userRestaurantIDs.length !== userRestaurants.length) || userRestaurantIDs.some(id => !currentRestaurantIDs.includes(id))) {\n            Promise.all(userRestaurantIDs.map(getRestaurantDataByID))\n                .then(setUserRestaurants)\n                .catch(e => {\n                    throw e;\n                });\n        }\n    }, [userRestaurants]);\n\n    const getRestaurantIDs = (restaurantIDs, filterQuery, filterData) => {\n        if (filterQuery) {\n            const fuse = new Fuse(filterData, {\n                keys: ['address', 'categories', 'name', 'neighborhoods', 'notes'],\n                includeScore: true,\n                includeMatches: true,\n                threshold: 0.3\n            });\n\n            return fuse.search(filterQuery).map(result => result.item.id);\n        }\n\n        return restaurantIDs;\n    };\n\n    const userRestaurantIDs = getUserRestaurantIDs(auth.getUser());\n\n    const restaurantIDs = getRestaurantIDs(\n        userRestaurantIDs,\n        filterQuery,\n        getFilterData(userRestaurants, auth.getUser().getNotes())\n    );\n\n    return (\n        <div className=\"user-profile\">\n            {\n                userRestaurantIDs.length\n                    ? (\n                        <Fragment>\n                            <InputGroup className=\"filter-input-group\">\n                                <Input className=\"filter-input\" type=\"text\" value={filterQuery} onChange={e => setFilterQuery(e.target.value)} placeholder=\"Filter restaurants\" />\n                            </InputGroup>\n                            <RestaurantsList {...{ restaurantIDs, restaurantProps }} />\n                        </Fragment>\n                    )\n                    : (\n                        <div className=\"no-profile-container\" style={{backgroundImage: 'url(/feature-not-available-background.jpg)'}}>\n                            <div className=\"contrast-overlay\" />\n                            <div className=\"no-profile-content text-container with-image-underlay\">\n                                <h2 className=\"no-profile-content-header\">We don't know <span className=\"feature-phrase\">your favorite spots,</span> yet.</h2>\n                                <p className=\"no-profile-content-message\">Start by searching for restaurants in your area.</p>\n                                <p className=\"no-profile-content-message\">Then, heart images you like or write notes for places so you can find them later.</p>\n                                <p className=\"no-profile-content-message\">When you're hungry, come back here to filter your favorites for your next great meal.</p>\n                            </div>\n                        </div>\n                    )\n            }\n        </div>\n    )\n};\n\nexport default Profile;\n","import { Route, Redirect } from 'react-router-dom';\nimport {useEffect, useState} from \"react\";\n\nconst PrivateRoute = ({ children, auth, redirect, ...rest }) => {\n    const [checkAuthentication, setCheckAuthentication] = useState(true);\n\n    useEffect(() => {\n        if (checkAuthentication) {\n            if (auth.hasCheckedAuthentication()) {\n                setCheckAuthentication(false);\n            } else {\n                auth.authenticate()\n                    .then(() => setCheckAuthentication(false));\n            }\n        }\n    }, [checkAuthentication]);\n\n    if (!auth.hasCheckedAuthentication())\n        return null;\n\n    return (\n        <Route {...rest} render={({location}) => {\n            return auth.isAuthenticated()\n                ? children\n                : <Redirect to={{\n                    pathname: redirect,\n                    state: {from: location}\n                }}/>\n        }}/>\n    );\n};\n\nexport default PrivateRoute;\n","import {useParams} from \"react-router-dom\";\n\nconst withIDFromURL = Component => (props) => {\n    const { id } = useParams();\n    return <Component {...props} id={id} />\n};\n\nexport default withIDFromURL;\n","export default (width, height, color, className, onClick = () => {}) => {\r\n\treturn (\r\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width={width} height={height} fill={color} className={className} onClick={onClick} viewBox=\"0 0 16 16\">\r\n\t\t  <path d=\"M8 6.236l-.894-1.789c-.222-.443-.607-1.08-1.152-1.595C5.418 2.345 4.776 2 4 2 2.324 2 1 3.326 1 4.92c0 1.211.554 2.066 1.868 3.37.337.334.721.695 1.146 1.093C5.122 10.423 6.5 11.717 8 13.447c1.5-1.73 2.878-3.024 3.986-4.064.425-.398.81-.76 1.146-1.093C14.446 6.986 15 6.131 15 4.92 15 3.326 13.676 2 12 2c-.777 0-1.418.345-1.954.852-.545.515-.93 1.152-1.152 1.595L8 6.236zm.392 8.292a.513.513 0 0 1-.784 0c-1.601-1.902-3.05-3.262-4.243-4.381C1.3 8.208 0 6.989 0 4.92 0 2.755 1.79 1 4 1c1.6 0 2.719 1.05 3.404 2.008.26.365.458.716.596.992a7.55 7.55 0 0 1 .596-.992C9.281 2.049 10.4 1 12 1c2.21 0 4 1.755 4 3.92 0 2.069-1.3 3.288-3.365 5.227-1.193 1.12-2.642 2.48-4.243 4.38z\"/>\r\n\t\t</svg>\r\n\t);\r\n}","import './MediaModal.css';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport MapLink from \"../common/MapLink/MapLink\";\r\nimport getUnlikedMediaIcon from '../../utils/getUnlikedMediaIcon';\r\nimport getLikedMediaIcon from '../../utils/getLikedMediaIcon';\r\nimport { useDoubleTap } from \"use-double-tap\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nfunction formatCaption(caption) {\r\n\treturn caption ? `\"${caption}\"` : \"[ No Caption ]\";\r\n}\r\n\r\nfunction MediaModal({selected, onMediaLikeToggle, onRestaurantLinkClick, onClose, isLiked }) {\r\n\tconst {media, restaurant} = selected;\r\n\tconst {source, caption} = media;\r\n\tconst {name, address, neighborhoods, categories, rating} = restaurant;\r\n\tconst onIconClick = () => onMediaLikeToggle(media.id);\r\n\tconst mobileDoubleClickHandler = useDoubleTap(onIconClick);\r\n\r\n\treturn (\r\n\t\t<Modal isOpen={!!selected} toggle={onClose} className=\"media-modal-container\">\r\n\t\t\t<ModalHeader toggle={onClose}>\r\n\t\t\t\t<div className=\"caption\">{formatCaption(caption)}</div>\r\n\t\t\t</ModalHeader>\r\n\t\t\t<ModalBody>\r\n\t\t\t\t<div className=\"modal-info-container\">\r\n\t\t\t\t\t<div className=\"modal-image-container\">\r\n\t\t\t\t\t\t<img className=\"food-media modal-image\" src={source}  onDoubleClick={onIconClick} {...mobileDoubleClickHandler} />\r\n\t\t\t\t\t\t{ isLiked ? getLikedMediaIcon(\"32\", \"32\", \"white\", \"liked-media-icon\", onIconClick) : getUnlikedMediaIcon(\"32\", \"32\", \"white\", \"unliked-media-icon\", onIconClick) }\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"restaurant-details-container\">\r\n\t\t\t\t\t\t{name && <Link className=\"restaurant-name\" to={`/restaurant/${restaurant.id}`} onClick={onRestaurantLinkClick}><div>{name}</div></Link>}\r\n\t\t\t\t\t\t{address && <MapLink className=\"restaurant-address\" address={address} />}\r\n\t\t\t\t\t\t{neighborhoods && <div className=\"restaurant-neighborhoods\">{neighborhoods.join(\", \")}</div>}\r\n\t\t\t\t\t\t{categories && <div className=\"restaurant-categories\">{categories.join(\", \")}</div>}\r\n\t\t\t\t\t\t{rating && <div className=\"restaurant-rating\">{rating}</div>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t        </ModalBody>\r\n\t        <ModalFooter>\r\n\t\t\t\t<Button color=\"secondary\" onClick={onClose}>Close</Button>\r\n\t\t\t</ModalFooter>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n\r\nexport default MediaModal;\r\n","import './App.css';\nimport { useState, useEffect } from 'react';\nimport { Switch, Route, useHistory, useLocation } from 'react-router-dom';\nimport constants from \"../../constants/constants\";\nimport yelpConstants from \"../../scrapers/yelp/constants\";\nimport Lookup from '../../lookup/Lookup';\nimport StorageFactory from '../../storage/StorageFactory';\nimport LikedMedia from '../../user/LikedMedia';\nimport EventTracker from \"../../tracking/EventTracker\";\nimport ReactGA from 'react-ga';\nimport urlWithSearchParams from '../../search/urlWithSearchParams';\nimport Header from './Header/Header';\nimport Home from './Home/Home';\nimport SearchResults from './SearchResults/SearchResults';\nimport About from './About/About';\nimport Contact from './Contact/Contact';\nimport Login from './Login/Login';\nimport Restaurant from \"./Restaurant/Restaurant\";\nimport SignUp from \"./SignUp/SignUp\";\nimport Footer from \"./Footer/Footer\";\nimport Upload from \"./Upload/Upload\";\nimport Map from \"./Map/Map\";\nimport Profile from \"./Profile/Profile\";\nimport PrivateRoute from \"./common/PrivateRoute/PrivateRoute\";\nimport scrollToTop from \"../utils/scrollToTop\";\nimport {useAuth} from \"../utils/auth/useAuth\";\nimport withIDFromURL from \"../utils/withIDFromURL/withIDFromURL\";\nimport MediaModal from \"./MediaModal/MediaModal\";\n\nconst { EVENT_TRACKING_TOKEN, GOOGLE_ANALYTICS_ID } = constants;\nconst { distances } = yelpConstants;\nconst lookup = new Lookup();\nconst storage = new StorageFactory().get(window.localStorage);\nconst likedMedia = new LikedMedia(getLikedMedia(storage));\nconst eventTracker = new EventTracker(EVENT_TRACKING_TOKEN);\nconst { events } = constants;\nconst RestaurantPage = withIDFromURL(Restaurant);\n\neventTracker.track(events.PAGE_VISIT, { pathname: window.location.pathname });\n\nfunction getLikedMedia(storage) {\n\ttry {\n\t\treturn storage.get('likedMedia');\n\t} catch (e) {\n\t\twindow.console.debug(e);\n\t}\n}\n\nconst isLikedMedia = (auth, lookup) => (id) => {\n\tconst { likedMedia } = auth.getUser();\n\treturn id && likedMedia.isLiked(lookup.getRestaurantIDByMediaID(id), id);\n};\n\nfunction toggleLikedMedia(id, auth, setLikedMediaJSON) {\n\tconst { LIKE_MEDIA, UNLIKE_MEDIA } = events;\n\tconst { likedMedia } = auth.getUser();\n\tconst restaurantID = lookup.getRestaurantIDByMediaID(id);\n\tconst likedState = likedMedia.toggle(restaurantID, id);\n\teventTracker.track(likedState ? LIKE_MEDIA : UNLIKE_MEDIA);\n\tstorage.set('likedMedia', likedMedia.serialize());\n\tsetLikedMediaJSON(likedMedia.getAll());\n\n\tif (auth.isAuthenticated()) {\n\t\tif (likedState) {\n\t\t\tauth.like({[restaurantID]: [id]})\n\t\t\t\t.catch(e => console.error(e));\n\t\t} else {\n\t\t\tauth.unlike({[restaurantID]: [id]})\n\t\t\t\t.catch(e => console.error(e));\n\t\t}\n\t}\n}\n\nfunction updateSearchURL({description, location, distance}, history) {\n\tconsole.log(\"updateSearchURL()\");\n\tconsole.log(\"description:\", description);\n\tconsole.log(\"location:\", location);\n\tconsole.log(\"distance:\", distance);\n\n\tif (!location)\n\t\treturn;\n\n\tconst url = urlWithSearchParams('/gallery', {description, location, distance});\n\tconsole.log(\"url:\", url);\n\treturn history.push(url);\n}\n\nfunction getSelectedMediaInfo(selectedID, lookup) {\n\tconst media = lookup.getMediaByID(selectedID);\n\tconst restaurant = lookup.getRestaurantByID(lookup.getRestaurantIDByMediaID(selectedID));\n\treturn { media, restaurant };\n}\n\nfunction checkResponseForErrors(response) {\n\tif (response.ok) {\n\t\treturn response;\n\t}\n\n\tthrow new Error(response.statusText);\n}\n\nfunction checkSearchJSONForErrors(restaurants) {\n\tconst hasMedia = restaurants.some(restaurant => restaurant.mediaCount > 0);\n\n\tif (hasMedia) {\n\t\treturn restaurants;\n\t}\n\n\tthrow new Error(\"Nothing to see here.\");\n}\n\nfunction getRestaurantJSON(url) {\n\treturn fetch(url)\n\t\t.then(checkResponseForErrors)\n\t\t.then(convertResponseToJSON)\n\t\t.then(checkSearchJSONForErrors);\n}\n\nfunction convertResponseToJSON(response) {\n\treturn response.text()\n\t\t.then(text => {\n\t\t\t// console.log(\"Restaurant JSON (text):\", text);\n\t\t\treturn JSON.parse(text);\n\t\t});\n}\n\nfunction getRestaurantDataByID(id) {\n\tconst restaurant = lookup.getRestaurantByID(id);\n\n\tif (restaurant)\n\t\treturn Promise.resolve(restaurant);\n\n\tconsole.warn(`Restaurant data not in lookup: ${id}`);\n\tconst url = `/restaurant-lookup?id=${id}`;\n\treturn fetch(url)\n\t\t.then(checkResponseForErrors)\n\t\t.then(convertResponseToJSON)\n\t\t.then(restaurant => {\n\t\t\tif (!restaurant) {\n\t\t\t\tthrow new Error(\"Could not find that restaurant.\");\n\t\t\t}\n\n\t\t\t// Update expects an array of restaurants\n\t\t\tlookup.update(url, [restaurant]);\n\t\t\treturn restaurant;\n\t\t});\n}\n\nfunction onError(e, setError, eventTracker) {\n\twindow.console.error(e);\n\teventTracker.track(events.ERROR, { message: e.message });\n\tsetError(e);\n}\n\nconst onRestaurantLinkClick = (setSelectedMediaID) => () => {\n\teventTracker.track(events.OPEN_RESTAURANT_PAGE);\n\tsetSelectedMediaID('');\n\tscrollToTop();\n}\n\nconst onDistanceDropdownClick = setDistance => distance => {\n\tsetDistance(distance);\n};\n\nconst onShowLikedChange = setShowLiked => showLiked => {\n\tconst { SHOW_LIKED_MEDIA, SHOW_ALL_MEDIA } = events;\n\teventTracker.track(showLiked ? SHOW_LIKED_MEDIA : SHOW_ALL_MEDIA);\n\tsetShowLiked(showLiked);\n};\n\nconst getInitialSearchState = (param, fallback, browserLocation) => {\n\treturn new URLSearchParams(browserLocation.search).get(param) || fallback;\n};\n\nconst isGalleryPage = pathname => pathname.startsWith('/gallery');\nconst isHomePage = pathname => pathname === '/';\n\nfunction App() {\n\tconst history = useHistory();\n\tconst browserLocation = useLocation();\n\tconst auth = useAuth();\n\n\tconst [loggedIn, setLoggedIn] = useState(false);\n\tconst [restaurants, setRestaurants] = useState([]);\n\tconst [ canRenderSignUpButton, setCanRenderSignUpButton ] = useState(false);\n\t// Used solely to re-render components on changes\n\tconst [likedMediaJSON, setLikedMediaJSON] = useState({});\n\tconst [openedHeader, setOpenedHeader] = useState(false);\n\tconst [description, setDescription] = useState(getInitialSearchState(\"description\", \"\", browserLocation));\n\tconst [location, setLocation] = useState(getInitialSearchState(\"location\", '', browserLocation));\n\tconst [distance, setDistance] = useState(getInitialSearchState(\"distance\", distances.UNKNOWN, browserLocation));\n\tconst [requestingLocation, setRequestingLocation] = useState(false);\n\tconst [selectedMediaID, setSelectedMediaID] = useState('');\n\tconst [searching, setSearching] = useState(false);\n\tconst [error, setError] = useState(null);\n\tconst [showLiked, setShowLiked] = useState(false);\n\n    console.log(\"browserLocation:\", browserLocation);\n    const { pathname, search } = browserLocation;\n    const lookupKey = pathname + search;\n\n    // Check authentication status once on initial render\n    useEffect(() => {\n    \t// Set liked media for null user before rendering any children\n\t\tauth.getUser().setLikedMedia(likedMedia);\n\n    \tauth.authenticate()\n\t\t\t.then(() => {\n\t\t\t\tif (auth.isAuthenticated()) {\n\t\t\t\t\tconsole.log(`Welcome back, ${auth.getUser().getUsername()}!`);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(\"New user.\");\n\t\t\t\t\tconsole.log(auth.getUser());\n\t\t\t\t\tsetCanRenderSignUpButton(true);\n\t\t\t\t}\n\t\t\t})\n\t}, []);\n\n    useEffect(() => {\n    \tif (setLoggedIn !== auth.isAuthenticated()) {\n\t\t\tsetLoggedIn(auth.isAuthenticated());\n\t\t}\n\t}, []);\n\n\t// console.log(\"selectedMediaID:\", selectedMediaID);\n\tuseEffect(() => {\n        setError(null);\n\n        if (!isGalleryPage(pathname) && !isHomePage(pathname))\n            return;\n\n        const cachedRestaurants = lookup.getRestaurantsByURL(lookupKey);\n\n        if (cachedRestaurants) {\n            setRestaurants(cachedRestaurants);\n            scrollToTop();\n        } else if (search) {\n            setSearching(true);\n            eventTracker.track(events.SEARCH, { description, location, distance });\n\n            const searchURL = urlWithSearchParams('/search', {description, location, distance});\n\n            getRestaurantJSON(searchURL)\n                .then(json => {\n                    lookup.update(lookupKey, json);\n                    console.log(\"lookup:\", lookup);\n                    setRestaurants(json);\n                    setSearching(false);\n                    scrollToTop();\n                })\n                .catch(e => onError(e, setError, eventTracker));\n\t\t} else if (pathname === '/') {\n\t\t\tgetRestaurantJSON('./home-page-restaurants.json')\n\t\t\t\t.then(json => {\n\t\t\t\t\tlookup.update(lookupKey, json);\n\t\t\t\t\tsetRestaurants(json);\n\t\t\t\t})\n\t\t\t\t.catch(e => onError(e, setError, eventTracker));\n\t\t}\n\t}, [browserLocation]);\n\n\tuseEffect(() => {\n\t\tupdateSearchURL({description, location, distance}, history);\n\t}, [distance]);\n\n\tuseEffect(() => {\n\t\tif (requestingLocation) {\n\t\t\teventTracker.track(events.REQUEST_CURRENT_LOCATION);\n\t\t}\n\t}, [requestingLocation]);\n\n\tuseEffect(() => {\n\t\tif (selectedMediaID) {\n\t\t\teventTracker.track(events.CLICK_GALLERY_MEDIA);\n\t\t}\n\t}, [selectedMediaID]);\n\n\t// Initialize Google Analytics page view tracking\n\tif (GOOGLE_ANALYTICS_ID) {\n\t\twindow.console.log(\"Initializing Google Analytics.\");\n\n\t\thistory.listen(location => {\n\t\t\tReactGA.initialize(GOOGLE_ANALYTICS_ID);\n\t\t\tReactGA.set({ page: location.pathname });\n\t\t\tReactGA.pageview(location.pathname);\n\t\t});\n\t}\n\n\tconst headerProps = {\n\t\tloggedIn,\n\t\topenedHeader,\n\t\tsetOpenedHeader,\n\t\tcanRenderSignUpButton,\n\t\tdescription,\n\t\tsetDescription,\n\t\tlocation,\n\t\tsetLocation,\n\t\trequestingLocation,\n\t\tsetRequestingLocation,\n\t\tdistance,\n\t\tonDistanceDropdownClick: onDistanceDropdownClick(setDistance),\n\t\tonShowLikedChange: onShowLikedChange(setShowLiked),\n\t\tonSearchRequest: () => updateSearchURL({description, location, distance}, history)\n\t};\n\n\tconst mediaModalProps = {\n\t\tisAuthenticated: auth.isAuthenticated(),\n\t\tselected: getSelectedMediaInfo(selectedMediaID, lookup),\n\t\tonMediaLikeToggle: (id) => toggleLikedMedia(id, auth, setLikedMediaJSON),\n\t\tonRestaurantLinkClick: onRestaurantLinkClick(setSelectedMediaID),\n\t\tonClose: () => setSelectedMediaID(''),\n\t\tisLiked: isLikedMedia(auth, lookup)(selectedMediaID)\n\t};\n\n\tconst galleryProps = {\n\t\tsearching,\n\t\tshowLiked,\n\t\trestaurants,\n\t\tisAuthenticated: auth.isAuthenticated(),\n\t\tisLikedMedia: isLikedMedia(auth, lookup),\n\t\tonMediaSelection: setSelectedMediaID\n\t};\n\n\tconst restaurantProps = {\n\t\tgetRestaurantDataByID,\n\t\tgalleryProps,\n\t\tisLikedMedia: isLikedMedia(auth, lookup)\n\t};\n\n\tconst searchResultsProps = {\n\t\terror,\n\t\tgalleryProps,\n\t\trestaurantProps,\n\t\tonViewSelection: listView => eventTracker.track(listView ? events.SEARCH_RESULTS_VIEW_LIST : events.SEARCH_RESULTS_VIEW_GALLERY)\n\t};\n\n\treturn (\n\t\t<div className=\"app\">\n\t\t\t<Header {...headerProps} />\n\t\t\t<Switch>\n\t\t\t\t<Route exact path={'/'}>\n\t\t\t\t\t<Home {...galleryProps} restaurants={lookup.getRestaurantsByURL(lookupKey) || []} />\n\t\t\t\t</Route>\n\t\t\t\t<Route path={'/gallery'}>\n\t\t\t\t\t<SearchResults {...searchResultsProps} />\n\t\t\t\t</Route>\n\t\t\t\t<Route path={'/about'}>\n\t\t\t\t\t<About />\n\t\t\t\t</Route>\n\t\t\t\t<Route path={'/contact'}>\n\t\t\t\t\t<Contact />\n\t\t\t\t</Route>\n\t\t\t\t<Route path={'/user/login'}>\n\t\t\t\t\t<Login />\n\t\t\t\t</Route>\n\t\t\t\t<Route path={'/restaurant/:id'}>\n\t\t\t\t\t<RestaurantPage {...restaurantProps} />\n\t\t\t\t</Route>\n\t\t\t\t<Route path={'/user/signup'}>\n\t\t\t\t\t<SignUp />\n\t\t\t\t</Route>\n\t\t\t\t<Route path={'/upload'}>\n\t\t\t\t\t<PrivateRoute {...{ auth, redirect: '/user/login' }}>\n\t\t\t\t\t\t<Upload />\n\t\t\t\t\t</PrivateRoute>\n\t\t\t\t</Route>\n\t\t\t\t<Route path={'/map'}>\n\t\t\t\t\t<PrivateRoute {...{ auth, redirect: '/user/login' }}>\n\t\t\t\t\t\t<Map />\n\t\t\t\t\t</PrivateRoute>\n\t\t\t\t</Route>\n\t\t\t\t<Route path={'/user/profile'}>\n\t\t\t\t\t<PrivateRoute {...{ auth, redirect: '/user/login' }}>\n\t\t\t\t\t\t<Profile {...{restaurantProps}} />\n\t\t\t\t\t</PrivateRoute>\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t\t{ selectedMediaID && <MediaModal {...mediaModalProps} /> }\n\t\t\t<Footer {...{openedHeader, setOpenedHeader}} />\n\t\t</div>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { ProvideAuth } from \"./components/utils/auth/useAuth\";\n\nReactDOM.render(\n  <React.StrictMode>\n      <Router>\n          <ProvideAuth>\n              <App />\n          </ProvideAuth>\n      </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}